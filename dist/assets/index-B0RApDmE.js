function Pf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Of(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var gc={exports:{}},vi={},vc={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jr=Symbol.for("react.element"),Rf=Symbol.for("react.portal"),Lf=Symbol.for("react.fragment"),Ff=Symbol.for("react.strict_mode"),$f=Symbol.for("react.profiler"),Af=Symbol.for("react.provider"),If=Symbol.for("react.context"),Uf=Symbol.for("react.forward_ref"),Df=Symbol.for("react.suspense"),Mf=Symbol.for("react.memo"),zf=Symbol.for("react.lazy"),$a=Symbol.iterator;function Bf(e){return e===null||typeof e!="object"?null:(e=$a&&e[$a]||e["@@iterator"],typeof e=="function"?e:null)}var yc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wc=Object.assign,xc={};function Qn(e,t,n){this.props=e,this.context=t,this.refs=xc,this.updater=n||yc}Qn.prototype.isReactComponent={};Qn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _c(){}_c.prototype=Qn.prototype;function bl(e,t,n){this.props=e,this.context=t,this.refs=xc,this.updater=n||yc}var Cl=bl.prototype=new _c;Cl.constructor=bl;wc(Cl,Qn.prototype);Cl.isPureReactComponent=!0;var Aa=Array.isArray,kc=Object.prototype.hasOwnProperty,Nl={current:null},Sc={key:!0,ref:!0,__self:!0,__source:!0};function jc(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)kc.call(t,r)&&!Sc.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Jr,type:e,key:i,ref:o,props:s,_owner:Nl.current}}function Vf(e,t){return{$$typeof:Jr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jr}function Hf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ia=/\/+/g;function Gi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hf(""+e.key):t.toString(36)}function Ps(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Jr:case Rf:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Gi(o,0):r,Aa(s)?(n="",e!=null&&(n=e.replace(Ia,"$&/")+"/"),Ps(s,t,n,"",function(c){return c})):s!=null&&(Pl(s)&&(s=Vf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ia,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Aa(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Gi(i,l);o+=Ps(i,t,n,a,s)}else if(a=Bf(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Gi(i,l++),o+=Ps(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function os(e,t,n){if(e==null)return e;var r=[],s=0;return Ps(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Wf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var we={current:null},Ts={transition:null},Gf={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:Ts,ReactCurrentOwner:Nl};function Ec(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:os,forEach:function(e,t,n){os(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return os(e,function(){t++}),t},toArray:function(e){return os(e,function(t){return t})||[]},only:function(e){if(!Pl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=Qn;$.Fragment=Lf;$.Profiler=$f;$.PureComponent=bl;$.StrictMode=Ff;$.Suspense=Df;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gf;$.act=Ec;$.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=wc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Nl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)kc.call(t,a)&&!Sc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Jr,type:e.type,key:s,ref:i,props:r,_owner:o}};$.createContext=function(e){return e={$$typeof:If,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Af,_context:e},e.Consumer=e};$.createElement=jc;$.createFactory=function(e){var t=jc.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:Uf,render:e}};$.isValidElement=Pl;$.lazy=function(e){return{$$typeof:zf,_payload:{_status:-1,_result:e},_init:Wf}};$.memo=function(e,t){return{$$typeof:Mf,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=Ts.transition;Ts.transition={};try{e()}finally{Ts.transition=t}};$.unstable_act=Ec;$.useCallback=function(e,t){return we.current.useCallback(e,t)};$.useContext=function(e){return we.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return we.current.useDeferredValue(e)};$.useEffect=function(e,t){return we.current.useEffect(e,t)};$.useId=function(){return we.current.useId()};$.useImperativeHandle=function(e,t,n){return we.current.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return we.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return we.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return we.current.useMemo(e,t)};$.useReducer=function(e,t,n){return we.current.useReducer(e,t,n)};$.useRef=function(e){return we.current.useRef(e)};$.useState=function(e){return we.current.useState(e)};$.useSyncExternalStore=function(e,t,n){return we.current.useSyncExternalStore(e,t,n)};$.useTransition=function(){return we.current.useTransition()};$.version="18.3.1";vc.exports=$;var x=vc.exports;const Tn=Tf(x),Kf=Pf({__proto__:null,default:Tn},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=x,Qf=Symbol.for("react.element"),Jf=Symbol.for("react.fragment"),Yf=Object.prototype.hasOwnProperty,Xf=qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zf={key:!0,ref:!0,__self:!0,__source:!0};function bc(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Yf.call(t,r)&&!Zf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Qf,type:e,key:i,ref:o,props:s,_owner:Xf.current}}vi.Fragment=Jf;vi.jsx=bc;vi.jsxs=bc;gc.exports=vi;var u=gc.exports,Cc={exports:{}},Le={},Nc={exports:{}},Pc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,O){var F=P.length;P.push(O);e:for(;0<F;){var Z=F-1>>>1,ie=P[Z];if(0<s(ie,O))P[Z]=O,P[F]=ie,F=Z;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var O=P[0],F=P.pop();if(F!==O){P[0]=F;e:for(var Z=0,ie=P.length,ss=ie>>>1;Z<ss;){var Wt=2*(Z+1)-1,Wi=P[Wt],Gt=Wt+1,is=P[Gt];if(0>s(Wi,F))Gt<ie&&0>s(is,Wi)?(P[Z]=is,P[Gt]=F,Z=Gt):(P[Z]=Wi,P[Wt]=F,Z=Wt);else if(Gt<ie&&0>s(is,F))P[Z]=is,P[Gt]=F,Z=Gt;else break e}}return O}function s(P,O){var F=P.sortIndex-O.sortIndex;return F!==0?F:P.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,f=3,v=!1,w=!1,y=!1,j=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=P)r(c),O.sortIndex=O.expirationTime,t(a,O);else break;O=n(c)}}function _(P){if(y=!1,g(P),!w)if(n(a)!==null)w=!0,Vi(k);else{var O=n(c);O!==null&&Hi(_,O.startTime-P)}}function k(P,O){w=!1,y&&(y=!1,p(C),C=-1),v=!0;var F=f;try{for(g(O),h=n(a);h!==null&&(!(h.expirationTime>O)||P&&!ne());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var ie=Z(h.expirationTime<=O);O=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(a)&&r(a),g(O)}else r(a);h=n(a)}if(h!==null)var ss=!0;else{var Wt=n(c);Wt!==null&&Hi(_,Wt.startTime-O),ss=!1}return ss}finally{h=null,f=F,v=!1}}var S=!1,E=null,C=-1,D=5,T=-1;function ne(){return!(e.unstable_now()-T<D)}function L(){if(E!==null){var P=e.unstable_now();T=P;var O=!0;try{O=E(!0,P)}finally{O?X():(S=!1,E=null)}}else S=!1}var X;if(typeof m=="function")X=function(){m(L)};else if(typeof MessageChannel<"u"){var Fa=new MessageChannel,Nf=Fa.port2;Fa.port1.onmessage=L,X=function(){Nf.postMessage(null)}}else X=function(){j(L,0)};function Vi(P){E=P,S||(S=!0,X())}function Hi(P,O){C=j(function(){P(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,Vi(k))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var F=f;f=O;try{return P()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,O){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=f;f=P;try{return O()}finally{f=F}},e.unstable_scheduleCallback=function(P,O,F){var Z=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Z+F:Z):F=Z,P){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=F+ie,P={id:d++,callback:O,priorityLevel:P,startTime:F,expirationTime:ie,sortIndex:-1},F>Z?(P.sortIndex=F,t(c,P),n(a)===null&&P===n(c)&&(y?(p(C),C=-1):y=!0,Hi(_,F-Z))):(P.sortIndex=ie,t(a,P),w||v||(w=!0,Vi(k))),P},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(P){var O=f;return function(){var F=f;f=O;try{return P.apply(this,arguments)}finally{f=F}}}})(Pc);Nc.exports=Pc;var ep=Nc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=x,Re=ep;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tc=new Set,Tr={};function un(e,t){Un(e,t),Un(e+"Capture",t)}function Un(e,t){for(Tr[e]=t,e=0;e<t.length;e++)Tc.add(t[e])}var ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jo=Object.prototype.hasOwnProperty,np=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ua={},Da={};function rp(e){return jo.call(Da,e)?!0:jo.call(Ua,e)?!1:np.test(e)?Da[e]=!0:(Ua[e]=!0,!1)}function sp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ip(e,t,n,r){if(t===null||typeof t>"u"||sp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xe(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){he[e]=new xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];he[t]=new xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){he[e]=new xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){he[e]=new xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){he[e]=new xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){he[e]=new xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){he[e]=new xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){he[e]=new xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){he[e]=new xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tl=/[\-:]([a-z])/g;function Ol(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tl,Ol);he[t]=new xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tl,Ol);he[t]=new xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tl,Ol);he[t]=new xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){he[e]=new xe(e,1,!1,e.toLowerCase(),null,!1,!1)});he.xlinkHref=new xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){he[e]=new xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rl(e,t,n,r){var s=he.hasOwnProperty(t)?he[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ip(t,n,s,r)&&(n=null),r||s===null?rp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var pt=tp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ls=Symbol.for("react.element"),yn=Symbol.for("react.portal"),wn=Symbol.for("react.fragment"),Ll=Symbol.for("react.strict_mode"),Eo=Symbol.for("react.profiler"),Oc=Symbol.for("react.provider"),Rc=Symbol.for("react.context"),Fl=Symbol.for("react.forward_ref"),bo=Symbol.for("react.suspense"),Co=Symbol.for("react.suspense_list"),$l=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),Lc=Symbol.for("react.offscreen"),Ma=Symbol.iterator;function rr(e){return e===null||typeof e!="object"?null:(e=Ma&&e[Ma]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,Ki;function pr(e){if(Ki===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ki=t&&t[1]||""}return`
`+Ki+e}var qi=!1;function Qi(e,t){if(!e||qi)return"";qi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{qi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pr(e):""}function op(e){switch(e.tag){case 5:return pr(e.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 2:case 15:return e=Qi(e.type,!1),e;case 11:return e=Qi(e.type.render,!1),e;case 1:return e=Qi(e.type,!0),e;default:return""}}function No(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wn:return"Fragment";case yn:return"Portal";case Eo:return"Profiler";case Ll:return"StrictMode";case bo:return"Suspense";case Co:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rc:return(e.displayName||"Context")+".Consumer";case Oc:return(e._context.displayName||"Context")+".Provider";case Fl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $l:return t=e.displayName||null,t!==null?t:No(e.type)||"Memo";case wt:t=e._payload,e=e._init;try{return No(e(t))}catch{}}return null}function lp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return No(t);case 8:return t===Ll?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ap(e){var t=Fc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function as(e){e._valueTracker||(e._valueTracker=ap(e))}function $c(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Po(e,t){var n=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function za(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ut(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ac(e,t){t=t.checked,t!=null&&Rl(e,"checked",t,!1)}function To(e,t){Ac(e,t);var n=Ut(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Oo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oo(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ba(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Oo(e,t,n){(t!=="number"||zs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mr=Array.isArray;function On(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Va(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(b(92));if(mr(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ut(n)}}function Ic(e,t){var n=Ut(t.value),r=Ut(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ha(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Uc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Uc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var us,Dc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(us=us||document.createElement("div"),us.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=us.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Or(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},up=["Webkit","ms","Moz","O"];Object.keys(wr).forEach(function(e){up.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wr[t]=wr[e]})});function Mc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wr.hasOwnProperty(e)&&wr[e]?(""+t).trim():t+"px"}function zc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Mc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var cp=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fo(e,t){if(t){if(cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function $o(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ao=null;function Al(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Io=null,Rn=null,Ln=null;function Wa(e){if(e=Zr(e)){if(typeof Io!="function")throw Error(b(280));var t=e.stateNode;t&&(t=ki(t),Io(e.stateNode,e.type,t))}}function Bc(e){Rn?Ln?Ln.push(e):Ln=[e]:Rn=e}function Vc(){if(Rn){var e=Rn,t=Ln;if(Ln=Rn=null,Wa(e),t)for(e=0;e<t.length;e++)Wa(t[e])}}function Hc(e,t){return e(t)}function Wc(){}var Ji=!1;function Gc(e,t,n){if(Ji)return e(t,n);Ji=!0;try{return Hc(e,t,n)}finally{Ji=!1,(Rn!==null||Ln!==null)&&(Wc(),Vc())}}function Rr(e,t){var n=e.stateNode;if(n===null)return null;var r=ki(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var Uo=!1;if(ct)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Uo=!1}function dp(e,t,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var xr=!1,Bs=null,Vs=!1,Do=null,hp={onError:function(e){xr=!0,Bs=e}};function fp(e,t,n,r,s,i,o,l,a){xr=!1,Bs=null,dp.apply(hp,arguments)}function pp(e,t,n,r,s,i,o,l,a){if(fp.apply(this,arguments),xr){if(xr){var c=Bs;xr=!1,Bs=null}else throw Error(b(198));Vs||(Vs=!0,Do=c)}}function cn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Kc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ga(e){if(cn(e)!==e)throw Error(b(188))}function mp(e){var t=e.alternate;if(!t){if(t=cn(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ga(s),e;if(i===r)return Ga(s),t;i=i.sibling}throw Error(b(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function qc(e){return e=mp(e),e!==null?Qc(e):null}function Qc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qc(e);if(t!==null)return t;e=e.sibling}return null}var Jc=Re.unstable_scheduleCallback,Ka=Re.unstable_cancelCallback,gp=Re.unstable_shouldYield,vp=Re.unstable_requestPaint,ee=Re.unstable_now,yp=Re.unstable_getCurrentPriorityLevel,Il=Re.unstable_ImmediatePriority,Yc=Re.unstable_UserBlockingPriority,Hs=Re.unstable_NormalPriority,wp=Re.unstable_LowPriority,Xc=Re.unstable_IdlePriority,yi=null,tt=null;function xp(e){if(tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(yi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ke=Math.clz32?Math.clz32:Sp,_p=Math.log,kp=Math.LN2;function Sp(e){return e>>>=0,e===0?32:31-(_p(e)/kp|0)|0}var cs=64,ds=4194304;function gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ws(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=gr(l):(i&=o,i!==0&&(r=gr(i)))}else o=n&~s,o!==0?r=gr(o):i!==0&&(r=gr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ke(t),s=1<<n,r|=e[n],t&=~s;return r}function jp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ep(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ke(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=jp(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Mo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zc(){var e=cs;return cs<<=1,!(cs&4194240)&&(cs=64),e}function Yi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ke(t),e[t]=n}function bp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ke(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Ul(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ke(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var M=0;function ed(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var td,Dl,nd,rd,sd,zo=!1,hs=[],Pt=null,Tt=null,Ot=null,Lr=new Map,Fr=new Map,kt=[],Cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qa(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Lr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function ir(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Zr(t),t!==null&&Dl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Np(e,t,n,r,s){switch(t){case"focusin":return Pt=ir(Pt,e,t,n,r,s),!0;case"dragenter":return Tt=ir(Tt,e,t,n,r,s),!0;case"mouseover":return Ot=ir(Ot,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Lr.set(i,ir(Lr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Fr.set(i,ir(Fr.get(i)||null,e,t,n,r,s)),!0}return!1}function id(e){var t=Xt(e.target);if(t!==null){var n=cn(t);if(n!==null){if(t=n.tag,t===13){if(t=Kc(n),t!==null){e.blockedOn=t,sd(e.priority,function(){nd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Os(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ao=r,n.target.dispatchEvent(r),Ao=null}else return t=Zr(n),t!==null&&Dl(t),e.blockedOn=n,!1;t.shift()}return!0}function Qa(e,t,n){Os(e)&&n.delete(t)}function Pp(){zo=!1,Pt!==null&&Os(Pt)&&(Pt=null),Tt!==null&&Os(Tt)&&(Tt=null),Ot!==null&&Os(Ot)&&(Ot=null),Lr.forEach(Qa),Fr.forEach(Qa)}function or(e,t){e.blockedOn===t&&(e.blockedOn=null,zo||(zo=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,Pp)))}function $r(e){function t(s){return or(s,e)}if(0<hs.length){or(hs[0],e);for(var n=1;n<hs.length;n++){var r=hs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pt!==null&&or(Pt,e),Tt!==null&&or(Tt,e),Ot!==null&&or(Ot,e),Lr.forEach(t),Fr.forEach(t),n=0;n<kt.length;n++)r=kt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&(n=kt[0],n.blockedOn===null);)id(n),n.blockedOn===null&&kt.shift()}var Fn=pt.ReactCurrentBatchConfig,Gs=!0;function Tp(e,t,n,r){var s=M,i=Fn.transition;Fn.transition=null;try{M=1,Ml(e,t,n,r)}finally{M=s,Fn.transition=i}}function Op(e,t,n,r){var s=M,i=Fn.transition;Fn.transition=null;try{M=4,Ml(e,t,n,r)}finally{M=s,Fn.transition=i}}function Ml(e,t,n,r){if(Gs){var s=Bo(e,t,n,r);if(s===null)lo(e,t,r,Ks,n),qa(e,r);else if(Np(s,e,t,n,r))r.stopPropagation();else if(qa(e,r),t&4&&-1<Cp.indexOf(e)){for(;s!==null;){var i=Zr(s);if(i!==null&&td(i),i=Bo(e,t,n,r),i===null&&lo(e,t,r,Ks,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else lo(e,t,r,null,n)}}var Ks=null;function Bo(e,t,n,r){if(Ks=null,e=Al(r),e=Xt(e),e!==null)if(t=cn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Kc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ks=e,null}function od(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yp()){case Il:return 1;case Yc:return 4;case Hs:case wp:return 16;case Xc:return 536870912;default:return 16}default:return 16}}var Et=null,zl=null,Rs=null;function ld(){if(Rs)return Rs;var e,t=zl,n=t.length,r,s="value"in Et?Et.value:Et.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Rs=s.slice(e,1<r?1-r:void 0)}function Ls(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fs(){return!0}function Ja(){return!1}function Fe(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fs:Ja,this.isPropagationStopped=Ja,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),t}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=Fe(Jn),Xr=J({},Jn,{view:0,detail:0}),Rp=Fe(Xr),Xi,Zi,lr,wi=J({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&e.type==="mousemove"?(Xi=e.screenX-lr.screenX,Zi=e.screenY-lr.screenY):Zi=Xi=0,lr=e),Xi)},movementY:function(e){return"movementY"in e?e.movementY:Zi}}),Ya=Fe(wi),Lp=J({},wi,{dataTransfer:0}),Fp=Fe(Lp),$p=J({},Xr,{relatedTarget:0}),eo=Fe($p),Ap=J({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ip=Fe(Ap),Up=J({},Jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dp=Fe(Up),Mp=J({},Jn,{data:0}),Xa=Fe(Mp),zp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vp[e])?!!t[e]:!1}function Vl(){return Hp}var Wp=J({},Xr,{key:function(e){if(e.key){var t=zp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vl,charCode:function(e){return e.type==="keypress"?Ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gp=Fe(Wp),Kp=J({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Za=Fe(Kp),qp=J({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vl}),Qp=Fe(qp),Jp=J({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yp=Fe(Jp),Xp=J({},wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zp=Fe(Xp),em=[9,13,27,32],Hl=ct&&"CompositionEvent"in window,_r=null;ct&&"documentMode"in document&&(_r=document.documentMode);var tm=ct&&"TextEvent"in window&&!_r,ad=ct&&(!Hl||_r&&8<_r&&11>=_r),eu=" ",tu=!1;function ud(e,t){switch(e){case"keyup":return em.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xn=!1;function nm(e,t){switch(e){case"compositionend":return cd(t);case"keypress":return t.which!==32?null:(tu=!0,eu);case"textInput":return e=t.data,e===eu&&tu?null:e;default:return null}}function rm(e,t){if(xn)return e==="compositionend"||!Hl&&ud(e,t)?(e=ld(),Rs=zl=Et=null,xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ad&&t.locale!=="ko"?null:t.data;default:return null}}var sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sm[e.type]:t==="textarea"}function dd(e,t,n,r){Bc(r),t=qs(t,"onChange"),0<t.length&&(n=new Bl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var kr=null,Ar=null;function im(e){kd(e,0)}function xi(e){var t=Sn(e);if($c(t))return e}function om(e,t){if(e==="change")return t}var hd=!1;if(ct){var to;if(ct){var no="oninput"in document;if(!no){var ru=document.createElement("div");ru.setAttribute("oninput","return;"),no=typeof ru.oninput=="function"}to=no}else to=!1;hd=to&&(!document.documentMode||9<document.documentMode)}function su(){kr&&(kr.detachEvent("onpropertychange",fd),Ar=kr=null)}function fd(e){if(e.propertyName==="value"&&xi(Ar)){var t=[];dd(t,Ar,e,Al(e)),Gc(im,t)}}function lm(e,t,n){e==="focusin"?(su(),kr=t,Ar=n,kr.attachEvent("onpropertychange",fd)):e==="focusout"&&su()}function am(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xi(Ar)}function um(e,t){if(e==="click")return xi(t)}function cm(e,t){if(e==="input"||e==="change")return xi(t)}function dm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qe=typeof Object.is=="function"?Object.is:dm;function Ir(e,t){if(Qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jo.call(t,s)||!Qe(e[s],t[s]))return!1}return!0}function iu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ou(e,t){var n=iu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iu(n)}}function pd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function md(){for(var e=window,t=zs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zs(e.document)}return t}function Wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hm(e){var t=md(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pd(n.ownerDocument.documentElement,n)){if(r!==null&&Wl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ou(n,i);var o=ou(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fm=ct&&"documentMode"in document&&11>=document.documentMode,_n=null,Vo=null,Sr=null,Ho=!1;function lu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ho||_n==null||_n!==zs(r)||(r=_n,"selectionStart"in r&&Wl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sr&&Ir(Sr,r)||(Sr=r,r=qs(Vo,"onSelect"),0<r.length&&(t=new Bl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_n)))}function ps(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kn={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionend:ps("Transition","TransitionEnd")},ro={},gd={};ct&&(gd=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function _i(e){if(ro[e])return ro[e];if(!kn[e])return e;var t=kn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gd)return ro[e]=t[n];return e}var vd=_i("animationend"),yd=_i("animationiteration"),wd=_i("animationstart"),xd=_i("transitionend"),_d=new Map,au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zt(e,t){_d.set(e,t),un(t,[e])}for(var so=0;so<au.length;so++){var io=au[so],pm=io.toLowerCase(),mm=io[0].toUpperCase()+io.slice(1);zt(pm,"on"+mm)}zt(vd,"onAnimationEnd");zt(yd,"onAnimationIteration");zt(wd,"onAnimationStart");zt("dblclick","onDoubleClick");zt("focusin","onFocus");zt("focusout","onBlur");zt(xd,"onTransitionEnd");Un("onMouseEnter",["mouseout","mouseover"]);Un("onMouseLeave",["mouseout","mouseover"]);Un("onPointerEnter",["pointerout","pointerover"]);Un("onPointerLeave",["pointerout","pointerover"]);un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));un("onBeforeInput",["compositionend","keypress","textInput","paste"]);un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gm=new Set("cancel close invalid load scroll toggle".split(" ").concat(vr));function uu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,pp(r,t,void 0,e),e.currentTarget=null}function kd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;uu(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;uu(s,l,c),i=a}}}if(Vs)throw e=Do,Vs=!1,Do=null,e}function H(e,t){var n=t[Qo];n===void 0&&(n=t[Qo]=new Set);var r=e+"__bubble";n.has(r)||(Sd(t,e,2,!1),n.add(r))}function oo(e,t,n){var r=0;t&&(r|=4),Sd(n,e,r,t)}var ms="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[ms]){e[ms]=!0,Tc.forEach(function(n){n!=="selectionchange"&&(gm.has(n)||oo(n,!1,e),oo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ms]||(t[ms]=!0,oo("selectionchange",!1,t))}}function Sd(e,t,n,r){switch(od(t)){case 1:var s=Tp;break;case 4:s=Op;break;default:s=Ml}n=s.bind(null,t,n,e),s=void 0,!Uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function lo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Xt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Gc(function(){var c=i,d=Al(n),h=[];e:{var f=_d.get(e);if(f!==void 0){var v=Bl,w=e;switch(e){case"keypress":if(Ls(n)===0)break e;case"keydown":case"keyup":v=Gp;break;case"focusin":w="focus",v=eo;break;case"focusout":w="blur",v=eo;break;case"beforeblur":case"afterblur":v=eo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ya;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Qp;break;case vd:case yd:case wd:v=Ip;break;case xd:v=Yp;break;case"scroll":v=Rp;break;case"wheel":v=Zp;break;case"copy":case"cut":case"paste":v=Dp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Za}var y=(t&4)!==0,j=!y&&e==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var m=c,g;m!==null;){g=m;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,p!==null&&(_=Rr(m,p),_!=null&&y.push(Dr(m,_,g)))),j)break;m=m.return}0<y.length&&(f=new v(f,w,null,n,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&n!==Ao&&(w=n.relatedTarget||n.fromElement)&&(Xt(w)||w[dt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?Xt(w):null,w!==null&&(j=cn(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(y=Ya,_="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=Za,_="onPointerLeave",p="onPointerEnter",m="pointer"),j=v==null?f:Sn(v),g=w==null?f:Sn(w),f=new y(_,m+"leave",v,n,d),f.target=j,f.relatedTarget=g,_=null,Xt(d)===c&&(y=new y(p,m+"enter",w,n,d),y.target=g,y.relatedTarget=j,_=y),j=_,v&&w)t:{for(y=v,p=w,m=0,g=y;g;g=pn(g))m++;for(g=0,_=p;_;_=pn(_))g++;for(;0<m-g;)y=pn(y),m--;for(;0<g-m;)p=pn(p),g--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=pn(y),p=pn(p)}y=null}else y=null;v!==null&&cu(h,f,v,y,!1),w!==null&&j!==null&&cu(h,j,w,y,!0)}}e:{if(f=c?Sn(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var k=om;else if(nu(f))if(hd)k=cm;else{k=am;var S=lm}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=um);if(k&&(k=k(e,c))){dd(h,k,n,d);break e}S&&S(e,f,c),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Oo(f,"number",f.value)}switch(S=c?Sn(c):window,e){case"focusin":(nu(S)||S.contentEditable==="true")&&(_n=S,Vo=c,Sr=null);break;case"focusout":Sr=Vo=_n=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,lu(h,n,d);break;case"selectionchange":if(fm)break;case"keydown":case"keyup":lu(h,n,d)}var E;if(Hl)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else xn?ud(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(ad&&n.locale!=="ko"&&(xn||C!=="onCompositionStart"?C==="onCompositionEnd"&&xn&&(E=ld()):(Et=d,zl="value"in Et?Et.value:Et.textContent,xn=!0)),S=qs(c,C),0<S.length&&(C=new Xa(C,e,null,n,d),h.push({event:C,listeners:S}),E?C.data=E:(E=cd(n),E!==null&&(C.data=E)))),(E=tm?nm(e,n):rm(e,n))&&(c=qs(c,"onBeforeInput"),0<c.length&&(d=new Xa("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=E))}kd(h,t)})}function Dr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qs(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rr(e,n),i!=null&&r.unshift(Dr(e,i,s)),i=Rr(e,t),i!=null&&r.push(Dr(e,i,s))),e=e.return}return r}function pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cu(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=Rr(n,i),a!=null&&o.unshift(Dr(n,a,l))):s||(a=Rr(n,i),a!=null&&o.push(Dr(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var vm=/\r\n?/g,ym=/\u0000|\uFFFD/g;function du(e){return(typeof e=="string"?e:""+e).replace(vm,`
`).replace(ym,"")}function gs(e,t,n){if(t=du(t),du(e)!==t&&n)throw Error(b(425))}function Qs(){}var Wo=null,Go=null;function Ko(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qo=typeof setTimeout=="function"?setTimeout:void 0,wm=typeof clearTimeout=="function"?clearTimeout:void 0,hu=typeof Promise=="function"?Promise:void 0,xm=typeof queueMicrotask=="function"?queueMicrotask:typeof hu<"u"?function(e){return hu.resolve(null).then(e).catch(_m)}:qo;function _m(e){setTimeout(function(){throw e})}function ao(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),$r(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$r(t)}function Rt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),et="__reactFiber$"+Yn,Mr="__reactProps$"+Yn,dt="__reactContainer$"+Yn,Qo="__reactEvents$"+Yn,km="__reactListeners$"+Yn,Sm="__reactHandles$"+Yn;function Xt(e){var t=e[et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dt]||n[et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fu(e);e!==null;){if(n=e[et])return n;e=fu(e)}return t}e=n,n=e.parentNode}return null}function Zr(e){return e=e[et]||e[dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function ki(e){return e[Mr]||null}var Jo=[],jn=-1;function Bt(e){return{current:e}}function W(e){0>jn||(e.current=Jo[jn],Jo[jn]=null,jn--)}function V(e,t){jn++,Jo[jn]=e.current,e.current=t}var Dt={},ge=Bt(Dt),Ee=Bt(!1),rn=Dt;function Dn(e,t){var n=e.type.contextTypes;if(!n)return Dt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function be(e){return e=e.childContextTypes,e!=null}function Js(){W(Ee),W(ge)}function pu(e,t,n){if(ge.current!==Dt)throw Error(b(168));V(ge,t),V(Ee,n)}function jd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(b(108,lp(e)||"Unknown",s));return J({},n,r)}function Ys(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dt,rn=ge.current,V(ge,e),V(Ee,Ee.current),!0}function mu(e,t,n){var r=e.stateNode;if(!r)throw Error(b(169));n?(e=jd(e,t,rn),r.__reactInternalMemoizedMergedChildContext=e,W(Ee),W(ge),V(ge,e)):W(Ee),V(Ee,n)}var ot=null,Si=!1,uo=!1;function Ed(e){ot===null?ot=[e]:ot.push(e)}function jm(e){Si=!0,Ed(e)}function Vt(){if(!uo&&ot!==null){uo=!0;var e=0,t=M;try{var n=ot;for(M=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ot=null,Si=!1}catch(s){throw ot!==null&&(ot=ot.slice(e+1)),Jc(Il,Vt),s}finally{M=t,uo=!1}}return null}var En=[],bn=0,Xs=null,Zs=0,$e=[],Ae=0,sn=null,lt=1,at="";function qt(e,t){En[bn++]=Zs,En[bn++]=Xs,Xs=e,Zs=t}function bd(e,t,n){$e[Ae++]=lt,$e[Ae++]=at,$e[Ae++]=sn,sn=e;var r=lt;e=at;var s=32-Ke(r)-1;r&=~(1<<s),n+=1;var i=32-Ke(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,lt=1<<32-Ke(t)+s|n<<s|r,at=i+e}else lt=1<<i|n<<s|r,at=e}function Gl(e){e.return!==null&&(qt(e,1),bd(e,1,0))}function Kl(e){for(;e===Xs;)Xs=En[--bn],En[bn]=null,Zs=En[--bn],En[bn]=null;for(;e===sn;)sn=$e[--Ae],$e[Ae]=null,at=$e[--Ae],$e[Ae]=null,lt=$e[--Ae],$e[Ae]=null}var Oe=null,Te=null,G=!1,Ge=null;function Cd(e,t){var n=Ie(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oe=e,Te=Rt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oe=e,Te=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sn!==null?{id:lt,overflow:at}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ie(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Oe=e,Te=null,!0):!1;default:return!1}}function Yo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xo(e){if(G){var t=Te;if(t){var n=t;if(!gu(e,t)){if(Yo(e))throw Error(b(418));t=Rt(n.nextSibling);var r=Oe;t&&gu(e,t)?Cd(r,n):(e.flags=e.flags&-4097|2,G=!1,Oe=e)}}else{if(Yo(e))throw Error(b(418));e.flags=e.flags&-4097|2,G=!1,Oe=e}}}function vu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oe=e}function vs(e){if(e!==Oe)return!1;if(!G)return vu(e),G=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ko(e.type,e.memoizedProps)),t&&(t=Te)){if(Yo(e))throw Nd(),Error(b(418));for(;t;)Cd(e,t),t=Rt(t.nextSibling)}if(vu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Te=Rt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Te=null}}else Te=Oe?Rt(e.stateNode.nextSibling):null;return!0}function Nd(){for(var e=Te;e;)e=Rt(e.nextSibling)}function Mn(){Te=Oe=null,G=!1}function ql(e){Ge===null?Ge=[e]:Ge.push(e)}var Em=pt.ReactCurrentBatchConfig;function ar(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yu(e){var t=e._init;return t(e._payload)}function Pd(e){function t(p,m){if(e){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=At(p,m),p.index=0,p.sibling=null,p}function i(p,m,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,g,_){return m===null||m.tag!==6?(m=vo(g,p.mode,_),m.return=p,m):(m=s(m,g),m.return=p,m)}function a(p,m,g,_){var k=g.type;return k===wn?d(p,m,g.props.children,_,g.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===wt&&yu(k)===m.type)?(_=s(m,g.props),_.ref=ar(p,m,g),_.return=p,_):(_=Ms(g.type,g.key,g.props,null,p.mode,_),_.ref=ar(p,m,g),_.return=p,_)}function c(p,m,g,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=yo(g,p.mode,_),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function d(p,m,g,_,k){return m===null||m.tag!==7?(m=nn(g,p.mode,_,k),m.return=p,m):(m=s(m,g),m.return=p,m)}function h(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=vo(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ls:return g=Ms(m.type,m.key,m.props,null,p.mode,g),g.ref=ar(p,null,m),g.return=p,g;case yn:return m=yo(m,p.mode,g),m.return=p,m;case wt:var _=m._init;return h(p,_(m._payload),g)}if(mr(m)||rr(m))return m=nn(m,p.mode,g,null),m.return=p,m;ys(p,m)}return null}function f(p,m,g,_){var k=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:l(p,m,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ls:return g.key===k?a(p,m,g,_):null;case yn:return g.key===k?c(p,m,g,_):null;case wt:return k=g._init,f(p,m,k(g._payload),_)}if(mr(g)||rr(g))return k!==null?null:d(p,m,g,_,null);ys(p,g)}return null}function v(p,m,g,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(g)||null,l(m,p,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ls:return p=p.get(_.key===null?g:_.key)||null,a(m,p,_,k);case yn:return p=p.get(_.key===null?g:_.key)||null,c(m,p,_,k);case wt:var S=_._init;return v(p,m,g,S(_._payload),k)}if(mr(_)||rr(_))return p=p.get(g)||null,d(m,p,_,k,null);ys(m,_)}return null}function w(p,m,g,_){for(var k=null,S=null,E=m,C=m=0,D=null;E!==null&&C<g.length;C++){E.index>C?(D=E,E=null):D=E.sibling;var T=f(p,E,g[C],_);if(T===null){E===null&&(E=D);break}e&&E&&T.alternate===null&&t(p,E),m=i(T,m,C),S===null?k=T:S.sibling=T,S=T,E=D}if(C===g.length)return n(p,E),G&&qt(p,C),k;if(E===null){for(;C<g.length;C++)E=h(p,g[C],_),E!==null&&(m=i(E,m,C),S===null?k=E:S.sibling=E,S=E);return G&&qt(p,C),k}for(E=r(p,E);C<g.length;C++)D=v(E,p,C,g[C],_),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?C:D.key),m=i(D,m,C),S===null?k=D:S.sibling=D,S=D);return e&&E.forEach(function(ne){return t(p,ne)}),G&&qt(p,C),k}function y(p,m,g,_){var k=rr(g);if(typeof k!="function")throw Error(b(150));if(g=k.call(g),g==null)throw Error(b(151));for(var S=k=null,E=m,C=m=0,D=null,T=g.next();E!==null&&!T.done;C++,T=g.next()){E.index>C?(D=E,E=null):D=E.sibling;var ne=f(p,E,T.value,_);if(ne===null){E===null&&(E=D);break}e&&E&&ne.alternate===null&&t(p,E),m=i(ne,m,C),S===null?k=ne:S.sibling=ne,S=ne,E=D}if(T.done)return n(p,E),G&&qt(p,C),k;if(E===null){for(;!T.done;C++,T=g.next())T=h(p,T.value,_),T!==null&&(m=i(T,m,C),S===null?k=T:S.sibling=T,S=T);return G&&qt(p,C),k}for(E=r(p,E);!T.done;C++,T=g.next())T=v(E,p,C,T.value,_),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?C:T.key),m=i(T,m,C),S===null?k=T:S.sibling=T,S=T);return e&&E.forEach(function(L){return t(p,L)}),G&&qt(p,C),k}function j(p,m,g,_){if(typeof g=="object"&&g!==null&&g.type===wn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ls:e:{for(var k=g.key,S=m;S!==null;){if(S.key===k){if(k=g.type,k===wn){if(S.tag===7){n(p,S.sibling),m=s(S,g.props.children),m.return=p,p=m;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===wt&&yu(k)===S.type){n(p,S.sibling),m=s(S,g.props),m.ref=ar(p,S,g),m.return=p,p=m;break e}n(p,S);break}else t(p,S);S=S.sibling}g.type===wn?(m=nn(g.props.children,p.mode,_,g.key),m.return=p,p=m):(_=Ms(g.type,g.key,g.props,null,p.mode,_),_.ref=ar(p,m,g),_.return=p,p=_)}return o(p);case yn:e:{for(S=g.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=yo(g,p.mode,_),m.return=p,p=m}return o(p);case wt:return S=g._init,j(p,m,S(g._payload),_)}if(mr(g))return w(p,m,g,_);if(rr(g))return y(p,m,g,_);ys(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,g),m.return=p,p=m):(n(p,m),m=vo(g,p.mode,_),m.return=p,p=m),o(p)):n(p,m)}return j}var zn=Pd(!0),Td=Pd(!1),ei=Bt(null),ti=null,Cn=null,Ql=null;function Jl(){Ql=Cn=ti=null}function Yl(e){var t=ei.current;W(ei),e._currentValue=t}function Zo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $n(e,t){ti=e,Ql=Cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(je=!0),e.firstContext=null)}function Me(e){var t=e._currentValue;if(Ql!==e)if(e={context:e,memoizedValue:t,next:null},Cn===null){if(ti===null)throw Error(b(308));Cn=e,ti.dependencies={lanes:0,firstContext:e}}else Cn=Cn.next=e;return t}var Zt=null;function Xl(e){Zt===null?Zt=[e]:Zt.push(e)}function Od(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Xl(t)):(n.next=s.next,s.next=n),t.interleaved=n,ht(e,r)}function ht(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xt=!1;function Zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ht(e,n)}return s=r.interleaved,s===null?(t.next=t,Xl(r)):(t.next=s.next,s.next=t),r.interleaved=t,ht(e,n)}function Fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ul(e,n)}}function wu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ni(e,t,n,r){var s=e.updateQueue;xt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var f=l.lane,v=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,y=l;switch(f=t,v=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(v,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(v,h,f):w,f==null)break e;h=J({},h,f);break e;case 2:xt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,a=h):d=d.next=v,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ln|=o,e.lanes=o,e.memoizedState=h}}function xu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(b(191,s));s.call(r)}}}var es={},nt=Bt(es),zr=Bt(es),Br=Bt(es);function en(e){if(e===es)throw Error(b(174));return e}function ea(e,t){switch(V(Br,t),V(zr,e),V(nt,es),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lo(t,e)}W(nt),V(nt,t)}function Bn(){W(nt),W(zr),W(Br)}function Ld(e){en(Br.current);var t=en(nt.current),n=Lo(t,e.type);t!==n&&(V(zr,e),V(nt,n))}function ta(e){zr.current===e&&(W(nt),W(zr))}var K=Bt(0);function ri(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function na(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var $s=pt.ReactCurrentDispatcher,ho=pt.ReactCurrentBatchConfig,on=0,q=null,re=null,le=null,si=!1,jr=!1,Vr=0,bm=0;function fe(){throw Error(b(321))}function ra(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qe(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,s,i){if(on=i,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$s.current=e===null||e.memoizedState===null?Tm:Om,e=n(r,s),jr){i=0;do{if(jr=!1,Vr=0,25<=i)throw Error(b(301));i+=1,le=re=null,t.updateQueue=null,$s.current=Rm,e=n(r,s)}while(jr)}if($s.current=ii,t=re!==null&&re.next!==null,on=0,le=re=q=null,si=!1,t)throw Error(b(300));return e}function ia(){var e=Vr!==0;return Vr=0,e}function Ze(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?q.memoizedState=le=e:le=le.next=e,le}function ze(){if(re===null){var e=q.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var t=le===null?q.memoizedState:le.next;if(t!==null)le=t,re=e;else{if(e===null)throw Error(b(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},le===null?q.memoizedState=le=e:le=le.next=e}return le}function Hr(e,t){return typeof t=="function"?t(e):t}function fo(e){var t=ze(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=re,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((on&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,q.lanes|=d,ln|=d}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,Qe(r,t.memoizedState)||(je=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,q.lanes|=i,ln|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function po(e){var t=ze(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Qe(i,t.memoizedState)||(je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Fd(){}function $d(e,t){var n=q,r=ze(),s=t(),i=!Qe(r.memoizedState,s);if(i&&(r.memoizedState=s,je=!0),r=r.queue,oa(Ud.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||le!==null&&le.memoizedState.tag&1){if(n.flags|=2048,Wr(9,Id.bind(null,n,r,s,t),void 0,null),ae===null)throw Error(b(349));on&30||Ad(n,t,s)}return s}function Ad(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Id(e,t,n,r){t.value=n,t.getSnapshot=r,Dd(t)&&Md(e)}function Ud(e,t,n){return n(function(){Dd(t)&&Md(e)})}function Dd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qe(e,n)}catch{return!0}}function Md(e){var t=ht(e,1);t!==null&&qe(t,e,1,-1)}function _u(e){var t=Ze();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:e},t.queue=e,e=e.dispatch=Pm.bind(null,q,e),[t.memoizedState,e]}function Wr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zd(){return ze().memoizedState}function As(e,t,n,r){var s=Ze();q.flags|=e,s.memoizedState=Wr(1|t,n,void 0,r===void 0?null:r)}function ji(e,t,n,r){var s=ze();r=r===void 0?null:r;var i=void 0;if(re!==null){var o=re.memoizedState;if(i=o.destroy,r!==null&&ra(r,o.deps)){s.memoizedState=Wr(t,n,i,r);return}}q.flags|=e,s.memoizedState=Wr(1|t,n,i,r)}function ku(e,t){return As(8390656,8,e,t)}function oa(e,t){return ji(2048,8,e,t)}function Bd(e,t){return ji(4,2,e,t)}function Vd(e,t){return ji(4,4,e,t)}function Hd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wd(e,t,n){return n=n!=null?n.concat([e]):null,ji(4,4,Hd.bind(null,t,e),n)}function la(){}function Gd(e,t){var n=ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ra(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Kd(e,t){var n=ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ra(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qd(e,t,n){return on&21?(Qe(n,t)||(n=Zc(),q.lanes|=n,ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,je=!0),e.memoizedState=n)}function Cm(e,t){var n=M;M=n!==0&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{M=n,ho.transition=r}}function Qd(){return ze().memoizedState}function Nm(e,t,n){var r=$t(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jd(e))Yd(t,n);else if(n=Od(e,t,n,r),n!==null){var s=ye();qe(n,e,r,s),Xd(n,t,r)}}function Pm(e,t,n){var r=$t(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jd(e))Yd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Qe(l,o)){var a=t.interleaved;a===null?(s.next=s,Xl(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Od(e,t,s,r),n!==null&&(s=ye(),qe(n,e,r,s),Xd(n,t,r))}}function Jd(e){var t=e.alternate;return e===q||t!==null&&t===q}function Yd(e,t){jr=si=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ul(e,n)}}var ii={readContext:Me,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},Tm={readContext:Me,useCallback:function(e,t){return Ze().memoizedState=[e,t===void 0?null:t],e},useContext:Me,useEffect:ku,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,As(4194308,4,Hd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return As(4194308,4,e,t)},useInsertionEffect:function(e,t){return As(4,2,e,t)},useMemo:function(e,t){var n=Ze();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ze();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Nm.bind(null,q,e),[r.memoizedState,e]},useRef:function(e){var t=Ze();return e={current:e},t.memoizedState=e},useState:_u,useDebugValue:la,useDeferredValue:function(e){return Ze().memoizedState=e},useTransition:function(){var e=_u(!1),t=e[0];return e=Cm.bind(null,e[1]),Ze().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=q,s=Ze();if(G){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),ae===null)throw Error(b(349));on&30||Ad(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ku(Ud.bind(null,r,i,e),[e]),r.flags|=2048,Wr(9,Id.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ze(),t=ae.identifierPrefix;if(G){var n=at,r=lt;n=(r&~(1<<32-Ke(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Om={readContext:Me,useCallback:Gd,useContext:Me,useEffect:oa,useImperativeHandle:Wd,useInsertionEffect:Bd,useLayoutEffect:Vd,useMemo:Kd,useReducer:fo,useRef:zd,useState:function(){return fo(Hr)},useDebugValue:la,useDeferredValue:function(e){var t=ze();return qd(t,re.memoizedState,e)},useTransition:function(){var e=fo(Hr)[0],t=ze().memoizedState;return[e,t]},useMutableSource:Fd,useSyncExternalStore:$d,useId:Qd,unstable_isNewReconciler:!1},Rm={readContext:Me,useCallback:Gd,useContext:Me,useEffect:oa,useImperativeHandle:Wd,useInsertionEffect:Bd,useLayoutEffect:Vd,useMemo:Kd,useReducer:po,useRef:zd,useState:function(){return po(Hr)},useDebugValue:la,useDeferredValue:function(e){var t=ze();return re===null?t.memoizedState=e:qd(t,re.memoizedState,e)},useTransition:function(){var e=po(Hr)[0],t=ze().memoizedState;return[e,t]},useMutableSource:Fd,useSyncExternalStore:$d,useId:Qd,unstable_isNewReconciler:!1};function Ve(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function el(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:J({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ei={isMounted:function(e){return(e=e._reactInternals)?cn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ye(),s=$t(e),i=ut(r,s);i.payload=t,n!=null&&(i.callback=n),t=Lt(e,i,s),t!==null&&(qe(t,e,s,r),Fs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ye(),s=$t(e),i=ut(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Lt(e,i,s),t!==null&&(qe(t,e,s,r),Fs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ye(),r=$t(e),s=ut(n,r);s.tag=2,t!=null&&(s.callback=t),t=Lt(e,s,r),t!==null&&(qe(t,e,r,n),Fs(t,e,r))}};function Su(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ir(n,r)||!Ir(s,i):!0}function Zd(e,t,n){var r=!1,s=Dt,i=t.contextType;return typeof i=="object"&&i!==null?i=Me(i):(s=be(t)?rn:ge.current,r=t.contextTypes,i=(r=r!=null)?Dn(e,s):Dt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ei,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ju(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ei.enqueueReplaceState(t,t.state,null)}function tl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Zl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Me(i):(i=be(t)?rn:ge.current,s.context=Dn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(el(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ei.enqueueReplaceState(s,s.state,null),ni(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vn(e,t){try{var n="",r=t;do n+=op(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function mo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Lm=typeof WeakMap=="function"?WeakMap:Map;function eh(e,t,n){n=ut(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){li||(li=!0,hl=r),nl(e,t)},n}function th(e,t,n){n=ut(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){nl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nl(e,t),typeof r!="function"&&(Ft===null?Ft=new Set([this]):Ft.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Eu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Lm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Km.bind(null,e,t,n),t.then(e,e))}function bu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ut(-1,1),t.tag=2,Lt(n,t,1))),n.lanes|=1),e)}var Fm=pt.ReactCurrentOwner,je=!1;function ve(e,t,n,r){t.child=e===null?Td(t,null,n,r):zn(t,e.child,n,r)}function Nu(e,t,n,r,s){n=n.render;var i=t.ref;return $n(t,s),r=sa(e,t,n,r,i,s),n=ia(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ft(e,t,s)):(G&&n&&Gl(t),t.flags|=1,ve(e,t,r,s),t.child)}function Pu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ma(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,nh(e,t,i,r,s)):(e=Ms(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ir,n(o,r)&&e.ref===t.ref)return ft(e,t,s)}return t.flags|=1,e=At(i,r),e.ref=t.ref,e.return=t,t.child=e}function nh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ir(i,r)&&e.ref===t.ref)if(je=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(je=!0);else return t.lanes=e.lanes,ft(e,t,s)}return rl(e,t,n,r,s)}function rh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(Pn,Pe),Pe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,V(Pn,Pe),Pe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,V(Pn,Pe),Pe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,V(Pn,Pe),Pe|=r;return ve(e,t,s,n),t.child}function sh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rl(e,t,n,r,s){var i=be(n)?rn:ge.current;return i=Dn(t,i),$n(t,s),n=sa(e,t,n,r,i,s),r=ia(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ft(e,t,s)):(G&&r&&Gl(t),t.flags|=1,ve(e,t,n,s),t.child)}function Tu(e,t,n,r,s){if(be(n)){var i=!0;Ys(t)}else i=!1;if($n(t,s),t.stateNode===null)Is(e,t),Zd(t,n,r),tl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Me(c):(c=be(n)?rn:ge.current,c=Dn(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&ju(t,o,r,c),xt=!1;var f=t.memoizedState;o.state=f,ni(t,r,o,s),a=t.memoizedState,l!==r||f!==a||Ee.current||xt?(typeof d=="function"&&(el(t,n,d,r),a=t.memoizedState),(l=xt||Su(t,n,l,r,f,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Rd(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Ve(t.type,l),o.props=c,h=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Me(a):(a=be(n)?rn:ge.current,a=Dn(t,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&ju(t,o,r,a),xt=!1,f=t.memoizedState,o.state=f,ni(t,r,o,s);var w=t.memoizedState;l!==h||f!==w||Ee.current||xt?(typeof v=="function"&&(el(t,n,v,r),w=t.memoizedState),(c=xt||Su(t,n,c,r,f,w,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return sl(e,t,n,r,i,s)}function sl(e,t,n,r,s,i){sh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&mu(t,n,!1),ft(e,t,i);r=t.stateNode,Fm.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=zn(t,e.child,null,i),t.child=zn(t,null,l,i)):ve(e,t,l,i),t.memoizedState=r.state,s&&mu(t,n,!0),t.child}function ih(e){var t=e.stateNode;t.pendingContext?pu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pu(e,t.context,!1),ea(e,t.containerInfo)}function Ou(e,t,n,r,s){return Mn(),ql(s),t.flags|=256,ve(e,t,n,r),t.child}var il={dehydrated:null,treeContext:null,retryLane:0};function ol(e){return{baseLanes:e,cachePool:null,transitions:null}}function oh(e,t,n){var r=t.pendingProps,s=K.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),V(K,s&1),e===null)return Xo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ni(o,r,0,null),e=nn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ol(n),t.memoizedState=il,e):aa(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $m(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=At(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=At(l,i):(i=nn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ol(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=il,r}return i=e.child,e=i.sibling,r=At(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function aa(e,t){return t=Ni({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ws(e,t,n,r){return r!==null&&ql(r),zn(t,e.child,null,n),e=aa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $m(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=mo(Error(b(422))),ws(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ni({mode:"visible",children:r.children},s,0,null),i=nn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&zn(t,e.child,null,o),t.child.memoizedState=ol(o),t.memoizedState=il,i);if(!(t.mode&1))return ws(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(b(419)),r=mo(i,r,void 0),ws(e,t,o,r)}if(l=(o&e.childLanes)!==0,je||l){if(r=ae,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ht(e,s),qe(r,e,s,-1))}return pa(),r=mo(Error(b(421))),ws(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Te=Rt(s.nextSibling),Oe=t,G=!0,Ge=null,e!==null&&($e[Ae++]=lt,$e[Ae++]=at,$e[Ae++]=sn,lt=e.id,at=e.overflow,sn=t),t=aa(t,r.children),t.flags|=4096,t)}function Ru(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zo(e.return,t,n)}function go(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function lh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ve(e,t,r.children,n),r=K.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ru(e,n,t);else if(e.tag===19)Ru(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(V(K,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ri(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),go(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ri(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}go(t,!0,n,null,i);break;case"together":go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Is(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ft(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=At(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=At(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Am(e,t,n){switch(t.tag){case 3:ih(t),Mn();break;case 5:Ld(t);break;case 1:be(t.type)&&Ys(t);break;case 4:ea(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;V(ei,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(V(K,K.current&1),t.flags|=128,null):n&t.child.childLanes?oh(e,t,n):(V(K,K.current&1),e=ft(e,t,n),e!==null?e.sibling:null);V(K,K.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(K,K.current),r)break;return null;case 22:case 23:return t.lanes=0,rh(e,t,n)}return ft(e,t,n)}var ah,ll,uh,ch;ah=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ll=function(){};uh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,en(nt.current);var i=null;switch(n){case"input":s=Po(e,s),r=Po(e,r),i=[];break;case"select":s=J({},s,{value:void 0}),r=J({},r,{value:void 0}),i=[];break;case"textarea":s=Ro(e,s),r=Ro(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Qs)}Fo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Tr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Tr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&H("scroll",e),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};ch=function(e,t,n,r){n!==r&&(t.flags|=4)};function ur(e,t){if(!G)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Im(e,t,n){var r=t.pendingProps;switch(Kl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(t),null;case 1:return be(t.type)&&Js(),pe(t),null;case 3:return r=t.stateNode,Bn(),W(Ee),W(ge),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ge!==null&&(ml(Ge),Ge=null))),ll(e,t),pe(t),null;case 5:ta(t);var s=en(Br.current);if(n=t.type,e!==null&&t.stateNode!=null)uh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(b(166));return pe(t),null}if(e=en(nt.current),vs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[et]=t,r[Mr]=i,e=(t.mode&1)!==0,n){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(s=0;s<vr.length;s++)H(vr[s],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":za(r,i),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},H("invalid",r);break;case"textarea":Va(r,i),H("invalid",r)}Fo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&gs(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&gs(r.textContent,l,e),s=["children",""+l]):Tr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&H("scroll",r)}switch(n){case"input":as(r),Ba(r,i,!0);break;case"textarea":as(r),Ha(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Qs)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Uc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[et]=t,e[Mr]=r,ah(e,t,!1,!1),t.stateNode=e;e:{switch(o=$o(n,r),n){case"dialog":H("cancel",e),H("close",e),s=r;break;case"iframe":case"object":case"embed":H("load",e),s=r;break;case"video":case"audio":for(s=0;s<vr.length;s++)H(vr[s],e);s=r;break;case"source":H("error",e),s=r;break;case"img":case"image":case"link":H("error",e),H("load",e),s=r;break;case"details":H("toggle",e),s=r;break;case"input":za(e,r),s=Po(e,r),H("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=J({},r,{value:void 0}),H("invalid",e);break;case"textarea":Va(e,r),s=Ro(e,r),H("invalid",e);break;default:s=r}Fo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?zc(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Dc(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Or(e,a):typeof a=="number"&&Or(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Tr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&H("scroll",e):a!=null&&Rl(e,i,a,o))}switch(n){case"input":as(e),Ba(e,r,!1);break;case"textarea":as(e),Ha(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ut(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?On(e,!!r.multiple,i,!1):r.defaultValue!=null&&On(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Qs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pe(t),null;case 6:if(e&&t.stateNode!=null)ch(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(b(166));if(n=en(Br.current),en(nt.current),vs(t)){if(r=t.stateNode,n=t.memoizedProps,r[et]=t,(i=r.nodeValue!==n)&&(e=Oe,e!==null))switch(e.tag){case 3:gs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[et]=t,t.stateNode=r}return pe(t),null;case 13:if(W(K),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(G&&Te!==null&&t.mode&1&&!(t.flags&128))Nd(),Mn(),t.flags|=98560,i=!1;else if(i=vs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(b(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[et]=t}else Mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pe(t),i=!1}else Ge!==null&&(ml(Ge),Ge=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||K.current&1?se===0&&(se=3):pa())),t.updateQueue!==null&&(t.flags|=4),pe(t),null);case 4:return Bn(),ll(e,t),e===null&&Ur(t.stateNode.containerInfo),pe(t),null;case 10:return Yl(t.type._context),pe(t),null;case 17:return be(t.type)&&Js(),pe(t),null;case 19:if(W(K),i=t.memoizedState,i===null)return pe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ur(i,!1);else{if(se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ri(e),o!==null){for(t.flags|=128,ur(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return V(K,K.current&1|2),t.child}e=e.sibling}i.tail!==null&&ee()>Hn&&(t.flags|=128,r=!0,ur(i,!1),t.lanes=4194304)}else{if(!r)if(e=ri(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ur(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!G)return pe(t),null}else 2*ee()-i.renderingStartTime>Hn&&n!==1073741824&&(t.flags|=128,r=!0,ur(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ee(),t.sibling=null,n=K.current,V(K,r?n&1|2:n&1),t):(pe(t),null);case 22:case 23:return fa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pe&1073741824&&(pe(t),t.subtreeFlags&6&&(t.flags|=8192)):pe(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function Um(e,t){switch(Kl(t),t.tag){case 1:return be(t.type)&&Js(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bn(),W(Ee),W(ge),na(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ta(t),null;case 13:if(W(K),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));Mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(K),null;case 4:return Bn(),null;case 10:return Yl(t.type._context),null;case 22:case 23:return fa(),null;case 24:return null;default:return null}}var xs=!1,me=!1,Dm=typeof WeakSet=="function"?WeakSet:Set,N=null;function Nn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Y(e,t,r)}else n.current=null}function al(e,t,n){try{n()}catch(r){Y(e,t,r)}}var Lu=!1;function Mm(e,t){if(Wo=Gs,e=md(),Wl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===n&&++c===s&&(l=o),f===i&&++d===r&&(a=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Go={focusedElem:e,selectionRange:n},Gs=!1,N=t;N!==null;)if(t=N,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,N=e;else for(;N!==null;){t=N;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,j=w.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ve(t.type,y),j);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(_){Y(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,N=e;break}N=t.return}return w=Lu,Lu=!1,w}function Er(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&al(t,n,i)}s=s.next}while(s!==r)}}function bi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ul(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function dh(e){var t=e.alternate;t!==null&&(e.alternate=null,dh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[et],delete t[Mr],delete t[Qo],delete t[km],delete t[Sm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hh(e){return e.tag===5||e.tag===3||e.tag===4}function Fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qs));else if(r!==4&&(e=e.child,e!==null))for(cl(e,t,n),e=e.sibling;e!==null;)cl(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dl(e,t,n),e=e.sibling;e!==null;)dl(e,t,n),e=e.sibling}var ue=null,He=!1;function gt(e,t,n){for(n=n.child;n!==null;)fh(e,t,n),n=n.sibling}function fh(e,t,n){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(yi,n)}catch{}switch(n.tag){case 5:me||Nn(n,t);case 6:var r=ue,s=He;ue=null,gt(e,t,n),ue=r,He=s,ue!==null&&(He?(e=ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ue.removeChild(n.stateNode));break;case 18:ue!==null&&(He?(e=ue,n=n.stateNode,e.nodeType===8?ao(e.parentNode,n):e.nodeType===1&&ao(e,n),$r(e)):ao(ue,n.stateNode));break;case 4:r=ue,s=He,ue=n.stateNode.containerInfo,He=!0,gt(e,t,n),ue=r,He=s;break;case 0:case 11:case 14:case 15:if(!me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&al(n,t,o),s=s.next}while(s!==r)}gt(e,t,n);break;case 1:if(!me&&(Nn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Y(n,t,l)}gt(e,t,n);break;case 21:gt(e,t,n);break;case 22:n.mode&1?(me=(r=me)||n.memoizedState!==null,gt(e,t,n),me=r):gt(e,t,n);break;default:gt(e,t,n)}}function $u(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dm),t.forEach(function(r){var s=Qm.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Be(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ue=l.stateNode,He=!1;break e;case 3:ue=l.stateNode.containerInfo,He=!0;break e;case 4:ue=l.stateNode.containerInfo,He=!0;break e}l=l.return}if(ue===null)throw Error(b(160));fh(i,o,s),ue=null,He=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){Y(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ph(t,e),t=t.sibling}function ph(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Be(t,e),Je(e),r&4){try{Er(3,e,e.return),bi(3,e)}catch(y){Y(e,e.return,y)}try{Er(5,e,e.return)}catch(y){Y(e,e.return,y)}}break;case 1:Be(t,e),Je(e),r&512&&n!==null&&Nn(n,n.return);break;case 5:if(Be(t,e),Je(e),r&512&&n!==null&&Nn(n,n.return),e.flags&32){var s=e.stateNode;try{Or(s,"")}catch(y){Y(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ac(s,i),$o(l,o);var c=$o(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?zc(s,h):d==="dangerouslySetInnerHTML"?Dc(s,h):d==="children"?Or(s,h):Rl(s,d,h,c)}switch(l){case"input":To(s,i);break;case"textarea":Ic(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?On(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?On(s,!!i.multiple,i.defaultValue,!0):On(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mr]=i}catch(y){Y(e,e.return,y)}}break;case 6:if(Be(t,e),Je(e),r&4){if(e.stateNode===null)throw Error(b(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){Y(e,e.return,y)}}break;case 3:if(Be(t,e),Je(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$r(t.containerInfo)}catch(y){Y(e,e.return,y)}break;case 4:Be(t,e),Je(e);break;case 13:Be(t,e),Je(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(da=ee())),r&4&&$u(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(me=(c=me)||d,Be(t,e),me=c):Be(t,e),Je(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(N=e,d=e.child;d!==null;){for(h=N=d;N!==null;){switch(f=N,v=f.child,f.tag){case 0:case 11:case 14:case 15:Er(4,f,f.return);break;case 1:Nn(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){Y(r,n,y)}}break;case 5:Nn(f,f.return);break;case 22:if(f.memoizedState!==null){Iu(h);continue}}v!==null?(v.return=f,N=v):Iu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Mc("display",o))}catch(y){Y(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Y(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Be(t,e),Je(e),r&4&&$u(e);break;case 21:break;default:Be(t,e),Je(e)}}function Je(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hh(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Or(s,""),r.flags&=-33);var i=Fu(e);dl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Fu(e);cl(e,l,o);break;default:throw Error(b(161))}}catch(a){Y(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zm(e,t,n){N=e,mh(e)}function mh(e,t,n){for(var r=(e.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||xs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||me;l=xs;var c=me;if(xs=o,(me=a)&&!c)for(N=s;N!==null;)o=N,a=o.child,o.tag===22&&o.memoizedState!==null?Uu(s):a!==null?(a.return=o,N=a):Uu(s);for(;i!==null;)N=i,mh(i),i=i.sibling;N=s,xs=l,me=c}Au(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):Au(e)}}function Au(e){for(;N!==null;){var t=N;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:me||bi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!me)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ve(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xu(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xu(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$r(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}me||t.flags&512&&ul(t)}catch(f){Y(t,t.return,f)}}if(t===e){N=null;break}if(n=t.sibling,n!==null){n.return=t.return,N=n;break}N=t.return}}function Iu(e){for(;N!==null;){var t=N;if(t===e){N=null;break}var n=t.sibling;if(n!==null){n.return=t.return,N=n;break}N=t.return}}function Uu(e){for(;N!==null;){var t=N;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bi(4,t)}catch(a){Y(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){Y(t,s,a)}}var i=t.return;try{ul(t)}catch(a){Y(t,i,a)}break;case 5:var o=t.return;try{ul(t)}catch(a){Y(t,o,a)}}}catch(a){Y(t,t.return,a)}if(t===e){N=null;break}var l=t.sibling;if(l!==null){l.return=t.return,N=l;break}N=t.return}}var Bm=Math.ceil,oi=pt.ReactCurrentDispatcher,ua=pt.ReactCurrentOwner,Ue=pt.ReactCurrentBatchConfig,U=0,ae=null,te=null,de=0,Pe=0,Pn=Bt(0),se=0,Gr=null,ln=0,Ci=0,ca=0,br=null,ke=null,da=0,Hn=1/0,st=null,li=!1,hl=null,Ft=null,_s=!1,bt=null,ai=0,Cr=0,fl=null,Us=-1,Ds=0;function ye(){return U&6?ee():Us!==-1?Us:Us=ee()}function $t(e){return e.mode&1?U&2&&de!==0?de&-de:Em.transition!==null?(Ds===0&&(Ds=Zc()),Ds):(e=M,e!==0||(e=window.event,e=e===void 0?16:od(e.type)),e):1}function qe(e,t,n,r){if(50<Cr)throw Cr=0,fl=null,Error(b(185));Yr(e,n,r),(!(U&2)||e!==ae)&&(e===ae&&(!(U&2)&&(Ci|=n),se===4&&St(e,de)),Ce(e,r),n===1&&U===0&&!(t.mode&1)&&(Hn=ee()+500,Si&&Vt()))}function Ce(e,t){var n=e.callbackNode;Ep(e,t);var r=Ws(e,e===ae?de:0);if(r===0)n!==null&&Ka(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ka(n),t===1)e.tag===0?jm(Du.bind(null,e)):Ed(Du.bind(null,e)),xm(function(){!(U&6)&&Vt()}),n=null;else{switch(ed(r)){case 1:n=Il;break;case 4:n=Yc;break;case 16:n=Hs;break;case 536870912:n=Xc;break;default:n=Hs}n=Sh(n,gh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gh(e,t){if(Us=-1,Ds=0,U&6)throw Error(b(327));var n=e.callbackNode;if(An()&&e.callbackNode!==n)return null;var r=Ws(e,e===ae?de:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ui(e,r);else{t=r;var s=U;U|=2;var i=yh();(ae!==e||de!==t)&&(st=null,Hn=ee()+500,tn(e,t));do try{Wm();break}catch(l){vh(e,l)}while(!0);Jl(),oi.current=i,U=s,te!==null?t=0:(ae=null,de=0,t=se)}if(t!==0){if(t===2&&(s=Mo(e),s!==0&&(r=s,t=pl(e,s))),t===1)throw n=Gr,tn(e,0),St(e,r),Ce(e,ee()),n;if(t===6)St(e,r);else{if(s=e.current.alternate,!(r&30)&&!Vm(s)&&(t=ui(e,r),t===2&&(i=Mo(e),i!==0&&(r=i,t=pl(e,i))),t===1))throw n=Gr,tn(e,0),St(e,r),Ce(e,ee()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(b(345));case 2:Qt(e,ke,st);break;case 3:if(St(e,r),(r&130023424)===r&&(t=da+500-ee(),10<t)){if(Ws(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ye(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=qo(Qt.bind(null,e,ke,st),t);break}Qt(e,ke,st);break;case 4:if(St(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ke(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bm(r/1960))-r,10<r){e.timeoutHandle=qo(Qt.bind(null,e,ke,st),r);break}Qt(e,ke,st);break;case 5:Qt(e,ke,st);break;default:throw Error(b(329))}}}return Ce(e,ee()),e.callbackNode===n?gh.bind(null,e):null}function pl(e,t){var n=br;return e.current.memoizedState.isDehydrated&&(tn(e,t).flags|=256),e=ui(e,t),e!==2&&(t=ke,ke=n,t!==null&&ml(t)),e}function ml(e){ke===null?ke=e:ke.push.apply(ke,e)}function Vm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qe(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function St(e,t){for(t&=~ca,t&=~Ci,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ke(t),r=1<<n;e[n]=-1,t&=~r}}function Du(e){if(U&6)throw Error(b(327));An();var t=Ws(e,0);if(!(t&1))return Ce(e,ee()),null;var n=ui(e,t);if(e.tag!==0&&n===2){var r=Mo(e);r!==0&&(t=r,n=pl(e,r))}if(n===1)throw n=Gr,tn(e,0),St(e,t),Ce(e,ee()),n;if(n===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qt(e,ke,st),Ce(e,ee()),null}function ha(e,t){var n=U;U|=1;try{return e(t)}finally{U=n,U===0&&(Hn=ee()+500,Si&&Vt())}}function an(e){bt!==null&&bt.tag===0&&!(U&6)&&An();var t=U;U|=1;var n=Ue.transition,r=M;try{if(Ue.transition=null,M=1,e)return e()}finally{M=r,Ue.transition=n,U=t,!(U&6)&&Vt()}}function fa(){Pe=Pn.current,W(Pn)}function tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wm(n)),te!==null)for(n=te.return;n!==null;){var r=n;switch(Kl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Js();break;case 3:Bn(),W(Ee),W(ge),na();break;case 5:ta(r);break;case 4:Bn();break;case 13:W(K);break;case 19:W(K);break;case 10:Yl(r.type._context);break;case 22:case 23:fa()}n=n.return}if(ae=e,te=e=At(e.current,null),de=Pe=t,se=0,Gr=null,ca=Ci=ln=0,ke=br=null,Zt!==null){for(t=0;t<Zt.length;t++)if(n=Zt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Zt=null}return e}function vh(e,t){do{var n=te;try{if(Jl(),$s.current=ii,si){for(var r=q.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}si=!1}if(on=0,le=re=q=null,jr=!1,Vr=0,ua.current=null,n===null||n.return===null){se=1,Gr=t,te=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=de,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=bu(o);if(v!==null){v.flags&=-257,Cu(v,o,l,i,t),v.mode&1&&Eu(i,c,t),t=v,a=c;var w=t.updateQueue;if(w===null){var y=new Set;y.add(a),t.updateQueue=y}else w.add(a);break e}else{if(!(t&1)){Eu(i,c,t),pa();break e}a=Error(b(426))}}else if(G&&l.mode&1){var j=bu(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Cu(j,o,l,i,t),ql(Vn(a,l));break e}}i=a=Vn(a,l),se!==4&&(se=2),br===null?br=[i]:br.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=eh(i,a,t);wu(i,p);break e;case 1:l=a;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ft===null||!Ft.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=th(i,l,t);wu(i,_);break e}}i=i.return}while(i!==null)}xh(n)}catch(k){t=k,te===n&&n!==null&&(te=n=n.return);continue}break}while(!0)}function yh(){var e=oi.current;return oi.current=ii,e===null?ii:e}function pa(){(se===0||se===3||se===2)&&(se=4),ae===null||!(ln&268435455)&&!(Ci&268435455)||St(ae,de)}function ui(e,t){var n=U;U|=2;var r=yh();(ae!==e||de!==t)&&(st=null,tn(e,t));do try{Hm();break}catch(s){vh(e,s)}while(!0);if(Jl(),U=n,oi.current=r,te!==null)throw Error(b(261));return ae=null,de=0,se}function Hm(){for(;te!==null;)wh(te)}function Wm(){for(;te!==null&&!gp();)wh(te)}function wh(e){var t=kh(e.alternate,e,Pe);e.memoizedProps=e.pendingProps,t===null?xh(e):te=t,ua.current=null}function xh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Um(n,t),n!==null){n.flags&=32767,te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{se=6,te=null;return}}else if(n=Im(n,t,Pe),n!==null){te=n;return}if(t=t.sibling,t!==null){te=t;return}te=t=e}while(t!==null);se===0&&(se=5)}function Qt(e,t,n){var r=M,s=Ue.transition;try{Ue.transition=null,M=1,Gm(e,t,n,r)}finally{Ue.transition=s,M=r}return null}function Gm(e,t,n,r){do An();while(bt!==null);if(U&6)throw Error(b(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(bp(e,i),e===ae&&(te=ae=null,de=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_s||(_s=!0,Sh(Hs,function(){return An(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ue.transition,Ue.transition=null;var o=M;M=1;var l=U;U|=4,ua.current=null,Mm(e,n),ph(n,e),hm(Go),Gs=!!Wo,Go=Wo=null,e.current=n,zm(n),vp(),U=l,M=o,Ue.transition=i}else e.current=n;if(_s&&(_s=!1,bt=e,ai=s),i=e.pendingLanes,i===0&&(Ft=null),xp(n.stateNode),Ce(e,ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(li)throw li=!1,e=hl,hl=null,e;return ai&1&&e.tag!==0&&An(),i=e.pendingLanes,i&1?e===fl?Cr++:(Cr=0,fl=e):Cr=0,Vt(),null}function An(){if(bt!==null){var e=ed(ai),t=Ue.transition,n=M;try{if(Ue.transition=null,M=16>e?16:e,bt===null)var r=!1;else{if(e=bt,bt=null,ai=0,U&6)throw Error(b(331));var s=U;for(U|=4,N=e.current;N!==null;){var i=N,o=i.child;if(N.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(N=c;N!==null;){var d=N;switch(d.tag){case 0:case 11:case 15:Er(8,d,i)}var h=d.child;if(h!==null)h.return=d,N=h;else for(;N!==null;){d=N;var f=d.sibling,v=d.return;if(dh(d),d===c){N=null;break}if(f!==null){f.return=v,N=f;break}N=v}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var j=y.sibling;y.sibling=null,y=j}while(y!==null)}}N=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,N=o;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Er(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,N=p;break e}N=i.return}}var m=e.current;for(N=m;N!==null;){o=N;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,N=g;else e:for(o=m;N!==null;){if(l=N,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bi(9,l)}}catch(k){Y(l,l.return,k)}if(l===o){N=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,N=_;break e}N=l.return}}if(U=s,Vt(),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(yi,e)}catch{}r=!0}return r}finally{M=n,Ue.transition=t}}return!1}function Mu(e,t,n){t=Vn(n,t),t=eh(e,t,1),e=Lt(e,t,1),t=ye(),e!==null&&(Yr(e,1,t),Ce(e,t))}function Y(e,t,n){if(e.tag===3)Mu(e,e,n);else for(;t!==null;){if(t.tag===3){Mu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ft===null||!Ft.has(r))){e=Vn(n,e),e=th(t,e,1),t=Lt(t,e,1),e=ye(),t!==null&&(Yr(t,1,e),Ce(t,e));break}}t=t.return}}function Km(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ye(),e.pingedLanes|=e.suspendedLanes&n,ae===e&&(de&n)===n&&(se===4||se===3&&(de&130023424)===de&&500>ee()-da?tn(e,0):ca|=n),Ce(e,t)}function _h(e,t){t===0&&(e.mode&1?(t=ds,ds<<=1,!(ds&130023424)&&(ds=4194304)):t=1);var n=ye();e=ht(e,t),e!==null&&(Yr(e,t,n),Ce(e,n))}function qm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_h(e,n)}function Qm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(t),_h(e,n)}var kh;kh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ee.current)je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return je=!1,Am(e,t,n);je=!!(e.flags&131072)}else je=!1,G&&t.flags&1048576&&bd(t,Zs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Is(e,t),e=t.pendingProps;var s=Dn(t,ge.current);$n(t,n),s=sa(null,t,r,e,s,n);var i=ia();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,be(r)?(i=!0,Ys(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zl(t),s.updater=Ei,t.stateNode=s,s._reactInternals=t,tl(t,r,e,n),t=sl(null,t,r,!0,i,n)):(t.tag=0,G&&i&&Gl(t),ve(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Is(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Ym(r),e=Ve(r,e),s){case 0:t=rl(null,t,r,e,n);break e;case 1:t=Tu(null,t,r,e,n);break e;case 11:t=Nu(null,t,r,e,n);break e;case 14:t=Pu(null,t,r,Ve(r.type,e),n);break e}throw Error(b(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ve(r,s),rl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ve(r,s),Tu(e,t,r,s,n);case 3:e:{if(ih(t),e===null)throw Error(b(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Rd(e,t),ni(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Vn(Error(b(423)),t),t=Ou(e,t,r,n,s);break e}else if(r!==s){s=Vn(Error(b(424)),t),t=Ou(e,t,r,n,s);break e}else for(Te=Rt(t.stateNode.containerInfo.firstChild),Oe=t,G=!0,Ge=null,n=Td(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mn(),r===s){t=ft(e,t,n);break e}ve(e,t,r,n)}t=t.child}return t;case 5:return Ld(t),e===null&&Xo(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ko(r,s)?o=null:i!==null&&Ko(r,i)&&(t.flags|=32),sh(e,t),ve(e,t,o,n),t.child;case 6:return e===null&&Xo(t),null;case 13:return oh(e,t,n);case 4:return ea(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zn(t,null,r,n):ve(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ve(r,s),Nu(e,t,r,s,n);case 7:return ve(e,t,t.pendingProps,n),t.child;case 8:return ve(e,t,t.pendingProps.children,n),t.child;case 12:return ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,V(ei,r._currentValue),r._currentValue=o,i!==null)if(Qe(i.value,o)){if(i.children===s.children&&!Ee.current){t=ft(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=ut(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Zo(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(b(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zo(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ve(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,$n(t,n),s=Me(s),r=r(s),t.flags|=1,ve(e,t,r,n),t.child;case 14:return r=t.type,s=Ve(r,t.pendingProps),s=Ve(r.type,s),Pu(e,t,r,s,n);case 15:return nh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ve(r,s),Is(e,t),t.tag=1,be(r)?(e=!0,Ys(t)):e=!1,$n(t,n),Zd(t,r,s),tl(t,r,s,n),sl(null,t,r,!0,e,n);case 19:return lh(e,t,n);case 22:return rh(e,t,n)}throw Error(b(156,t.tag))};function Sh(e,t){return Jc(e,t)}function Jm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(e,t,n,r){return new Jm(e,t,n,r)}function ma(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ym(e){if(typeof e=="function")return ma(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fl)return 11;if(e===$l)return 14}return 2}function At(e,t){var n=e.alternate;return n===null?(n=Ie(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ms(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")ma(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case wn:return nn(n.children,s,i,t);case Ll:o=8,s|=8;break;case Eo:return e=Ie(12,n,t,s|2),e.elementType=Eo,e.lanes=i,e;case bo:return e=Ie(13,n,t,s),e.elementType=bo,e.lanes=i,e;case Co:return e=Ie(19,n,t,s),e.elementType=Co,e.lanes=i,e;case Lc:return Ni(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oc:o=10;break e;case Rc:o=9;break e;case Fl:o=11;break e;case $l:o=14;break e;case wt:o=16,r=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=Ie(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function nn(e,t,n,r){return e=Ie(7,e,r,t),e.lanes=n,e}function Ni(e,t,n,r){return e=Ie(22,e,r,t),e.elementType=Lc,e.lanes=n,e.stateNode={isHidden:!1},e}function vo(e,t,n){return e=Ie(6,e,null,t),e.lanes=n,e}function yo(e,t,n){return t=Ie(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xm(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yi(0),this.expirationTimes=Yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ga(e,t,n,r,s,i,o,l,a){return e=new Xm(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ie(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zl(i),e}function Zm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function jh(e){if(!e)return Dt;e=e._reactInternals;e:{if(cn(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var n=e.type;if(be(n))return jd(e,n,t)}return t}function Eh(e,t,n,r,s,i,o,l,a){return e=ga(n,r,!0,e,s,i,o,l,a),e.context=jh(null),n=e.current,r=ye(),s=$t(n),i=ut(r,s),i.callback=t??null,Lt(n,i,s),e.current.lanes=s,Yr(e,s,r),Ce(e,r),e}function Pi(e,t,n,r){var s=t.current,i=ye(),o=$t(s);return n=jh(n),t.context===null?t.context=n:t.pendingContext=n,t=ut(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Lt(s,t,o),e!==null&&(qe(e,s,o,i),Fs(e,s,o)),o}function ci(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function va(e,t){zu(e,t),(e=e.alternate)&&zu(e,t)}function eg(){return null}var bh=typeof reportError=="function"?reportError:function(e){console.error(e)};function ya(e){this._internalRoot=e}Ti.prototype.render=ya.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));Pi(e,t,null,null)};Ti.prototype.unmount=ya.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;an(function(){Pi(null,e,null,null)}),t[dt]=null}};function Ti(e){this._internalRoot=e}Ti.prototype.unstable_scheduleHydration=function(e){if(e){var t=rd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kt.length&&t!==0&&t<kt[n].priority;n++);kt.splice(n,0,e),n===0&&id(e)}};function wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bu(){}function tg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ci(o);i.call(c)}}var o=Eh(t,r,e,0,null,!1,!1,"",Bu);return e._reactRootContainer=o,e[dt]=o.current,Ur(e.nodeType===8?e.parentNode:e),an(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=ci(a);l.call(c)}}var a=ga(e,0,!1,null,null,!1,!1,"",Bu);return e._reactRootContainer=a,e[dt]=a.current,Ur(e.nodeType===8?e.parentNode:e),an(function(){Pi(t,a,n,r)}),a}function Ri(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=ci(o);l.call(a)}}Pi(t,o,e,s)}else o=tg(n,t,e,s,r);return ci(o)}td=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gr(t.pendingLanes);n!==0&&(Ul(t,n|1),Ce(t,ee()),!(U&6)&&(Hn=ee()+500,Vt()))}break;case 13:an(function(){var r=ht(e,1);if(r!==null){var s=ye();qe(r,e,1,s)}}),va(e,1)}};Dl=function(e){if(e.tag===13){var t=ht(e,134217728);if(t!==null){var n=ye();qe(t,e,134217728,n)}va(e,134217728)}};nd=function(e){if(e.tag===13){var t=$t(e),n=ht(e,t);if(n!==null){var r=ye();qe(n,e,t,r)}va(e,t)}};rd=function(){return M};sd=function(e,t){var n=M;try{return M=e,t()}finally{M=n}};Io=function(e,t,n){switch(t){case"input":if(To(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ki(r);if(!s)throw Error(b(90));$c(r),To(r,s)}}}break;case"textarea":Ic(e,n);break;case"select":t=n.value,t!=null&&On(e,!!n.multiple,t,!1)}};Hc=ha;Wc=an;var ng={usingClientEntryPoint:!1,Events:[Zr,Sn,ki,Bc,Vc,ha]},cr={findFiberByHostInstance:Xt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rg={bundleType:cr.bundleType,version:cr.version,rendererPackageName:cr.rendererPackageName,rendererConfig:cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qc(e),e===null?null:e.stateNode},findFiberByHostInstance:cr.findFiberByHostInstance||eg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ks.isDisabled&&ks.supportsFiber)try{yi=ks.inject(rg),tt=ks}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ng;Le.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wa(t))throw Error(b(200));return Zm(e,t,null,n)};Le.createRoot=function(e,t){if(!wa(e))throw Error(b(299));var n=!1,r="",s=bh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ga(e,1,!1,null,null,n,!1,r,s),e[dt]=t.current,Ur(e.nodeType===8?e.parentNode:e),new ya(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=qc(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return an(e)};Le.hydrate=function(e,t,n){if(!Oi(t))throw Error(b(200));return Ri(null,e,t,!0,n)};Le.hydrateRoot=function(e,t,n){if(!wa(e))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=bh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Eh(t,null,e,1,n??null,s,!1,i,o),e[dt]=t.current,Ur(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ti(t)};Le.render=function(e,t,n){if(!Oi(t))throw Error(b(200));return Ri(null,e,t,!1,n)};Le.unmountComponentAtNode=function(e){if(!Oi(e))throw Error(b(40));return e._reactRootContainer?(an(function(){Ri(null,null,e,!1,function(){e._reactRootContainer=null,e[dt]=null})}),!0):!1};Le.unstable_batchedUpdates=ha;Le.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Oi(n))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return Ri(e,t,n,!1,r)};Le.version="18.3.1-next-f1338f8080-20240426";function Ch(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ch)}catch(e){console.error(e)}}Ch(),Cc.exports=Le;var sg=Cc.exports,Nh,Vu=sg;Nh=Vu.createRoot,Vu.hydrateRoot;class ts{constructor(t=0,n="Network Error"){this.status=t,this.text=n}}const ig=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},ce={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:ig()},xa=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},og=(e,t="https://api.emailjs.com")=>{if(!e)return;const n=xa(e);ce.publicKey=n.publicKey,ce.blockHeadless=n.blockHeadless,ce.storageProvider=n.storageProvider,ce.blockList=n.blockList,ce.limitRate=n.limitRate,ce.origin=n.origin||t},Ph=async(e,t,n={})=>{const r=await fetch(ce.origin+e,{method:"POST",headers:n,body:t}),s=await r.text(),i=new ts(r.status,s);if(r.ok)return i;throw i},Th=(e,t,n)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},lg=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Oh=e=>e.webdriver||!e.languages||e.languages.length===0,Rh=()=>new ts(451,"Unavailable For Headless Browser"),ag=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},ug=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},cg=(e,t)=>e instanceof FormData?e.get(t):e[t],Lh=(e,t)=>{if(ug(e))return!1;ag(e.list,e.watchVariable);const n=cg(t,e.watchVariable);return typeof n!="string"?!1:e.list.includes(n)},Fh=()=>new ts(403,"Forbidden"),dg=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},hg=async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r},$h=async(e,t,n)=>{if(!t.throttle||!n)return!1;dg(t.throttle,t.id);const r=t.id||e;return await hg(r,t.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},Ah=()=>new ts(429,"Too Many Requests"),fg=async(e,t,n,r)=>{const s=xa(r),i=s.publicKey||ce.publicKey,o=s.blockHeadless||ce.blockHeadless,l=s.storageProvider||ce.storageProvider,a={...ce.blockList,...s.blockList},c={...ce.limitRate,...s.limitRate};return o&&Oh(navigator)?Promise.reject(Rh()):(Th(i,e,t),lg(n),n&&Lh(a,n)?Promise.reject(Fh()):await $h(location.pathname,c,l)?Promise.reject(Ah()):Ph("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"}))},pg=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},mg=e=>typeof e=="string"?document.querySelector(e):e,gg=async(e,t,n,r)=>{const s=xa(r),i=s.publicKey||ce.publicKey,o=s.blockHeadless||ce.blockHeadless,l=ce.storageProvider||s.storageProvider,a={...ce.blockList,...s.blockList},c={...ce.limitRate,...s.limitRate};if(o&&Oh(navigator))return Promise.reject(Rh());const d=mg(n);Th(i,e,t),pg(d);const h=new FormData(d);return Lh(a,h)?Promise.reject(Fh()):await $h(location.pathname,c,l)?Promise.reject(Ah()):(h.append("lib_version","4.4.1"),h.append("service_id",e),h.append("template_id",t),h.append("user_id",i),Ph("/api/v1.0/email/send-form",h))},_a={init:og,send:fg,sendForm:gg,EmailJSResponseStatus:ts};/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kr.apply(this,arguments)}var Ct;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ct||(Ct={}));const Hu="popstate";function vg(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return gl("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:di(s)}return wg(t,n,null,e)}function Q(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ih(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yg(){return Math.random().toString(36).substr(2,8)}function Wu(e,t){return{usr:e.state,key:e.key,idx:t}}function gl(e,t,n,r){return n===void 0&&(n=null),Kr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xn(t):t,{state:n,key:t&&t.key||r||yg()})}function di(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Xn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function wg(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Ct.Pop,a=null,c=d();c==null&&(c=0,o.replaceState(Kr({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Ct.Pop;let j=d(),p=j==null?null:j-c;c=j,a&&a({action:l,location:y.location,delta:p})}function f(j,p){l=Ct.Push;let m=gl(y.location,j,p);c=d()+1;let g=Wu(m,c),_=y.createHref(m);try{o.pushState(g,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}i&&a&&a({action:l,location:y.location,delta:1})}function v(j,p){l=Ct.Replace;let m=gl(y.location,j,p);c=d();let g=Wu(m,c),_=y.createHref(m);o.replaceState(g,"",_),i&&a&&a({action:l,location:y.location,delta:0})}function w(j){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof j=="string"?j:di(j);return m=m.replace(/ $/,"%20"),Q(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let y={get action(){return l},get location(){return e(s,o)},listen(j){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(Hu,h),a=j,()=>{s.removeEventListener(Hu,h),a=null}},createHref(j){return t(s,j)},createURL:w,encodeLocation(j){let p=w(j);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:v,go(j){return o.go(j)}};return y}var Gu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Gu||(Gu={}));function xg(e,t,n){return n===void 0&&(n="/"),_g(e,t,n,!1)}function _g(e,t,n,r){let s=typeof t=="string"?Xn(t):t,i=Wn(s.pathname||"/",n);if(i==null)return null;let o=Uh(e);kg(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let c=Lg(i);l=Og(o[a],c,r)}return l}function Uh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let a={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(Q(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=It([r,a.relativePath]),d=n.concat(a);i.children&&i.children.length>0&&(Q(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Uh(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Pg(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let a of Dh(i.path))s(i,o,a)}),t}function Dh(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Dh(r.join("/")),l=[];return l.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function kg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Tg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Sg=/^:[\w-]+$/,jg=3,Eg=2,bg=1,Cg=10,Ng=-2,Ku=e=>e==="*";function Pg(e,t){let n=e.split("/"),r=n.length;return n.some(Ku)&&(r+=Ng),t&&(r+=Eg),n.filter(s=>!Ku(s)).reduce((s,i)=>s+(Sg.test(i)?jg:i===""?bg:Cg),r)}function Tg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Og(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],c=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=hi({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d),f=a.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=hi({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:It([i,h.pathname]),pathnameBase:Ig(It([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=It([i,h.pathnameBase]))}return o}function hi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Rg(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:v}=d;if(f==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=l[h];return v&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Rg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ih(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Lg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ih(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Fg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Xn(e):e;return{pathname:n?n.startsWith("/")?n:$g(n,t):t,search:Ug(r),hash:Dg(s)}}function $g(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wo(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ag(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ka(e,t){let n=Ag(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Sa(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Xn(e):(s=Kr({},e),Q(!s.pathname||!s.pathname.includes("?"),wo("?","pathname","search",s)),Q(!s.pathname||!s.pathname.includes("#"),wo("#","pathname","hash",s)),Q(!s.search||!s.search.includes("#"),wo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let a=Fg(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||d)&&(a.pathname+="/"),a}const It=e=>e.join("/").replace(/\/\/+/g,"/"),Ig=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ug=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Dg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Mg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Mh=["post","put","patch","delete"];new Set(Mh);const zg=["get",...Mh];new Set(zg);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qr(){return qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qr.apply(this,arguments)}const Li=x.createContext(null),zh=x.createContext(null),mt=x.createContext(null),Fi=x.createContext(null),rt=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Bh=x.createContext(null);function Bg(e,t){let{relative:n}=t===void 0?{}:t;Zn()||Q(!1);let{basename:r,navigator:s}=x.useContext(mt),{hash:i,pathname:o,search:l}=$i(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:It([r,o])),s.createHref({pathname:a,search:l,hash:i})}function Zn(){return x.useContext(Fi)!=null}function dn(){return Zn()||Q(!1),x.useContext(Fi).location}function Vh(e){x.useContext(mt).static||x.useLayoutEffect(e)}function Ht(){let{isDataRoute:e}=x.useContext(rt);return e?sv():Vg()}function Vg(){Zn()||Q(!1);let e=x.useContext(Li),{basename:t,future:n,navigator:r}=x.useContext(mt),{matches:s}=x.useContext(rt),{pathname:i}=dn(),o=JSON.stringify(ka(s,n.v7_relativeSplatPath)),l=x.useRef(!1);return Vh(()=>{l.current=!0}),x.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=Sa(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:It([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const Hg=x.createContext(null);function Wg(e){let t=x.useContext(rt).outlet;return t&&x.createElement(Hg.Provider,{value:e},t)}function Gg(){let{matches:e}=x.useContext(rt),t=e[e.length-1];return t?t.params:{}}function $i(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(mt),{matches:s}=x.useContext(rt),{pathname:i}=dn(),o=JSON.stringify(ka(s,r.v7_relativeSplatPath));return x.useMemo(()=>Sa(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Kg(e,t){return qg(e,t)}function qg(e,t,n,r){Zn()||Q(!1);let{navigator:s}=x.useContext(mt),{matches:i}=x.useContext(rt),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=dn(),d;if(t){var h;let j=typeof t=="string"?Xn(t):t;a==="/"||(h=j.pathname)!=null&&h.startsWith(a)||Q(!1),d=j}else d=c;let f=d.pathname||"/",v=f;if(a!=="/"){let j=a.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=xg(e,{pathname:v}),y=Zg(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:It([a,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?a:It([a,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,r);return t&&y?x.createElement(Fi.Provider,{value:{location:qr({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ct.Pop}},y):y}function Qg(){let e=rv(),t=Mg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:s},n):null,null)}const Jg=x.createElement(Qg,null);class Yg extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(rt.Provider,{value:this.props.routeContext},x.createElement(Bh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xg(e){let{routeContext:t,match:n,children:r}=e,s=x.useContext(Li);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(rt.Provider,{value:t},r)}function Zg(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Q(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:v}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||w){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let v,w=!1,y=null,j=null;n&&(v=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||Jg,a&&(c<0&&f===0?(w=!0,j=null):c===f&&(w=!0,j=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),m=()=>{let g;return v?g=y:w?g=j:h.route.Component?g=x.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,x.createElement(Xg,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(Yg,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var Hh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hh||{}),fi=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fi||{});function ev(e){let t=x.useContext(Li);return t||Q(!1),t}function tv(e){let t=x.useContext(zh);return t||Q(!1),t}function nv(e){let t=x.useContext(rt);return t||Q(!1),t}function Wh(e){let t=nv(),n=t.matches[t.matches.length-1];return n.route.id||Q(!1),n.route.id}function rv(){var e;let t=x.useContext(Bh),n=tv(fi.UseRouteError),r=Wh(fi.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function sv(){let{router:e}=ev(Hh.UseNavigateStable),t=Wh(fi.UseNavigateStable),n=x.useRef(!1);return Vh(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,qr({fromRouteId:t},i)))},[e,t])}const qu={};function iv(e,t){qu[t]||(qu[t]=!0,console.warn(t))}const Qu=(e,t,n)=>iv(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function ov(e,t){(e==null?void 0:e.v7_startTransition)===void 0&&Qu("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(e==null?void 0:e.v7_relativeSplatPath)===void 0&&!t&&Qu("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function lv(e){let{to:t,replace:n,state:r,relative:s}=e;Zn()||Q(!1);let{future:i,static:o}=x.useContext(mt),{matches:l}=x.useContext(rt),{pathname:a}=dn(),c=Ht(),d=Sa(t,ka(l,i.v7_relativeSplatPath),a,s==="path"),h=JSON.stringify(d);return x.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function av(e){return Wg(e.context)}function Ye(e){Q(!1)}function uv(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ct.Pop,navigator:i,static:o=!1,future:l}=e;Zn()&&Q(!1);let a=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:a,navigator:i,static:o,future:qr({v7_relativeSplatPath:!1},l)}),[a,l,i,o]);typeof r=="string"&&(r=Xn(r));let{pathname:d="/",search:h="",hash:f="",state:v=null,key:w="default"}=r,y=x.useMemo(()=>{let j=Wn(d,a);return j==null?null:{location:{pathname:j,search:h,hash:f,state:v,key:w},navigationType:s}},[a,d,h,f,v,w,s]);return y==null?null:x.createElement(mt.Provider,{value:c},x.createElement(Fi.Provider,{children:n,value:y}))}function cv(e){let{children:t,location:n}=e;return Kg(vl(t),n)}new Promise(()=>{});function vl(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,s)=>{if(!x.isValidElement(r))return;let i=[...t,s];if(r.type===x.Fragment){n.push.apply(n,vl(r.props.children,i));return}r.type!==Ye&&Q(!1),!r.props.index||!r.props.children||Q(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vl(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pi.apply(this,arguments)}function Gh(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function dv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hv(e,t){return e.button===0&&(!t||t==="_self")&&!dv(e)}const fv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],mv="6";try{window.__reactRouterVersion=mv}catch{}const gv=x.createContext({isTransitioning:!1}),vv="startTransition",Ju=Kf[vv];function yv(e){let{basename:t,children:n,future:r,window:s}=e,i=x.useRef();i.current==null&&(i.current=vg({window:s,v5Compat:!0}));let o=i.current,[l,a]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=x.useCallback(h=>{c&&Ju?Ju(()=>a(h)):a(h)},[a,c]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>ov(r),[r]),x.createElement(uv,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const wv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nt=x.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:a,to:c,preventScrollReset:d,viewTransition:h}=t,f=Gh(t,fv),{basename:v}=x.useContext(mt),w,y=!1;if(typeof c=="string"&&xv.test(c)&&(w=c,wv))try{let g=new URL(window.location.href),_=c.startsWith("//")?new URL(g.protocol+c):new URL(c),k=Wn(_.pathname,v);_.origin===g.origin&&k!=null?c=k+_.search+_.hash:y=!0}catch{}let j=Bg(c,{relative:s}),p=Sv(c,{replace:o,state:l,target:a,preventScrollReset:d,relative:s,viewTransition:h});function m(g){r&&r(g),g.defaultPrevented||p(g)}return x.createElement("a",pi({},f,{href:w||j,onClick:y||i?r:m,ref:n,target:a}))}),_v=x.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:a,viewTransition:c,children:d}=t,h=Gh(t,pv),f=$i(a,{relative:h.relative}),v=dn(),w=x.useContext(zh),{navigator:y,basename:j}=x.useContext(mt),p=w!=null&&jv(f)&&c===!0,m=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,g=v.pathname,_=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(g=g.toLowerCase(),_=_?_.toLowerCase():null,m=m.toLowerCase()),_&&j&&(_=Wn(_,j)||_);const k=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=g===m||!o&&g.startsWith(m)&&g.charAt(k)==="/",E=_!=null&&(_===m||!o&&_.startsWith(m)&&_.charAt(m.length)==="/"),C={isActive:S,isPending:E,isTransitioning:p},D=S?r:void 0,T;typeof i=="function"?T=i(C):T=[i,S?"active":null,E?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let ne=typeof l=="function"?l(C):l;return x.createElement(Nt,pi({},h,{"aria-current":D,className:T,ref:n,style:ne,to:a,viewTransition:c}),typeof d=="function"?d(C):d)});var yl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yl||(yl={}));var Yu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yu||(Yu={}));function kv(e){let t=x.useContext(Li);return t||Q(!1),t}function Sv(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,a=Ht(),c=dn(),d=$i(e,{relative:o});return x.useCallback(h=>{if(hv(h,n)){h.preventDefault();let f=r!==void 0?r:di(c)===di(d);a(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,a,d,r,s,n,e,i,o,l])}function jv(e,t){t===void 0&&(t={});let n=x.useContext(gv);n==null&&Q(!1);let{basename:r}=kv(yl.useViewTransitionState),s=$i(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Wn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Wn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hi(s.pathname,o)!=null||hi(s.pathname,i)!=null}const Ev="modulepreload",bv=function(e){return"/"+e},Xu={},Gn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=bv(a),a in Xu)return;Xu[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Ev,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Cv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Gn(async()=>{const{default:r}=await Promise.resolve().then(()=>er);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ja extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Nv extends ja{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Pv extends ja{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tv extends ja{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wl||(wl={}));var Ov=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class Rv{constructor(t,{headers:n={},customFetch:r,region:s=wl.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Cv(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Ov(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(w=>{throw new Nv(w)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Pv(d);if(!d.ok)throw new Tv(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var Se={},Ea={},Ai={},ns={},Ii={},Ui={},Lv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kn=Lv();const Fv=Kn.fetch,Kh=Kn.fetch.bind(Kn),qh=Kn.Headers,$v=Kn.Request,Av=Kn.Response,er=Object.freeze(Object.defineProperty({__proto__:null,Headers:qh,Request:$v,Response:Av,default:Kh,fetch:Fv},Symbol.toStringTag,{value:"Module"})),Iv=Of(er);var Di={};Object.defineProperty(Di,"__esModule",{value:!0});let Uv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Di.default=Uv;var Qh=De&&De.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ui,"__esModule",{value:!0});const Dv=Qh(Iv),Mv=Qh(Di);let zv=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Dv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let c=null,d=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,v="OK")}catch{i.status===404&&y===""?(f=204,v="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,f=200,v="OK"),c&&this.shouldThrowOnError)throw new Mv.default(c)}return{error:c,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}};Ui.default=zv;var Bv=De&&De.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ii,"__esModule",{value:!0});const Vv=Bv(Ui);let Hv=class extends Vv.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ii.default=Hv;var Wv=De&&De.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ns,"__esModule",{value:!0});const Gv=Wv(Ii);let Kv=class extends Gv.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ns.default=Kv;var qv=De&&De.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ai,"__esModule",{value:!0});const dr=qv(ns);let Qv=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new dr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new dr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new dr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new dr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new dr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ai.default=Qv;var Mi={},zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.version=void 0;zi.version="0.0.0-automated";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.DEFAULT_HEADERS=void 0;const Jv=zi;Mi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Jv.version}`};var Jh=De&&De.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ea,"__esModule",{value:!0});const Yv=Jh(Ai),Xv=Jh(ns),Zv=Mi;let e0=class Yh{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Zv.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Yv.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Yh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Xv.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};Ea.default=e0;var tr=De&&De.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Se,"__esModule",{value:!0});Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;const Xh=tr(Ea);Se.PostgrestClient=Xh.default;const Zh=tr(Ai);Se.PostgrestQueryBuilder=Zh.default;const ef=tr(ns);Se.PostgrestFilterBuilder=ef.default;const tf=tr(Ii);Se.PostgrestTransformBuilder=tf.default;const nf=tr(Ui);Se.PostgrestBuilder=nf.default;const rf=tr(Di);Se.PostgrestError=rf.default;var t0=Se.default={PostgrestClient:Xh.default,PostgrestQueryBuilder:Zh.default,PostgrestFilterBuilder:ef.default,PostgrestTransformBuilder:tf.default,PostgrestBuilder:nf.default,PostgrestError:rf.default};const{PostgrestClient:n0,PostgrestQueryBuilder:Ow,PostgrestFilterBuilder:Rw,PostgrestTransformBuilder:Lw,PostgrestBuilder:Fw,PostgrestError:$w}=t0,r0="2.11.2",s0={"X-Client-Info":`realtime-js/${r0}`},i0="1.0.0",sf=1e4,o0=1e3;var In;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(In||(In={}));var Ne;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ne||(Ne={}));var We;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(We||(We={}));var xl;(function(e){e.websocket="websocket"})(xl||(xl={}));var Yt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yt||(Yt={}));class l0{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const a=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class of{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(B||(B={}));const Zu=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=a0(o,e,t,s),i),{})},a0=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?lf(i,o):_l(o)},lf=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return h0(t,n)}switch(e){case B.bool:return u0(t);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return c0(t);case B.json:case B.jsonb:return d0(t);case B.timestamp:return f0(t);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return _l(t);default:return _l(t)}},_l=e=>e,u0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},c0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},d0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},h0=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>lf(t,l))}return e},f0=e=>typeof e=="string"?e.replace(" ","T"):e,af=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class xo{constructor(t,n,r={},s=sf){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ec;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ec||(ec={}));class Nr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Nr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Nr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(j=>j.presence_ref),v=h.map(j=>j.presence_ref),w=d.filter(j=>v.indexOf(j.presence_ref)<0),y=h.filter(j=>f.indexOf(j.presence_ref)<0);w.length>0&&(l[c]=w),y.length>0&&(a[c]=y)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(a),d.length>0){const h=t[l].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);t[l].unshift(...f)}r(l,d,a)}),this.map(o,(l,a)=>{let c=t[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=c,s(l,c,a),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(tc||(tc={}));var nc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(nc||(nc={}));var it;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(it||(it={}));class ba{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new xo(this,We.join,this.params,this.timeout),this.rejoinTimer=new of(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Nr(this),this.broadcastEndpointURL=af(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(it.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(it.CLOSED));const a={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(it.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,w=[];for(let y=0;y<v;y++){const j=f[y],{filter:{event:p,schema:m,table:g,filter:_}}=j,k=d&&d[y];if(k&&k.event===p&&k.schema===m&&k.table===g&&k.filter===_)w.push(Object.assign(Object.assign({},j),{id:k.id}));else{this.unsubscribe(),t==null||t(it.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(it.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(it.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(it.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new xo(this,We.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xo(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=We;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,y,j;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(y=v.filter)===null||y===void 0?void 0:y.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,y,j,p,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,k=(w=v.filter)===null||w===void 0?void 0:w.event;return _&&((y=n.ids)===null||y===void 0?void 0:y.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const _=(m=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:y,table:j,commit_timestamp:p,type:m,errors:g}=w;f=Object.assign(Object.assign({},{schema:y,table:j,commit_timestamp:p,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(w))}v.callback(f,r)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ba.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(We.close,{},t)}_onError(t){this._on(We.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Zu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Zu(t.columns,t.old_record)),n}}const p0=()=>{},m0=typeof WebSocket<"u",g0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class v0{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=s0,this.params={},this.timeout=sf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=p0,this.conn=null,this.sendBuffer=[],this.serializer=new l0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Gn(async()=>{const{default:a}=await Promise.resolve().then(()=>er);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${xl.websocket}`,this.httpEndpoint=af(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new of(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(m0){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new y0(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Gn(async()=>{const{default:t}=await import("./browser-DLRRkWWm.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:i0}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case In.connecting:return Yt.Connecting;case In.open:return Yt.Open;case In.closing:return Yt.Closing;default:return Yt.Closed}}isConnected(){return this.connectionState()===Yt.Open}channel(t,n={config:{}}){const r=new ba(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(We.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(o0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(We.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([g0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class y0{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=In.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Ca extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class w0 extends Ca{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class kl extends Ca{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var x0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const uf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Gn(async()=>{const{default:r}=await Promise.resolve().then(()=>er);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_0=()=>x0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gn(()=>Promise.resolve().then(()=>er),void 0)).Response:Response}),Sl=e=>{if(Array.isArray(e))return e.map(n=>Sl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Sl(r)}),t};var hn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const _o=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),k0=(e,t,n)=>hn(void 0,void 0,void 0,function*(){const r=yield _0();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new w0(_o(s),e.status||500))}).catch(s=>{t(new kl(_o(s),s))}):t(new kl(_o(e),e))}),S0=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function rs(e,t,n,r,s,i){return hn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,S0(t,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>k0(a,l,r))})})}function mi(e,t,n,r){return hn(this,void 0,void 0,function*(){return rs(e,"GET",t,n,r)})}function _t(e,t,n,r,s){return hn(this,void 0,void 0,function*(){return rs(e,"POST",t,r,s,n)})}function j0(e,t,n,r,s){return hn(this,void 0,void 0,function*(){return rs(e,"PUT",t,r,s,n)})}function E0(e,t,n,r){return hn(this,void 0,void 0,function*(){return rs(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function cf(e,t,n,r,s){return hn(this,void 0,void 0,function*(){return rs(e,"DELETE",t,r,s,n)})}var _e=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const b0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class C0{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=uf(s)}uploadOrUpdate(t,n,r,s){return _e(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},rc),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(oe(i))return{data:null,error:i};throw i}})}upload(t,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return _e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:rc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(oe(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,n){return _e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield _t(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ca("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}update(t,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return _e(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}copy(t,n,r){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield _t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return _e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield _t(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return _e(this,void 0,void 0,function*(){try{const s=yield _t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}download(t,n){return _e(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield mi(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(oe(l))return{data:null,error:l};throw l}})}info(t){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield mi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Sl(r),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}exists(t){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield E0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(oe(r)&&r instanceof kl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(t){return _e(this,void 0,void 0,function*(){try{return{data:yield cf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}list(t,n,r){return _e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},b0),n),{prefix:t||""});return{data:yield _t(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const N0="2.7.1",P0={"X-Client-Info":`storage-js/${N0}`};var mn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class T0{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},P0),n),this.fetch=uf(r)}listBuckets(){return mn(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(oe(t))return{data:null,error:t};throw t}})}getBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return mn(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return mn(this,void 0,void 0,function*(){try{return{data:yield j0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield cf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}}class O0 extends T0{constructor(t,n={},r){super(t,n,r)}from(t){return new C0(this.url,this.headers,t,this.fetch)}}const R0="2.48.1";let yr="";typeof Deno<"u"?yr="deno":typeof document<"u"?yr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yr="react-native":yr="node";const L0={"X-Client-Info":`supabase-js-${yr}/${R0}`},F0={headers:L0},$0={schema:"public"},A0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I0={};var U0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const D0=e=>{let t;return e?t=e:typeof fetch>"u"?t=Kh:t=fetch,(...n)=>t(...n)},M0=()=>typeof Headers>"u"?qh:Headers,z0=(e,t,n)=>{const r=D0(n),s=M0();return(i,o)=>U0(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var B0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};function V0(e){return e.replace(/\/$/,"")}function H0(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:l,realtime:a,global:c}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},a),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>B0(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const df="2.67.3",W0="http://localhost:9999",G0="supabase.auth.token",K0={"X-Client-Info":`gotrue-js/${df}`},sc=10,jl="X-Supabase-Api-Version",hf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function q0(e){return Math.round(Date.now()/1e3)+e}function Q0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Xe=()=>typeof window<"u"&&typeof document<"u",Kt={tested:!1,writable:!1},Pr=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kt.tested)return Kt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Kt.tested=!0,Kt.writable=!0}catch{Kt.tested=!0,Kt.writable=!1}return Kt.writable};function J0(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const ff=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Gn(async()=>{const{default:r}=await Promise.resolve().then(()=>er);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Y0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",pf=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ss=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},js=async(e,t)=>{await e.removeItem(t)};function X0(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,l,a,c,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),r=o<<2|l>>4,s=(l&15)<<4|a>>2,i=(a&3)<<6|c,n=n+String.fromCharCode(r),a!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Bi{constructor(){this.promise=new Bi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Bi.promiseConstructor=Promise;function ic(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(X0(r))}async function Z0(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ey(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function ty(e){return("0"+e.toString(16)).substr(-2)}function ny(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,ty).join("")}async function ry(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function sy(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function iy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ry(e);return sy(n)}async function gn(e,t,n=!1){const r=ny();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await pf(e,`${t}-code-verifier`,s);const i=await iy(r);return[i,r===i?"plain":"s256"]}const oy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ly(e){const t=e.headers.get(jl);if(!t||!t.match(oy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Na extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function R(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ay extends Na{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function uy(e){return R(e)&&e.name==="AuthApiError"}class mf extends Na{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class fn extends Na{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class vt extends fn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cy(e){return R(e)&&e.name==="AuthSessionMissingError"}class ko extends fn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Es extends fn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bs extends fn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dy(e){return R(e)&&e.name==="AuthImplicitGrantRedirectError"}class oc extends fn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class El extends fn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function So(e){return R(e)&&e.name==="AuthRetryableFetchError"}class lc extends fn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var hy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Jt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fy=[502,503,504];async function ac(e){var t;if(!Y0(e))throw new El(Jt(e),0);if(fy.includes(e.status))throw new El(Jt(e),e.status);let n;try{n=await e.json()}catch(i){throw new mf(Jt(i),i)}let r;const s=ly(e);if(s&&s.getTime()>=hf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new lc(Jt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new vt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new lc(Jt(n),e.status,n.weak_password.reasons);throw new ay(Jt(n),e.status||500,r)}const py=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function A(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[jl]||(i[jl]=hf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await my(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function my(e,t,n,r,s,i){const o=py(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(a){throw console.error(a),new El(Jt(a),0)}if(l.ok||await ac(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await ac(a)}}function yt(e){var t;let n=null;wy(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=q0(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function uc(e){const t=yt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function jt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function gy(e){return{data:e,error:null}}function vy(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=hy(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function yy(e){return e}function wy(e){return e.access_token&&e.refresh_token&&e.expires_in}var xy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class _y{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ff(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:jt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=xy(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:vy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(R(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:jt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:yy});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);c[`${j}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(R(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await A(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:jt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:jt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:jt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await A(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}const ky={getItem:e=>Pr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Pr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Pr()&&globalThis.localStorage.removeItem(e)}};function cc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Sy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vn={debug:!!(globalThis&&Pr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jy extends gf{}async function Ey(e,t,n){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),vn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Sy();const by={url:W0,storageKey:G0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:K0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},hr=30*1e3,dc=3;async function hc(e,t,n){return await n()}class Qr{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qr.nextInstanceID,Qr.nextInstanceID+=1,this.instanceID>0&&Xe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},by),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new _y({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ff(s.fetch),this.lock=s.lock||hc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Xe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ey:this.lock=hc,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Pr()?this.storage=ky:(this.memoryStorage={},this.storage=cc(this.memoryStorage)):(this.memoryStorage={},this.storage=cc(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${df}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=J0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Xe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),dy(i)){const a=(t=i.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return R(n)?{error:n}:{error:new mf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:yt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await gn(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:w},xform:yt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:yt})}else throw new Es("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:uc})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:uc})}else throw new Es("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ko}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Ss(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:yt});if(await js(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ko}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:yt}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ko}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:a}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await gn(this.storage,this.storageKey));const{error:h}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:a}=t,{data:c,error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Es("You must provide either an email or phone number.")}catch(l){if(R(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:yt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await gn(this.storage,this.storageKey)),await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:gy})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new vt;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(R(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await A(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await A(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Es("You must provide either an email or phone number and a type")}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:jt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vt}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:jt})})}catch(n){if(R(n))return cy(n)&&(await this._removeSession(),await js(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new vt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await gn(this.storage,this.storageKey));const{data:c,error:d}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:jt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return ic(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=ic(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(R(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new vt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Xe())throw new bs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new oc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new oc("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=t;if(!i||!l||!o||!c)throw new bs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;a&&(f=parseInt(a));const v=f-d;v*1e3<=hr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:y,error:j}=await this._getUser(i);if(j)throw j;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(r){if(R(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ss(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(uy(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await js(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Q0(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await gn(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Xe()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(R(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ey(async s=>(s>0&&await Z0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:yt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&So(i)&&Date.now()+o-r<hr})}catch(r){if(this._debug(n,"error",r),R(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Xe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ss(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+sc;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${sc}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),So(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new vt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),R(i)){const o={session:null,error:i};return So(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await js(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),hr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/hr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${hr}ms, refresh threshold is ${dc} ticks`),s<=dc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await gn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await A(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:c}=await A(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}}Qr.nextInstanceID=0;const Cy=Qr;class Ny extends Cy{constructor(t){super(t)}}var Py=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class Ty{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=V0(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:$0,realtime:I0,auth:Object.assign(Object.assign({},A0),{storageKey:a}),global:F0},d=H0(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=z0(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new n0(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Rv(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new O0(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Py(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ny({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new v0(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Oy=(e,t,n)=>new Ty(e,t,n),Ry="https://jtltfipzywkiiejzjeps.supabase.co",Ly="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp0bHRmaXB6eXdraWllanpqZXBzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkzNTcyOTEsImV4cCI6MjA1NDkzMzI5MX0.MDmhiT0lTHQKZasU3KK0eoj7FgGXxgew9cX5jFYMDJ8",I=Oy(Ry,Ly,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit",storage:window.localStorage},global:{headers:{"x-client-info":"gamefolio-web"}},realtime:{params:{eventsPerSecond:1}}}),Fy="service_3f55bob",$y="template_j1jbhgf",Ay="FtrYgNxdMshCmw506";_a.init({publicKey:Ay});async function vf(e,t){try{const n=await _a.send(Fy,$y,{to_email:e,confirmation_link:t,subject:"Welcome to Gamefolio - Please Verify Your Email",user_email:e,site_name:"Gamefolio",support_email:"support@gamefolio.com",company_name:"Gamefolio",company_address:"Gaming Street 123, Esports City",verification_message:`
          To start sharing your gaming moments, please verify your email address by clicking the button below:
          
          Important: You won't be able to upload clips or interact with other users until your email is verified.
        `,verification_button_text:"Verify Email Address",verification_note:"This link will expire in 24 hours. If you did not create this account, please ignore this email."});if(n.status===200)return n;throw new Error("Failed to send email")}catch(n){throw console.error("Failed to send confirmation email:",n),n}}function Pa(e,t,n){console.error(`Auth Error (${e}):`,{message:t.message,code:t.code,status:t.status,details:n,timestamp:new Date().toISOString()})}async function Iy(e,t){const n=`${window.location.origin}/account`;try{const{data:r,error:s}=await I.auth.signUp({email:e,password:t,options:{emailRedirectTo:n,data:{email_confirmed:!1}}});if(s)throw s.message.includes("already registered")?new Error("An account with this email already exists"):s;if(!(r!=null&&r.user))throw new Error("Signup failed. Please try again.");return await vf(e,`${window.location.origin}/confirm?email=${encodeURIComponent(e)}`),{data:r,emailConfirmationRequired:!0}}catch(r){throw r.status===429?new Error("Too many requests. Please wait a few minutes and try again."):(Pa("signup",r,{email:e,redirectUrl:n}),new Error(r.message||"Failed to create account. Please try again."))}}async function Uy(e,t){try{const{data:n,error:r}=await I.auth.signInWithPassword({email:e,password:t});if(r)throw r.message==="Invalid login credentials"?new Error("Invalid email or password"):r.message==="Email not confirmed"?new Error("Please verify your email before signing in"):r;if(n.user){const{data:s,error:i}=await I.from("user_profiles").select("username, onboarding_completed, favorite_games").eq("user_id",n.user.id).single();if(!i&&s)return{...n,needsOnboarding:!s.onboarding_completed||!s.favorite_games||s.favorite_games.length<5,needsUsername:!s.username||s.username.startsWith("user_")}}return n}catch(n){throw n.status===429?new Error("Too many requests. Please wait a few minutes and try again."):(Pa("signin",n,{email:e}),new Error(n.message||"Failed to sign in. Please try again."))}}async function Dy(){try{const{error:e}=await I.auth.signOut();if(e)throw e}catch(e){throw Pa("signout",e),new Error("Failed to sign out. Please try again.")}}function My(e){return I.auth.onAuthStateChange(async(t,n)=>{if(n!=null&&n.user){const{data:r}=await I.from("user_profiles").select("username, onboarding_completed, favorite_games").eq("user_id",n.user.id).single();e({...n,needsOnboarding:!(r!=null&&r.onboarding_completed)||!(r!=null&&r.favorite_games)||(r==null?void 0:r.favorite_games.length)<5,needsUsername:!(r!=null&&r.username)||(r==null?void 0:r.username.startsWith("user_"))})}else e(n)})}const yf=x.createContext({session:null,loading:!0});function zy({children:e}){const[t,n]=x.useState(null),[r,s]=x.useState(!0);return x.useEffect(()=>{const{data:{subscription:i}}=My(o=>{n(o),s(!1)});return()=>{i.unsubscribe()}},[]),u.jsx(yf.Provider,{value:{session:t,loading:r},children:e})}function nr(){return x.useContext(yf)}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var By={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...c},d)=>x.createElement("svg",{ref:d,...By,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Vy(e)}`,l].join(" "),...c},[...t.map(([h,f])=>x.createElement(h,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=z("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=z("BellDot",[["path",{d:"M19.4 14.9C20.2 16.4 21 17 21 17H3s3-2 3-9c0-3.3 2.7-6 6-6 .7 0 1.3.1 1.9.3",key:"xcehk"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["circle",{cx:"18",cy:"8",r:"3",key:"1g0gzu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=z("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=z("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=z("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function rw({onClose:e}){const[t,n]=x.useState(!1),[r,s]=x.useState(null),[i,o]=x.useState(""),[l,a]=x.useState(""),[c,d]=x.useState({feed:!0,gamefolio:!1}),[h,f]=x.useState(!1),[v,w]=x.useState(null),y=x.useRef(null),j=k=>{k.preventDefault(),k.stopPropagation(),k.type==="dragenter"||k.type==="dragover"?n(!0):k.type==="dragleave"&&n(!1)},p=k=>{var E;k.preventDefault(),k.stopPropagation(),n(!1);const S=(E=k.dataTransfer.files)==null?void 0:E[0];S&&S.type.startsWith("video/")&&s(S)},m=k=>{var E;const S=(E=k.target.files)==null?void 0:E[0];S&&S.type.startsWith("video/")&&s(S)},g=k=>{d(S=>{const E={...S,[k]:!S[k]};return!E.feed&&!E.gamefolio?S:E})},_=async k=>{if(k.preventDefault(),!(!r||!i||!l))try{f(!0),w(null);const{data:{user:S}}=await I.auth.getUser();if(!S)throw new Error("User not authenticated");const{data:E,error:C}=await I.from("user_profiles").select("username").eq("user_id",S.id).single();if(C)throw C;if(!E.username)throw new Error("Please set your username before uploading clips");const D=`${S.id}/${Date.now()}-${r.name}`,{error:T,data:ne}=await I.storage.from("clips").upload(D,r);if(T)throw T;const{data:{publicUrl:L}}=I.storage.from("clips").getPublicUrl(D),{error:X}=await I.from("clips").insert({user_id:S.id,title:i,game:l,video_url:L,visibility:c.feed?"public":"private"}).single();if(X)throw X;e()}catch(S){w(S instanceof Error?S.message:"Failed to upload clip")}finally{f(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-2xl w-full p-6 relative",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:h,children:u.jsx(qn,{className:"w-6 h-6"})}),u.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Upload Clip"}),v&&u.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500",children:v}),u.jsxs("form",{onSubmit:_,className:"space-y-6",children:[u.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center ${t?"border-[#9FE64F] bg-[#9FE64F]/10":"border-gray-600"}`,onDragEnter:j,onDragLeave:j,onDragOver:j,onDrop:p,children:[r?u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-white",children:r.name}),u.jsx("button",{type:"button",onClick:()=>s(null),className:"text-sm text-red-400 hover:text-red-300",disabled:h,children:"Remove"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx(Ef,{className:"w-12 h-12 mx-auto text-gray-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white mb-2",children:"Drag and drop your clip here, or"}),u.jsx("button",{type:"button",onClick:()=>{var k;return(k=y.current)==null?void 0:k.click()},className:"text-[#9FE64F] hover:text-[#8FD63F]",disabled:h,children:"browse files"})]}),u.jsx("p",{className:"text-sm text-gray-400",children:"Maximum file size: 500MB"})]}),u.jsx("input",{ref:y,type:"file",accept:"video/*",onChange:m,className:"hidden",disabled:h})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-white mb-2",children:"Title"}),u.jsx("input",{id:"title",type:"text",value:i,onChange:k=>o(k.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",placeholder:"Enter a title for your clip",disabled:h})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"game",className:"block text-sm font-medium text-white mb-2",children:"Game"}),u.jsx("input",{id:"game",type:"text",value:l,onChange:k=>a(k.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",placeholder:"What game is this clip from?",disabled:h})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Share to"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("button",{type:"button",onClick:()=>g("feed"),className:`p-4 rounded-lg border-2 transition-colors ${c.feed?"border-[#9FE64F] bg-[#9FE64F]/10":"border-gray-700 hover:border-[#9FE64F]"}`,children:[u.jsx(Qy,{className:"w-6 h-6 mx-auto mb-2 text-[#9FE64F]"}),u.jsx("div",{className:"text-white font-medium",children:"Clips Feed"}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Share with everyone"})]}),u.jsxs("button",{type:"button",onClick:()=>g("gamefolio"),className:`p-4 rounded-lg border-2 transition-colors ${c.gamefolio?"border-[#9FE64F] bg-[#9FE64F]/10":"border-gray-700 hover:border-[#9FE64F]"}`,children:[u.jsx(Oa,{className:"w-6 h-6 mx-auto mb-2 text-[#9FE64F]"}),u.jsx("div",{className:"text-white font-medium",children:"My Gamefolio"}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Add to your profile"})]})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-lg text-white hover:bg-gray-800",disabled:h,children:"Cancel"}),u.jsx("button",{type:"submit",disabled:!r||!i||!l||h||!c.feed&&!c.gamefolio,className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:h?u.jsxs(u.Fragment,{children:[u.jsx(Mt,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:"Uploading..."})]}):u.jsx("span",{children:"Upload"})})]})]})]})})}const Cs=[{regex:/.{8,}/,text:"At least 8 characters long"},{regex:/[A-Z]/,text:"Contains at least one uppercase letter"},{regex:/[a-z]/,text:"Contains at least one lowercase letter"},{regex:/[0-9]/,text:"Contains at least one number"},{regex:/[^A-Za-z0-9]/,text:"Contains at least one special character"}],fr=60;function Ra({onClose:e,defaultMode:t="login"}){const n=Ht(),[r,s]=x.useState(t),[i,o]=x.useState(""),[l,a]=x.useState(""),[c,d]=x.useState(""),[h,f]=x.useState(!1),[v,w]=x.useState(!1),[y,j]=x.useState(!1),[p,m]=x.useState(!1),[g,_]=x.useState(null),[k,S]=x.useState(0),E=Cs.filter(L=>L.regex.test(l)).length,C=l===c;Tn.useEffect(()=>{let L;return k>0&&(L=window.setInterval(()=>{S(X=>X-1)},1e3)),()=>{L&&clearInterval(L)}},[k]);const D=()=>r==="login"?!0:l.length<8?(_("Password must be at least 8 characters long"),!1):Cs.every(L=>L.regex.test(l))?l!==c?(_("Passwords do not match"),!1):!0:(_("Password does not meet all requirements"),!1),T=async L=>{if(L.preventDefault(),_(null),!!D()){if(k>0){_(`Please wait ${k} seconds before trying again`);return}j(!0);try{if(r==="signup")await Iy(i,l),s("check-email");else{const X=await Uy(i,l);X.needsUsername||X.needsOnboarding?(e(),n("/account")):e()}}catch(X){X instanceof Error?X.message.includes("rate limit")||X.message.includes("Too many signup attempts")?(S(fr),_(`Too many attempts. Please wait ${fr} seconds before trying again.`)):X.message.includes("Email not confirmed")?s("check-email"):_(X.message):_("Authentication failed")}finally{j(!1)}}},ne=async()=>{if(k>0){_(`Please wait ${k} seconds before requesting another email`);return}m(!0),_(null);try{await vf(i,`${window.location.origin}/confirm?email=${encodeURIComponent(i)}`),S(fr)}catch(L){L instanceof Error?L.message.includes("rate limit")?(S(fr),_(`Too many attempts. Please wait ${fr} seconds before trying again.`)):_(L.message):_("Failed to resend confirmation email")}finally{m(!1)}};return r==="check-email"?u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-md w-full p-6 relative",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:u.jsx(qn,{className:"w-6 h-6"})}),u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-12 h-12 bg-[#9FE64F]/20 rounded-full flex items-center justify-center mx-auto",children:u.jsx(Xy,{className:"w-6 h-6 text-[#9FE64F]"})}),u.jsx("h2",{className:"text-2xl font-bold text-white",children:"Check Your Email"}),u.jsxs("p",{className:"text-gray-400",children:["We've sent a verification link to ",u.jsx("span",{className:"text-white",children:i}),". Please check your email and click the link to verify your account."]}),g&&u.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500 text-sm",children:g}),u.jsxs("div",{className:"pt-4 space-y-4",children:[u.jsx("button",{onClick:ne,disabled:p||k>0,className:"text-[#9FE64F] hover:text-[#8FD63F] font-medium flex items-center justify-center space-x-2 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:p?u.jsxs(u.Fragment,{children:[u.jsx(Mt,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:"Resending..."})]}):k>0?u.jsxs(u.Fragment,{children:[u.jsx(pc,{className:"w-4 h-4"}),u.jsxs("span",{children:["Resend in ",k,"s"]})]}):u.jsxs(u.Fragment,{children:[u.jsx(pc,{className:"w-4 h-4"}),u.jsx("span",{children:"Resend verification email"})]})}),u.jsx("button",{onClick:()=>s("login"),className:"text-gray-400 hover:text-white",children:"Back to Sign In"})]})]})]})}):u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-md w-full p-6 relative",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:y,children:u.jsx(qn,{className:"w-6 h-6"})}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:r==="login"?"Welcome Back":"Create Account"}),u.jsx("p",{className:"text-gray-400",children:r==="login"?"Sign in to your Gamefolio account":"Join Gamefolio and start sharing your gaming moments"})]}),g&&u.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500",children:g}),u.jsxs("form",{onSubmit:T,className:"space-y-4",children:[u.jsx("div",{children:u.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:L=>o(L.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",disabled:y||k>0,required:!0})}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:h?"text":"password",placeholder:"Password",value:l,onChange:L=>a(L.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",disabled:y||k>0,required:!0}),u.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:h?u.jsx(fc,{className:"w-5 h-5"}):u.jsx(gi,{className:"w-5 h-5"})})]}),r==="signup"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:v?"text":"password",placeholder:"Confirm Password",value:c,onChange:L=>d(L.target.value),className:`w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F] ${c&&!C?"border-red-500":""}`,disabled:y||k>0,required:!0}),u.jsx("button",{type:"button",onClick:()=>w(!v),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:v?u.jsx(fc,{className:"w-5 h-5"}):u.jsx(gi,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Password Requirements:"}),u.jsx("div",{className:"space-y-1",children:Cs.map((L,X)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:L.regex.test(l)?"text-green-500":"text-gray-500",children:L.regex.test(l)?"":""}),u.jsx("span",{className:`text-sm ${L.regex.test(l)?"text-green-500":"text-gray-400"}`,children:L.text})]},X))})]}),c&&!C&&u.jsx("p",{className:"text-sm text-red-500",children:"Passwords do not match"})]}),u.jsx("button",{type:"submit",disabled:y||k>0||r==="signup"&&(!C||E<Cs.length),className:"w-full bg-[#9FE64F] hover:bg-[#8FD63F] text-black font-medium py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:y?u.jsxs(u.Fragment,{children:[u.jsx(Mt,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:r==="login"?"Signing in...":"Creating account..."})]}):k>0?u.jsxs("span",{children:["Please wait ",k,"s"]}):u.jsx("span",{children:r==="login"?"Sign In":"Create Account"})})]}),u.jsx("p",{className:"text-gray-400 text-sm text-center mt-6",children:r==="login"?u.jsxs(u.Fragment,{children:["Don't have an account?"," ",u.jsx("button",{onClick:()=>{s("signup"),_(null),a(""),d("")},className:"text-[#9FE64F] hover:text-[#8FD63F] font-medium",disabled:y,children:"Sign up"})]}):u.jsxs(u.Fragment,{children:["Already have an account?"," ",u.jsx("button",{onClick:()=>{s("login"),_(null),a(""),d("")},className:"text-[#9FE64F] hover:text-[#8FD63F] font-medium",disabled:y,children:"Sign in"})]})})]})})}function sw(){const{session:e}=nr(),[t,n]=x.useState(!1),[r,s]=x.useState(!1),[i,o]=x.useState(!1),l=x.useRef(null),a=Ht();x.useEffect(()=>{function f(v){l.current&&!l.current.contains(v.target)&&n(!1)}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const c=f=>{a(f),n(!1)},d=()=>{e?s(!0):o(!0)},h=async()=>{try{await Dy(),n(!1),a("/")}catch(f){console.error("Error signing out:",f)}};return u.jsxs(u.Fragment,{children:[u.jsx("header",{className:"fixed top-0 left-0 right-0 bg-black/95 border-b border-gray-800 z-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[u.jsxs(Nt,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[u.jsx("div",{className:"bg-[#9FE64F] w-8 h-8 rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-black font-bold text-xl",children:"G"})}),u.jsx("span",{className:"text-white font-bold text-xl",children:"Gamefolio"})]}),u.jsx("div",{className:"flex-1 max-w-xs mx-8",children:u.jsxs("div",{className:"relative",children:[u.jsx(xf,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search clips...",className:"w-full bg-gray-900 text-white pl-10 pr-4 py-2 rounded-full border border-gray-700 focus:outline-none focus:border-[#9FE64F]"})]})}),u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsxs("button",{className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black font-medium px-4 py-2 rounded-full flex items-center space-x-2",onClick:d,children:[u.jsx(Ef,{className:"w-5 h-5"}),u.jsx("span",{children:"Upload"})]}),e?u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"text-gray-400 hover:text-white",children:u.jsx(Gy,{className:"w-6 h-6"})}),u.jsxs("div",{className:"relative",ref:l,children:[u.jsx("button",{className:"w-8 h-8 rounded-full overflow-hidden ring-2 ring-transparent hover:ring-[#9FE64F] transition-all",onClick:()=>n(!t),children:u.jsx("img",{src:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",alt:"Profile",className:"w-full h-full object-cover"})}),t&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-gray-900 rounded-lg shadow-lg py-1 border border-gray-800",children:[u.jsx("div",{className:"px-4 py-3 border-b border-gray-800",children:u.jsx("p",{className:"text-sm font-medium text-white",children:e.user.email})}),u.jsxs("button",{onClick:()=>c("/account/profile"),className:"w-full px-4 py-2 text-sm text-white hover:bg-gray-800 flex items-center space-x-2",children:[u.jsx(Oa,{className:"w-4 h-4"}),u.jsx("span",{children:"My Account"})]}),u.jsxs("button",{onClick:()=>c("/account/settings"),className:"w-full px-4 py-2 text-sm text-white hover:bg-gray-800 flex items-center space-x-2",children:[u.jsx(_f,{className:"w-4 h-4"}),u.jsx("span",{children:"Settings"})]}),u.jsx("div",{className:"border-t border-gray-800 mt-1",children:u.jsxs("button",{onClick:h,className:"w-full px-4 py-2 text-sm text-red-400 hover:bg-gray-800 flex items-center space-x-2",children:[u.jsx(Yy,{className:"w-4 h-4"}),u.jsx("span",{children:"Sign Out"})]})})]})]})]}):u.jsx("button",{onClick:()=>o(!0),className:"text-white hover:text-[#9FE64F]",children:"Sign In"})]})]})}),r&&u.jsx(rw,{onClose:()=>s(!1)}),i&&u.jsx(Ra,{onClose:()=>o(!1)})]})}function iw({clip:e,onClose:t}){const{session:n}=nr(),[r,s]=x.useState([]),[i,o]=x.useState(""),[l,a]=x.useState(!1),[c,d]=x.useState(e.likes),[h,f]=x.useState(!1),[v,w]=x.useState(!1),[y,j]=x.useState(null),p=S=>`https://api.dicebear.com/7.x/initials/svg?seed=${S}&backgroundColor=9FE64F&textColor=000000`;x.useEffect(()=>{m(),n&&g()},[e.id,n]);async function m(){try{const{data:S,error:E}=await I.from("comments").select(`
          id,
          content,
          created_at,
          user_profiles (
            username,
            avatar_url
          )
        `).eq("clip_id",e.id).order("created_at",{ascending:!0});if(E)throw E;s(S||[])}catch(S){console.error("Error loading comments:",S)}}async function g(){if(n)try{const{data:S,error:E}=await I.from("likes").select("id").eq("clip_id",e.id).eq("user_id",n.user.id).single();if(E&&E.code!=="PGRST116")throw E;a(!!S)}catch(S){console.error("Error checking like status:",S)}}async function _(){if(!n){w(!0);return}try{if(l){const{error:S}=await I.from("likes").delete().eq("clip_id",e.id).eq("user_id",n.user.id).single();if(S)throw S;a(!1),d(E=>E-1)}else{const{error:S}=await I.from("likes").insert({clip_id:e.id,user_id:n.user.id}).single();if(S)throw S.message.includes("confirmed")?new Error("Please verify your email before liking clips"):S;a(!0),d(E=>E+1)}}catch(S){console.error("Error toggling like:",S),j(S instanceof Error?S.message:"Failed to like clip")}}async function k(S){if(S.preventDefault(),!n){w(!0);return}if(i.trim()){f(!0),j(null);try{const{error:E}=await I.from("comments").insert({clip_id:e.id,user_id:n.user.id,content:i.trim()}).single();if(E)throw E.message.includes("confirmed")?new Error("Please verify your email before commenting"):E;o(""),m()}catch(E){console.error("Error posting comment:",E),j(E instanceof Error?E.message:"Failed to post comment")}finally{f(!1)}}}return u.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-300",children:u.jsx(qn,{className:"w-6 h-6"})}),u.jsxs("div",{className:"flex w-full max-w-7xl h-[80vh] mx-4",children:[u.jsx("div",{className:"flex-1 bg-black",children:u.jsx("div",{className:"relative h-full",children:u.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-contain"})})}),u.jsxs("div",{className:"w-[400px] bg-gray-900 flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-800",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[u.jsx(Nt,{to:`/@${e.username}`,children:u.jsx("img",{src:e.userAvatar||p(e.username),alt:e.username,className:"w-10 h-10 rounded-full hover:ring-2 hover:ring-[#9FE64F] transition-all"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-white",children:e.title}),u.jsx(Nt,{to:`/@${e.username}`,className:"text-sm text-gray-400 hover:text-[#9FE64F] transition-colors",children:e.username})]})]}),u.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Playing ",e.game,"  ",new Date(e.createdAt).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[y&&u.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500 text-sm mb-4",children:y}),r.map(S=>u.jsxs("div",{className:"flex space-x-3",children:[u.jsx(Nt,{to:`/@${S.user_profiles.username}`,children:u.jsx("img",{src:S.user_profiles.avatar_url||p(S.user_profiles.username),alt:S.user_profiles.username,className:"w-8 h-8 rounded-full hover:ring-2 hover:ring-[#9FE64F] transition-all"})}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm",children:[u.jsx(Nt,{to:`/@${S.user_profiles.username}`,className:"font-medium text-white hover:text-[#9FE64F] transition-colors",children:S.user_profiles.username}),u.jsx("span",{className:"text-gray-400 ml-2",children:S.content})]}),u.jsx("div",{className:"flex items-center space-x-3 mt-1 text-xs text-gray-500",children:u.jsx("span",{children:new Date(S.created_at).toLocaleDateString()})})]})]},S.id))]}),u.jsxs("div",{className:"p-4 border-t border-gray-800",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("button",{onClick:_,className:`flex items-center space-x-1 ${l?"text-[#9FE64F]":"text-white hover:text-gray-300"}`,children:[u.jsx(wf,{className:`w-6 h-6 ${l?"fill-current":""}`}),u.jsx("span",{children:c})]}),u.jsx("button",{className:"text-white hover:text-gray-300",children:u.jsx(Ta,{className:"w-6 h-6"})}),u.jsx("button",{className:"text-white hover:text-gray-300",children:u.jsx(kf,{className:"w-6 h-6"})})]})}),u.jsxs("form",{onSubmit:k,className:"flex items-center space-x-3",children:[u.jsx("input",{type:"text",value:i,onChange:S=>o(S.target.value),placeholder:"Add a comment...",className:"flex-1 bg-gray-800 text-white px-4 py-2 rounded-full text-sm focus:outline-none focus:ring-1 focus:ring-[#9FE64F]",disabled:h}),u.jsx("button",{type:"submit",disabled:h||!i.trim(),className:"text-[#9FE64F] hover:text-[#8FD63F] disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(ew,{className:"w-5 h-5"})})]})]})]})]}),v&&u.jsx(Ra,{onClose:()=>w(!1)})]})}function La({clips:e}){const[t,n]=x.useState(null),r=s=>`https://api.dicebear.com/7.x/initials/svg?seed=${s}&backgroundColor=9FE64F&textColor=000000`;return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 px-4",children:e.map(s=>u.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"aspect-video relative group",children:[u.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:u.jsx("button",{className:"bg-[#9FE64F] text-black px-4 py-2 rounded-full hover:bg-[#8FD63F] transition-colors",onClick:()=>n(s),children:"Watch Clip"})})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[u.jsx(Nt,{to:`/@${s.username}`,children:u.jsx("img",{src:s.userAvatar||r(s.username),alt:s.username,className:"w-8 h-8 rounded-full hover:ring-2 hover:ring-[#9FE64F] transition-all"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-white",children:s.title}),u.jsx(Nt,{to:`/@${s.username}`,className:"text-sm text-gray-400 hover:text-[#9FE64F] transition-colors",children:s.username})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-gray-400 text-sm",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("button",{className:"flex items-center space-x-1 hover:text-white",children:[u.jsx(wf,{className:"w-4 h-4"}),u.jsx("span",{children:s.likes})]}),u.jsxs("button",{className:"flex items-center space-x-1 hover:text-white",children:[u.jsx(Ta,{className:"w-4 h-4"}),u.jsx("span",{children:s.comments})]}),u.jsxs("button",{className:"flex items-center space-x-1 hover:text-white",children:[u.jsx(kf,{className:"w-4 h-4"}),u.jsx("span",{children:s.shares})]})]}),u.jsx("span",{className:"text-xs",children:s.game})]})]})]},s.id))}),t&&u.jsx(iw,{clip:t,onClose:()=>n(null)})]})}function ow(){const[e,t]=x.useState("day"),[n,r]=x.useState([]),[s,i]=x.useState(!0),[o,l]=x.useState(null),[a,c]=x.useState(0);x.useEffect(()=>{d()},[e,a]);async function d(){try{i(!0),l(null);const{data:f,error:v}=await I.from("clips").select(`
          id,
          user_id,
          title,
          game,
          video_url,
          thumbnail_url,
          likes,
          comments,
          shares,
          created_at,
          user_profiles (
            username,
            avatar_url
          )
        `).eq("visibility","public").order("created_at",{ascending:!1}).limit(12);if(v)throw v.code==="429"?new Error("Too many requests. Please try again in a few minutes."):v;if(!f||f.length===0){r([]);return}const w=f.map(y=>{var j,p;return{id:y.id,userId:y.user_id,username:((j=y.user_profiles)==null?void 0:j.username)||"Unknown User",userAvatar:((p=y.user_profiles)==null?void 0:p.avatar_url)||"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",title:y.title,videoUrl:y.video_url,thumbnail:y.thumbnail_url||"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=800",game:y.game,likes:y.likes||0,comments:y.comments||0,shares:y.shares||0,createdAt:y.created_at}});r(w)}catch(f){console.error("Error loading clips:",f),l(f instanceof Error?f.message:"Failed to load clips. Please try again.")}finally{i(!1)}}const h=()=>{c(f=>f+1)};return u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:"Top Clips"}),u.jsx("div",{className:"flex space-x-2",children:["day","week","month"].map(f=>u.jsx("button",{onClick:()=>t(f),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${e===f?"bg-[#9FE64F] text-black":"text-gray-400 hover:text-white"}`,children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),s?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(Mt,{className:"w-8 h-8 animate-spin text-[#9FE64F]"})}):o?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("p",{className:"text-red-500 mb-4",children:o}),u.jsxs("button",{onClick:h,className:"flex items-center space-x-2 mx-auto px-4 py-2 bg-[#9FE64F] text-black rounded-lg hover:bg-[#8FD63F] transition-colors",children:[u.jsx(Zy,{className:"w-4 h-4"}),u.jsx("span",{children:"Try Again"})]})]}):n.length>0?u.jsx(La,{clips:n}):u.jsx("div",{className:"text-center py-12 text-gray-400",children:u.jsx("p",{children:"No clips found. Be the first to upload!"})})]})}const Ns=["https://images.unsplash.com/photo-1542751371-adc38448a05e?w=400","https://images.unsplash.com/photo-1542751110-97427bbecf20?w=400","https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400"];function lw(){const[e,t]=x.useState([]),[n,r]=x.useState(!0);x.useEffect(()=>{s()},[]);async function s(){try{r(!0);const{data:i,error:o}=await I.rpc("get_trending_games");if(o){const{data:a,error:c}=await I.from("clips").select("game").order("created_at",{ascending:!1});if(c)throw c;const d=a.reduce((f,v)=>(f[v.game]=(f[v.game]||0)+1,f),{}),h=Object.entries(d).sort(([,f],[,v])=>v-f).slice(0,4).map(([f,v],w)=>({id:w.toString(),name:f,thumbnail:Ns[w%Ns.length],activePlayers:Math.floor(Math.random()*2e5)+5e4,clipCount:v,trending:Math.floor(Math.random()*40)+10}));t(h);return}const l=i.map((a,c)=>({id:c.toString(),name:a.game,thumbnail:Ns[c%Ns.length],activePlayers:Math.floor(Math.random()*2e5)+5e4,clipCount:a.clip_count,trending:Math.floor(Math.random()*40)+10}));t(l)}catch(i){console.error("Error loading trending games:",i),t([])}finally{r(!1)}}return n?u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Trending Games"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(i=>u.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden animate-pulse",children:[u.jsx("div",{className:"aspect-video bg-gray-800"}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"h-4 bg-gray-800 rounded w-2/3 mb-3"}),u.jsx("div",{className:"h-4 bg-gray-800 rounded w-1/2"})]})]},i))})]}):e.length===0?u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Trending Games"}),u.jsx("div",{className:"text-center py-12 text-gray-400",children:u.jsx("p",{children:"No games found. Upload some clips to see trending games!"})})]}):u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Trending Games"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(i=>u.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden hover:ring-2 hover:ring-[#9FE64F] transition-all",children:[u.jsxs("div",{className:"aspect-video relative",children:[u.jsx("img",{src:i.thumbnail,alt:i.name,className:"w-full h-full object-cover"}),u.jsxs("div",{className:"absolute top-2 right-2 bg-[#9FE64F] text-black px-2 py-1 rounded-full text-sm font-medium flex items-center space-x-1",children:[u.jsx(tw,{className:"w-4 h-4"}),u.jsxs("span",{children:["+",i.trending,"%"]})]})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"font-bold text-white mb-3",children:i.name}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(bf,{className:"w-4 h-4"}),u.jsxs("span",{children:[(i.activePlayers/1e3).toFixed(1),"K"]})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(jf,{className:"w-4 h-4"}),u.jsxs("span",{children:[(i.clipCount/1e3).toFixed(1),"K clips"]})]})]})]})]},i.id))})]})}function aw(){const{session:e}=nr(),[t,n]=Tn.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-black pt-20 pb-12",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[!e&&u.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 mb-12 text-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Welcome to Gamefolio"}),u.jsx("p",{className:"text-gray-400 mb-6",children:"Join our gaming community to share your best gaming moments and connect with other players."}),u.jsx("button",{onClick:()=>n(!0),className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-3 rounded-lg font-medium",children:"Get Started"})]}),u.jsxs("div",{className:"space-y-12",children:[u.jsx(ow,{}),u.jsx(lw,{})]})]}),t&&u.jsx(Ra,{onClose:()=>n(!1),defaultMode:"signup"})]})}const mc=[{to:"/account",icon:Jy,label:"My Gamefolio",end:!0},{to:"/account/leaderboard",icon:jf,label:"Leaderboard"},{to:"/account/profile",icon:Oa,label:"Account"},{to:"/account/settings",icon:_f,label:"Settings"},{to:"/account/explore",icon:qy,label:"Explore"}];function uw(){const{session:e}=nr(),[t,n]=Tn.useState(!1),r=Ht();Tn.useEffect(()=>{async function i(){if(!(e!=null&&e.user)){r("/");return}try{const{data:o,error:l}=await I.from("user_roles").select("role").eq("user_id",e.user.id).single();if(l)throw l;n((o==null?void 0:o.role)==="admin")}catch(o){console.error("Error checking admin status:",o)}}i()},[e,r]);const s=Tn.useMemo(()=>t?[...mc,{to:"/account/admin",icon:Sf,label:"Admin"}]:mc,[t]);return u.jsxs("div",{className:"flex min-h-screen pt-16",children:[u.jsx("aside",{className:"w-64 bg-gray-900 border-r border-gray-800 fixed left-0 h-[calc(100vh-4rem)] top-16",children:u.jsx("nav",{className:"p-4",children:s.map(({to:i,icon:o,label:l,end:a})=>u.jsxs(_v,{to:i,end:a,className:({isActive:c})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${c?"bg-[#9FE64F] text-black font-medium":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[u.jsx(o,{className:"w-5 h-5"}),u.jsx("span",{children:l})]},i))})}),u.jsx("main",{className:"flex-1 ml-64 p-8",children:u.jsx(av,{})})]})}function cw({onClose:e}){return u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-md w-full p-6 relative",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:u.jsx(qn,{className:"w-6 h-6"})}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("img",{src:"https://i.imgur.com/YourLogoURL.png",alt:"Gamefolio",className:"h-12 w-auto mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Join Gamefolio"}),u.jsx("p",{className:"text-gray-400",children:"Want to build your own gaming portfolio? Sign up and start uploading your clips!"})]}),u.jsxs("form",{className:"space-y-4",children:[u.jsx("div",{children:u.jsx("input",{type:"text",placeholder:"Username",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"})}),u.jsx("div",{children:u.jsx("input",{type:"email",placeholder:"Email",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"})}),u.jsx("div",{children:u.jsx("input",{type:"password",placeholder:"Password",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"})}),u.jsx("button",{type:"submit",className:"w-full bg-[#9FE64F] hover:bg-[#8FD63F] text-black font-medium py-3 rounded-lg transition-colors",children:"Sign Up"})]}),u.jsxs("p",{className:"text-gray-400 text-sm text-center mt-6",children:["Already have an account?"," ",u.jsx("button",{className:"text-[#9FE64F] hover:text-[#8FD63F] font-medium",children:"Log in"})]})]})})}function Cf({user:e}){const[t,n]=x.useState(!1),r=()=>{n(!0)};return u.jsxs("div",{className:"pt-20 pb-8 text-white",children:[u.jsxs("div",{className:"px-4",children:[u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-[#9FE64F]",children:u.jsx("img",{src:e.avatar,alt:e.username,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:e.username}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{onClick:r,className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-full font-medium",children:"Follow"}),u.jsxs("button",{onClick:r,className:"border border-gray-600 hover:border-[#9FE64F] text-white px-6 py-2 rounded-full font-medium flex items-center space-x-2",children:[u.jsx(Ta,{className:"w-4 h-4"}),u.jsx("span",{children:"Message"})]})]})]}),u.jsx("p",{className:"text-gray-400 mb-4",children:e.bio}),u.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(bf,{className:"w-4 h-4 mr-2"}),u.jsxs("span",{children:[e.followers.toLocaleString()," followers"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Hy,{className:"w-4 h-4 mr-2"}),u.jsxs("span",{children:[e.following.toLocaleString()," following"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(gi,{className:"w-4 h-4 mr-2"}),u.jsxs("span",{children:[e.views.toLocaleString()," views"]})]})]})]})]}),u.jsxs("div",{className:"mt-8",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Favorite Games"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:e.favoriteGames.map(s=>u.jsx("span",{className:"px-3 py-1 bg-gray-800 rounded-full text-sm hover:bg-[#9FE64F] hover:text-black transition-colors",children:s},s))})]})]}),t&&u.jsx(cw,{onClose:()=>n(!1)})]})}const dw={id:"1",username:"ProGamer123",avatar:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",bio:"Professional esports player specializing in FPS games. 3x Tournament Champion. Content Creator.",followers:15600,following:342,views:12e5,favoriteGames:["Valorant","CS:GO","Apex Legends","Overwatch 2","Call of Duty"]},hw=[{id:"1",userId:"1",username:"ProGamer123",userAvatar:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",title:"Insane 1v5 Clutch!",videoUrl:"#",thumbnail:"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=800",game:"Valorant",likes:1200,comments:89,shares:45,createdAt:"2024-02-20T12:00:00Z"},{id:"2",userId:"1",username:"ProGamer123",userAvatar:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",title:"New Gaming Setup Tour",videoUrl:"#",thumbnail:"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=800",game:"Setup Tour",likes:2400,comments:156,shares:89,createdAt:"2024-02-19T15:30:00Z"},{id:"3",userId:"1",username:"ProGamer123",userAvatar:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",title:"Late Night Stream Highlights",videoUrl:"#",thumbnail:"https://images.unsplash.com/photo-1542751110-97427bbecf20?w=800",game:"CS:GO",likes:890,comments:67,shares:23,createdAt:"2024-02-18T22:15:00Z"}];function fw(){return u.jsxs("div",{children:[u.jsx(Cf,{user:dw}),u.jsxs("div",{className:"mt-8",children:[u.jsx("div",{className:"border-b border-gray-800 mb-8",children:u.jsxs("nav",{className:"flex space-x-8",children:[u.jsx("button",{className:"text-white border-b-2 border-[#9FE64F] pb-4",children:"Clips"}),u.jsx("button",{className:"text-gray-400 hover:text-white pb-4",children:"Gaming Stats"}),u.jsx("button",{className:"text-gray-400 hover:text-white pb-4",children:"Saved"})]})}),u.jsx(La,{clips:hw})]})]})}function pw(){return u.jsx("div",{children:u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Leaderboard"})})}function mw(){return u.jsx("div",{children:u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Account Settings"})})}function gw(){return u.jsx("div",{children:u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Settings"})})}function vw(){return u.jsx("div",{children:u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Explore"})})}function yw(){const e=Ht(),[t,n]=x.useState(!0),[r,s]=x.useState(!1),[i,o]=x.useState([]),[l,a]=x.useState([]),[c,d]=x.useState("users");x.useEffect(()=>{h()},[]),x.useEffect(()=>{r&&(c==="users"?f():v())},[r,c]);async function h(){try{const{data:{user:p}}=await I.auth.getUser();if(!p){e("/");return}const{data:m}=await I.from("user_roles").select("role").eq("user_id",p.id).single();if((m==null?void 0:m.role)!=="admin"){e("/");return}s(!0),n(!1)}catch(p){console.error("Error checking admin status:",p),e("/")}}async function f(){try{const{data:p,error:m}=await I.from("users").select(`
          *,
          user_roles (role),
          user_profiles (username, banned)
        `).order("created_at",{ascending:!1});if(m)throw m;o(p||[])}catch(p){console.error("Error loading users:",p)}}async function v(){try{const{data:p,error:m}=await I.from("clips").select(`
          id,
          title,
          game,
          created_at,
          thumbnail_url,
          video_url,
          user_profiles (username)
        `).order("created_at",{ascending:!1});if(m)throw m;a(p||[])}catch(p){console.error("Error loading clips:",p)}}async function w(p,m){try{const g=m==="admin"?"user":"admin",{error:_}=await I.from("user_roles").upsert({user_id:p,role:g});if(_)throw _;f()}catch(g){console.error("Error updating user role:",g),alert("Failed to update user role")}}async function y(p,m){if(confirm(m?"Are you sure you want to unban this user?":"Are you sure you want to ban this user?"))try{const{error:g}=await I.from("user_profiles").update({banned:!m}).eq("user_id",p);if(g)throw g;f()}catch(g){console.error("Error toggling user ban:",g),alert("Failed to update user ban status")}}async function j(p){if(confirm("Are you sure you want to delete this clip?"))try{const{error:m}=await I.from("clips").delete().eq("id",p);if(m)throw m;v()}catch(m){console.error("Error deleting clip:",m),alert("Failed to delete clip")}}return t?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx(Mt,{className:"w-8 h-8 animate-spin text-[#9FE64F]"})}):r?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("button",{onClick:()=>d("users"),className:`px-4 py-2 rounded-lg ${c==="users"?"bg-[#9FE64F] text-black":"text-gray-400 hover:text-white"}`,children:"Users"}),u.jsx("button",{onClick:()=>d("clips"),className:`px-4 py-2 rounded-lg ${c==="clips"?"bg-[#9FE64F] text-black":"text-gray-400 hover:text-white"}`,children:"Clips"})]})]}),c==="users"?u.jsx("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-800",children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"User"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Role"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Joined"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-800",children:i.map(p=>{var m,g,_,k,S,E,C,D,T,ne;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:u.jsx("img",{className:"h-10 w-10 rounded-full",src:`https://ui-avatars.com/api/?name=${((m=p.user_profiles)==null?void 0:m.username)||p.email}`,alt:""})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("div",{className:"text-sm font-medium text-white",children:((g=p.user_profiles)==null?void 0:g.username)||"No username"}),u.jsx("div",{className:"text-sm text-gray-400",children:p.email})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${((_=p.user_roles)==null?void 0:_.role)==="admin"?"bg-[#9FE64F]/20 text-[#9FE64F]":"bg-gray-700 text-gray-300"}`,children:((k=p.user_roles)==null?void 0:k.role)||"user"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${(S=p.user_profiles)!=null&&S.banned?"bg-red-500/20 text-red-500":"bg-green-500/20 text-green-500"}`,children:(E=p.user_profiles)!=null&&E.banned?"Banned":"Active"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:new Date(p.created_at).toLocaleDateString()}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-3",children:[u.jsx("button",{onClick:()=>{var L;return w(p.id,(L=p.user_roles)==null?void 0:L.role)},className:"text-[#9FE64F] hover:text-[#8FD63F]",title:((C=p.user_roles)==null?void 0:C.role)==="admin"?"Remove admin":"Make admin",children:u.jsx(Sf,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>{var L;return y(p.id,!!((L=p.user_profiles)!=null&&L.banned))},className:(D=p.user_profiles)!=null&&D.banned?"text-green-500 hover:text-green-400":"text-red-500 hover:text-red-400",title:(T=p.user_profiles)!=null&&T.banned?"Unban user":"Ban user",children:(ne=p.user_profiles)!=null&&ne.banned?u.jsx(Ky,{className:"w-5 h-5"}):u.jsx(Wy,{className:"w-5 h-5"})})]})]},p.id)})})]})})}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(p=>u.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"aspect-video relative group",children:[u.jsx("img",{src:p.thumbnail_url||"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=800",alt:p.title,className:"w-full h-full object-cover"}),u.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center space-x-4",children:[u.jsx("a",{href:p.video_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-[#9FE64F] text-black rounded-full hover:bg-[#8FD63F]",children:u.jsx(gi,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>j(p.id),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600",children:u.jsx(nw,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"font-medium text-white mb-1",children:p.title}),u.jsxs("p",{className:"text-sm text-gray-400",children:["by ",p.user_profiles.username,"  ",p.game]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(p.created_at).toLocaleDateString()})]})]},p.id))})]}):null}function ww(){const{username:e}=Gg(),t=Ht(),[n,r]=x.useState(null),[s,i]=x.useState(!0),[o,l]=x.useState(null),a=c=>`https://api.dicebear.com/7.x/initials/svg?seed=${c}&backgroundColor=9FE64F&textColor=000000`;return x.useEffect(()=>{async function c(){if(e)try{const{data:d,error:h}=await I.from("user_profiles").select(`
            user_id,
            username,
            avatar_url,
            bio,
            favorite_games,
            followers,
            following,
            views
          `).eq("username",e).single();if(h)throw h;d&&(r({id:d.user_id,username:d.username,avatar:d.avatar_url||a(d.username),bio:d.bio||"No bio yet",followers:d.followers||0,following:d.following||0,views:d.views||0,favoriteGames:d.favorite_games||[]}),document.title=`${d.username} - Gamefolio`)}catch(d){console.error("Error loading user profile:",d),l("Failed to load user profile"),t("/404")}finally{i(!1)}}c()},[e,t]),s?u.jsx("div",{className:"min-h-screen bg-black pt-20",children:"Loading..."}):o||!n?u.jsx("div",{className:"min-h-screen bg-black pt-20 text-center",children:u.jsx("p",{className:"text-red-500",children:o||"User not found"})}):u.jsxs("div",{className:"min-h-screen bg-black",children:[u.jsx(Cf,{user:n}),u.jsx("div",{className:"max-w-7xl mx-auto px-4",children:u.jsxs("div",{className:"mt-8",children:[u.jsx("div",{className:"border-b border-gray-800 mb-8",children:u.jsxs("nav",{className:"flex space-x-8",children:[u.jsx("button",{className:"text-white border-b-2 border-[#9FE64F] pb-4",children:"Clips"}),u.jsx("button",{className:"text-gray-400 hover:text-white pb-4",children:"Gaming Stats"}),u.jsx("button",{className:"text-gray-400 hover:text-white pb-4",children:"About"})]})}),u.jsx(La,{clips:[]})]})})]})}const xw=["Valorant","League of Legends","Counter-Strike 2","Apex Legends","Fortnite","Call of Duty: Warzone","Dota 2","Overwatch 2","Minecraft","Grand Theft Auto V","Elden Ring","Cyberpunk 2077"];function _w({onComplete:e}){const t=Ht(),[n,r]=x.useState([]),[s,i]=x.useState(""),[o,l]=x.useState(!1),[a,c]=x.useState(null),d=xw.filter(v=>v.toLowerCase().includes(s.toLowerCase())),h=v=>{n.includes(v)?r(n.filter(w=>w!==v)):n.length<5&&r([...n,v])},f=async()=>{if(n.length<5){c("Please select 5 games");return}l(!0),c(null);try{const{data:{user:v}}=await I.auth.getUser();if(!v)throw new Error("No user found");const{error:w}=await I.from("user_profiles").update({favorite_games:n,onboarding_completed:!0}).eq("user_id",v.id);if(w)throw w;await I.rpc("create_activity_log",{p_user_id:v.id,p_action_type:"complete_onboarding",p_resource_type:"profile",p_resource_id:v.id,p_details:{favorite_games:n}}),e(),t("/account")}catch(v){console.error("Error completing onboarding:",v),c("Failed to complete onboarding. Please try again.")}finally{l(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-2xl w-full p-6 relative",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Select Your Favorite Games"}),u.jsx("p",{className:"text-gray-400",children:"Choose 5 games you love to play or watch"})]}),a&&u.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500",children:a}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(xf,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search games...",value:s,onChange:v=>i(v.target.value),className:"w-full bg-gray-800 text-white pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(v=>u.jsx("button",{onClick:()=>h(v),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${n.includes(v)?"bg-[#9FE64F] text-black":"bg-gray-800 text-gray-400 hover:text-white"}`,disabled:n.length>=5&&!n.includes(v),children:v},v))}),u.jsxs("p",{className:"text-sm text-gray-400",children:["Selected ",n.length,"/5 games"]})]}),u.jsx("div",{className:"mt-8 flex justify-end",children:u.jsx("button",{onClick:f,disabled:o||n.length<5,className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:o?u.jsxs(u.Fragment,{children:[u.jsx(Mt,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:"Saving..."})]}):u.jsx("span",{children:"Complete"})})})]})})}function kw({onComplete:e}){const[t,n]=x.useState(""),[r,s]=x.useState(!1),[i,o]=x.useState(null),[l,a]=x.useState(!1),[c,d]=x.useState(!1),h=v=>/^[a-zA-Z][a-zA-Z0-9_]{2,29}$/.test(v);x.useEffect(()=>{const w=setTimeout(async()=>{const y=t.trim().toLowerCase();if(!y){a(!1),o(null);return}if(!h(y)){a(!1),o("Username must start with a letter and can only contain letters, numbers, and underscores");return}d(!0),o(null);try{const{data:j,error:p}=await I.from("user_profiles").select("username").eq("username",y).single();p&&p.code==="PGRST116"?(a(!0),o(null)):(a(!1),o("Username is already taken"))}catch(j){console.error("Error checking username:",j),o("Error checking username availability")}finally{d(!1)}},500);return()=>clearTimeout(w)},[t]);const f=async v=>{v.preventDefault();const w=t.trim().toLowerCase();if(!w){o("Username is required");return}if(!h(w)){o("Username must start with a letter and can only contain letters, numbers, and underscores");return}if(!l){o("Username is not available");return}s(!0),o(null);try{const{data:{user:y}}=await I.auth.getUser();if(!y)throw new Error("No user found");const{error:j}=await I.from("user_profiles").update({username:w}).eq("user_id",y.id);if(j)throw j;e()}catch(y){console.error("Error setting username:",y),o(y instanceof Error?y.message:"Failed to set username")}finally{s(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-md w-full p-6 relative",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Your Username"}),u.jsx("p",{className:"text-gray-400",children:"This will be your unique identifier in the community"})]}),i&&u.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500",children:i}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:t,onChange:v=>n(v.target.value.toLowerCase()),placeholder:"Enter username",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",disabled:r,required:!0}),t.length>=3&&u.jsx("div",{className:"absolute right-3 top-3",children:c?u.jsx(Mt,{className:"w-6 h-6 animate-spin text-gray-400"}):l?u.jsx("span",{className:"text-green-500",children:""}):u.jsx(qn,{className:"w-6 h-6 text-red-500"})})]}),u.jsxs("div",{className:"text-sm text-gray-400 space-y-2",children:[u.jsx("p",{children:"Username requirements:"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[u.jsx("li",{children:"Must be between 3 and 30 characters"}),u.jsx("li",{children:"Must start with a letter"}),u.jsx("li",{children:"Can only contain letters, numbers, and underscores"}),u.jsx("li",{children:"Cannot contain spaces or special characters"})]})]}),u.jsx("button",{type:"submit",disabled:r||!t||!l,className:"w-full bg-[#9FE64F] hover:bg-[#8FD63F] text-black font-medium py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:r?u.jsxs(u.Fragment,{children:[u.jsx(Mt,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:"Setting username..."})]}):u.jsx("span",{children:"Set Username"})})]})]})})}function Sw(){const e=dn();return nr(),x.useEffect(()=>{let t="Gamefolio";const n=e.pathname;n==="/"?t="Gamefolio - Share Your Gaming Moments":n.startsWith("/account")?n==="/account"?t="My Gamefolio":n==="/account/leaderboard"?t="Leaderboard - Gamefolio":n==="/account/profile"?t="Profile - Gamefolio":n==="/account/settings"?t="Settings - Gamefolio":n==="/account/explore"?t="Explore - Gamefolio":n==="/account/admin"&&(t="Admin Dashboard - Gamefolio"):n.startsWith("/@")&&(t=`${n.slice(2)} - Gamefolio`),document.title=t},[e]),null}function jw({children:e}){const{session:t}=nr(),[n,r]=x.useState(null),[s,i]=x.useState(!0),[o,l]=x.useState(!1),[a,c]=x.useState(!1);return x.useEffect(()=>{async function d(){if(!(t!=null&&t.user)){i(!1);return}try{const{data:h,error:f}=await I.from("user_profiles").select("*").eq("user_id",t.user.id).single();if(f)throw f;r(h);const v=!h.username||h.username.startsWith("user_"),w=!h.onboarding_completed||!h.favorite_games||h.favorite_games.length<5;v?(c(!0),l(!1)):w?(l(!0),c(!1)):(l(!1),c(!1))}catch(h){console.error("Error loading profile:",h)}finally{i(!1)}}d()},[t]),s?null:t?a?u.jsx(kw,{onComplete:()=>{c(!1),n&&(!n.onboarding_completed||!n.favorite_games||n.favorite_games.length<5)&&l(!0)}}):o?u.jsx(_w,{onComplete:()=>l(!1)}):u.jsx(u.Fragment,{children:e}):u.jsx(lv,{to:"/"})}function Ew(){return u.jsx(zy,{children:u.jsxs(yv,{children:[u.jsx(Sw,{}),u.jsxs("div",{className:"min-h-screen bg-black text-white",children:[u.jsx(sw,{}),u.jsxs(cv,{children:[u.jsx(Ye,{path:"/",element:u.jsx(aw,{})}),u.jsx(Ye,{path:"/@:username",element:u.jsx(ww,{})}),u.jsxs(Ye,{path:"/account/*",element:u.jsx(jw,{children:u.jsx(uw,{})}),children:[u.jsx(Ye,{index:!0,element:u.jsx(fw,{})}),u.jsx(Ye,{path:"leaderboard",element:u.jsx(pw,{})}),u.jsx(Ye,{path:"profile",element:u.jsx(mw,{})}),u.jsx(Ye,{path:"settings",element:u.jsx(gw,{})}),u.jsx(Ye,{path:"explore",element:u.jsx(vw,{})}),u.jsx(Ye,{path:"admin",element:u.jsx(yw,{})})]})]})]})]})})}_a.init({publicKey:"FtrYgNxdMshCmw506"});Nh(document.getElementById("root")).render(u.jsx(x.StrictMode,{children:u.jsx(Ew,{})}));export{Tf as g};
