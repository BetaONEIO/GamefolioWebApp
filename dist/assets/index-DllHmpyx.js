function pf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var dc={exports:{}},wi={},hc={exports:{}},I={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xr=Symbol.for("react.element"),vf=Symbol.for("react.portal"),yf=Symbol.for("react.fragment"),wf=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),_f=Symbol.for("react.provider"),kf=Symbol.for("react.context"),Sf=Symbol.for("react.forward_ref"),jf=Symbol.for("react.suspense"),Ef=Symbol.for("react.memo"),Cf=Symbol.for("react.lazy"),Ra=Symbol.iterator;function Nf(e){return e===null||typeof e!="object"?null:(e=Ra&&e[Ra]||e["@@iterator"],typeof e=="function"?e:null)}var fc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pc=Object.assign,mc={};function Jn(e,t,n){this.props=e,this.context=t,this.refs=mc,this.updater=n||fc}Jn.prototype.isReactComponent={};Jn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gc(){}gc.prototype=Jn.prototype;function Nl(e,t,n){this.props=e,this.context=t,this.refs=mc,this.updater=n||fc}var bl=Nl.prototype=new gc;bl.constructor=Nl;pc(bl,Jn.prototype);bl.isPureReactComponent=!0;var La=Array.isArray,vc=Object.prototype.hasOwnProperty,Pl={current:null},yc={key:!0,ref:!0,__self:!0,__source:!0};function wc(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)vc.call(t,r)&&!yc.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Xr,type:e,key:i,ref:o,props:s,_owner:Pl.current}}function bf(e,t){return{$$typeof:Xr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xr}function Pf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $a=/\/+/g;function Gi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pf(""+e.key):t.toString(36)}function Os(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Xr:case vf:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Gi(o,0):r,La(s)?(n="",e!=null&&(n=e.replace($a,"$&/")+"/"),Os(s,t,n,"",function(c){return c})):s!=null&&(Tl(s)&&(s=bf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($a,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",La(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Gi(i,l);o+=Os(i,t,n,a,s)}else if(a=Nf(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Gi(i,l++),o+=Os(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function as(e,t,n){if(e==null)return e;var r=[],s=0;return Os(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Tf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ye={current:null},Rs={transition:null},Of={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Rs,ReactCurrentOwner:Pl};function xc(){throw Error("act(...) is not supported in production builds of React.")}I.Children={map:as,forEach:function(e,t,n){as(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return as(e,function(){t++}),t},toArray:function(e){return as(e,function(t){return t})||[]},only:function(e){if(!Tl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};I.Component=Jn;I.Fragment=yf;I.Profiler=xf;I.PureComponent=Nl;I.StrictMode=wf;I.Suspense=jf;I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Of;I.act=xc;I.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Pl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)vc.call(t,a)&&!yc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Xr,type:e.type,key:s,ref:i,props:r,_owner:o}};I.createContext=function(e){return e={$$typeof:kf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_f,_context:e},e.Consumer=e};I.createElement=wc;I.createFactory=function(e){var t=wc.bind(null,e);return t.type=e,t};I.createRef=function(){return{current:null}};I.forwardRef=function(e){return{$$typeof:Sf,render:e}};I.isValidElement=Tl;I.lazy=function(e){return{$$typeof:Cf,_payload:{_status:-1,_result:e},_init:Tf}};I.memo=function(e,t){return{$$typeof:Ef,type:e,compare:t===void 0?null:t}};I.startTransition=function(e){var t=Rs.transition;Rs.transition={};try{e()}finally{Rs.transition=t}};I.unstable_act=xc;I.useCallback=function(e,t){return ye.current.useCallback(e,t)};I.useContext=function(e){return ye.current.useContext(e)};I.useDebugValue=function(){};I.useDeferredValue=function(e){return ye.current.useDeferredValue(e)};I.useEffect=function(e,t){return ye.current.useEffect(e,t)};I.useId=function(){return ye.current.useId()};I.useImperativeHandle=function(e,t,n){return ye.current.useImperativeHandle(e,t,n)};I.useInsertionEffect=function(e,t){return ye.current.useInsertionEffect(e,t)};I.useLayoutEffect=function(e,t){return ye.current.useLayoutEffect(e,t)};I.useMemo=function(e,t){return ye.current.useMemo(e,t)};I.useReducer=function(e,t,n){return ye.current.useReducer(e,t,n)};I.useRef=function(e){return ye.current.useRef(e)};I.useState=function(e){return ye.current.useState(e)};I.useSyncExternalStore=function(e,t,n){return ye.current.useSyncExternalStore(e,t,n)};I.useTransition=function(){return ye.current.useTransition()};I.version="18.3.1";hc.exports=I;var w=hc.exports;const xr=mf(w),Rf=pf({__proto__:null,default:xr},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=w,$f=Symbol.for("react.element"),Af=Symbol.for("react.fragment"),Ff=Object.prototype.hasOwnProperty,If=Lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uf={key:!0,ref:!0,__self:!0,__source:!0};function _c(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Ff.call(t,r)&&!Uf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:$f,type:e,key:i,ref:o,props:s,_owner:If.current}}wi.Fragment=Af;wi.jsx=_c;wi.jsxs=_c;dc.exports=wi;var u=dc.exports,kc={exports:{}},Re={},Sc={exports:{}},jc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,R){var A=b.length;b.push(R);e:for(;0<A;){var X=A-1>>>1,se=b[X];if(0<s(se,R))b[X]=R,b[A]=se,A=X;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var R=b[0],A=b.pop();if(A!==R){b[0]=A;e:for(var X=0,se=b.length,os=se>>>1;X<os;){var Gt=2*(X+1)-1,Hi=b[Gt],Kt=Gt+1,ls=b[Kt];if(0>s(Hi,A))Kt<se&&0>s(ls,Hi)?(b[X]=ls,b[Kt]=A,X=Kt):(b[X]=Hi,b[Gt]=A,X=Gt);else if(Kt<se&&0>s(ls,A))b[X]=ls,b[Kt]=A,X=Kt;else break e}}return R}function s(b,R){var A=b.sortIndex-R.sortIndex;return A!==0?A:b.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,f=3,v=!1,y=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(b){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=b)r(c),R.sortIndex=R.expirationTime,t(a,R);else break;R=n(c)}}function _(b){if(k=!1,g(b),!y)if(n(a)!==null)y=!0,$e(x);else{var R=n(c);R!==null&&Ht(_,R.startTime-b)}}function x(b,R){y=!1,k&&(k=!1,m(N),N=-1),v=!0;var A=f;try{for(g(R),h=n(a);h!==null&&(!(h.expirationTime>R)||b&&!te());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var se=X(h.expirationTime<=R);R=e.unstable_now(),typeof se=="function"?h.callback=se:h===n(a)&&r(a),g(R)}else r(a);h=n(a)}if(h!==null)var os=!0;else{var Gt=n(c);Gt!==null&&Ht(_,Gt.startTime-R),os=!1}return os}finally{h=null,f=A,v=!1}}var j=!1,C=null,N=-1,O=5,T=-1;function te(){return!(e.unstable_now()-T<O)}function de(){if(C!==null){var b=e.unstable_now();T=b;var R=!0;try{R=C(!0,b)}finally{R?Je():(j=!1,C=null)}}else j=!1}var Je;if(typeof p=="function")Je=function(){p(de)};else if(typeof MessageChannel<"u"){var is=new MessageChannel,$=is.port2;is.port1.onmessage=de,Je=function(){$.postMessage(null)}}else Je=function(){S(de,0)};function $e(b){C=b,j||(j=!0,Je())}function Ht(b,R){N=S(function(){b(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,$e(x))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(b){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var A=f;f=R;try{return b()}finally{f=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,R){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var A=f;f=b;try{return R()}finally{f=A}},e.unstable_scheduleCallback=function(b,R,A){var X=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?X+A:X):A=X,b){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=A+se,b={id:d++,callback:R,priorityLevel:b,startTime:A,expirationTime:se,sortIndex:-1},A>X?(b.sortIndex=A,t(c,b),n(a)===null&&b===n(c)&&(k?(m(N),N=-1):k=!0,Ht(_,A-X))):(b.sortIndex=se,t(a,b),y||v||(y=!0,$e(x))),b},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(b){var R=f;return function(){var A=f;f=R;try{return b.apply(this,arguments)}finally{f=A}}}})(jc);Sc.exports=jc;var Df=Sc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf=w,Oe=Df;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ec=new Set,Rr={};function dn(e,t){Dn(e,t),Dn(e+"Capture",t)}function Dn(e,t){for(Rr[e]=t,e=0;e<t.length;e++)Ec.add(t[e])}var dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eo=Object.prototype.hasOwnProperty,zf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Aa={},Fa={};function Bf(e){return Eo.call(Fa,e)?!0:Eo.call(Aa,e)?!1:zf.test(e)?Fa[e]=!0:(Aa[e]=!0,!1)}function Vf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wf(e,t,n,r){if(t===null||typeof t>"u"||Vf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function we(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ce[e]=new we(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ce[t]=new we(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ce[e]=new we(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ce[e]=new we(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ce[e]=new we(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ce[e]=new we(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ce[e]=new we(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ce[e]=new we(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ce[e]=new we(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ol=/[\-:]([a-z])/g;function Rl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ol,Rl);ce[t]=new we(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ol,Rl);ce[t]=new we(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ol,Rl);ce[t]=new we(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ce[e]=new we(e,1,!1,e.toLowerCase(),null,!1,!1)});ce.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ce[e]=new we(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ll(e,t,n,r){var s=ce.hasOwnProperty(t)?ce[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wf(t,n,s,r)&&(n=null),r||s===null?Bf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gt=Mf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,us=Symbol.for("react.element"),xn=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),$l=Symbol.for("react.strict_mode"),Co=Symbol.for("react.profiler"),Cc=Symbol.for("react.provider"),Nc=Symbol.for("react.context"),Al=Symbol.for("react.forward_ref"),No=Symbol.for("react.suspense"),bo=Symbol.for("react.suspense_list"),Fl=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),bc=Symbol.for("react.offscreen"),Ia=Symbol.iterator;function ir(e){return e===null||typeof e!="object"?null:(e=Ia&&e[Ia]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,Ki;function mr(e){if(Ki===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ki=t&&t[1]||""}return`
`+Ki+e}var qi=!1;function Qi(e,t){if(!e||qi)return"";qi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{qi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mr(e):""}function Hf(e){switch(e.tag){case 5:return mr(e.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 2:case 15:return e=Qi(e.type,!1),e;case 11:return e=Qi(e.type.render,!1),e;case 1:return e=Qi(e.type,!0),e;default:return""}}function Po(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _n:return"Fragment";case xn:return"Portal";case Co:return"Profiler";case $l:return"StrictMode";case No:return"Suspense";case bo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nc:return(e.displayName||"Context")+".Consumer";case Cc:return(e._context.displayName||"Context")+".Provider";case Al:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fl:return t=e.displayName||null,t!==null?t:Po(e.type)||"Memo";case _t:t=e._payload,e=e._init;try{return Po(e(t))}catch{}}return null}function Gf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Po(t);case 8:return t===$l?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kf(e){var t=Pc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cs(e){e._valueTracker||(e._valueTracker=Kf(e))}function Tc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Pc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function To(e,t){var n=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ua(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Oc(e,t){t=t.checked,t!=null&&Ll(e,"checked",t,!1)}function Oo(e,t){Oc(e,t);var n=Mt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ro(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ro(e,t.type,Mt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Da(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ro(e,t,n){(t!=="number"||Vs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gr=Array.isArray;function Rn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Lo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ma(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(gr(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mt(n)}}function Rc(e,t){var n=Mt(t.value),r=Mt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function za(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $o(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ds,$c=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ds=ds||document.createElement("div"),ds.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ds.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qf=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(e){qf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_r[t]=_r[e]})});function Ac(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_r.hasOwnProperty(e)&&_r[e]?(""+t).trim():t+"px"}function Fc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ac(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Qf=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ao(e,t){if(t){if(Qf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Fo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=null;function Il(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uo=null,Ln=null,$n=null;function Ba(e){if(e=ts(e)){if(typeof Uo!="function")throw Error(E(280));var t=e.stateNode;t&&(t=ji(t),Uo(e.stateNode,e.type,t))}}function Ic(e){Ln?$n?$n.push(e):$n=[e]:Ln=e}function Uc(){if(Ln){var e=Ln,t=$n;if($n=Ln=null,Ba(e),t)for(e=0;e<t.length;e++)Ba(t[e])}}function Dc(e,t){return e(t)}function Mc(){}var Ji=!1;function zc(e,t,n){if(Ji)return e(t,n);Ji=!0;try{return Dc(e,t,n)}finally{Ji=!1,(Ln!==null||$n!==null)&&(Mc(),Uc())}}function $r(e,t){var n=e.stateNode;if(n===null)return null;var r=ji(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var Do=!1;if(dt)try{var or={};Object.defineProperty(or,"passive",{get:function(){Do=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{Do=!1}function Jf(e,t,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var kr=!1,Ws=null,Hs=!1,Mo=null,Yf={onError:function(e){kr=!0,Ws=e}};function Xf(e,t,n,r,s,i,o,l,a){kr=!1,Ws=null,Jf.apply(Yf,arguments)}function Zf(e,t,n,r,s,i,o,l,a){if(Xf.apply(this,arguments),kr){if(kr){var c=Ws;kr=!1,Ws=null}else throw Error(E(198));Hs||(Hs=!0,Mo=c)}}function hn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Bc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Va(e){if(hn(e)!==e)throw Error(E(188))}function ep(e){var t=e.alternate;if(!t){if(t=hn(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Va(s),e;if(i===r)return Va(s),t;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function Vc(e){return e=ep(e),e!==null?Wc(e):null}function Wc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wc(e);if(t!==null)return t;e=e.sibling}return null}var Hc=Oe.unstable_scheduleCallback,Wa=Oe.unstable_cancelCallback,tp=Oe.unstable_shouldYield,np=Oe.unstable_requestPaint,Z=Oe.unstable_now,rp=Oe.unstable_getCurrentPriorityLevel,Ul=Oe.unstable_ImmediatePriority,Gc=Oe.unstable_UserBlockingPriority,Gs=Oe.unstable_NormalPriority,sp=Oe.unstable_LowPriority,Kc=Oe.unstable_IdlePriority,xi=null,nt=null;function ip(e){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(xi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ke=Math.clz32?Math.clz32:ap,op=Math.log,lp=Math.LN2;function ap(e){return e>>>=0,e===0?32:31-(op(e)/lp|0)|0}var hs=64,fs=4194304;function vr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ks(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=vr(l):(i&=o,i!==0&&(r=vr(i)))}else o=n&~s,o!==0?r=vr(o):i!==0&&(r=vr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ke(t),s=1<<n,r|=e[n],t&=~s;return r}function up(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ke(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=up(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function zo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qc(){var e=hs;return hs<<=1,!(hs&4194240)&&(hs=64),e}function Yi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ke(t),e[t]=n}function dp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ke(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Dl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ke(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var M=0;function Qc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jc,Ml,Yc,Xc,Zc,Bo=!1,ps=[],Ot=null,Rt=null,Lt=null,Ar=new Map,Fr=new Map,jt=[],hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ha(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Ar.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function lr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ts(t),t!==null&&Ml(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fp(e,t,n,r,s){switch(t){case"focusin":return Ot=lr(Ot,e,t,n,r,s),!0;case"dragenter":return Rt=lr(Rt,e,t,n,r,s),!0;case"mouseover":return Lt=lr(Lt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ar.set(i,lr(Ar.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Fr.set(i,lr(Fr.get(i)||null,e,t,n,r,s)),!0}return!1}function ed(e){var t=Zt(e.target);if(t!==null){var n=hn(t);if(n!==null){if(t=n.tag,t===13){if(t=Bc(n),t!==null){e.blockedOn=t,Zc(e.priority,function(){Yc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Io=r,n.target.dispatchEvent(r),Io=null}else return t=ts(n),t!==null&&Ml(t),e.blockedOn=n,!1;t.shift()}return!0}function Ga(e,t,n){Ls(e)&&n.delete(t)}function pp(){Bo=!1,Ot!==null&&Ls(Ot)&&(Ot=null),Rt!==null&&Ls(Rt)&&(Rt=null),Lt!==null&&Ls(Lt)&&(Lt=null),Ar.forEach(Ga),Fr.forEach(Ga)}function ar(e,t){e.blockedOn===t&&(e.blockedOn=null,Bo||(Bo=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,pp)))}function Ir(e){function t(s){return ar(s,e)}if(0<ps.length){ar(ps[0],e);for(var n=1;n<ps.length;n++){var r=ps[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ot!==null&&ar(Ot,e),Rt!==null&&ar(Rt,e),Lt!==null&&ar(Lt,e),Ar.forEach(t),Fr.forEach(t),n=0;n<jt.length;n++)r=jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&(n=jt[0],n.blockedOn===null);)ed(n),n.blockedOn===null&&jt.shift()}var An=gt.ReactCurrentBatchConfig,qs=!0;function mp(e,t,n,r){var s=M,i=An.transition;An.transition=null;try{M=1,zl(e,t,n,r)}finally{M=s,An.transition=i}}function gp(e,t,n,r){var s=M,i=An.transition;An.transition=null;try{M=4,zl(e,t,n,r)}finally{M=s,An.transition=i}}function zl(e,t,n,r){if(qs){var s=Vo(e,t,n,r);if(s===null)lo(e,t,r,Qs,n),Ha(e,r);else if(fp(s,e,t,n,r))r.stopPropagation();else if(Ha(e,r),t&4&&-1<hp.indexOf(e)){for(;s!==null;){var i=ts(s);if(i!==null&&Jc(i),i=Vo(e,t,n,r),i===null&&lo(e,t,r,Qs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else lo(e,t,r,null,n)}}var Qs=null;function Vo(e,t,n,r){if(Qs=null,e=Il(r),e=Zt(e),e!==null)if(t=hn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Bc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qs=e,null}function td(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rp()){case Ul:return 1;case Gc:return 4;case Gs:case sp:return 16;case Kc:return 536870912;default:return 16}default:return 16}}var Nt=null,Bl=null,$s=null;function nd(){if($s)return $s;var e,t=Bl,n=t.length,r,s="value"in Nt?Nt.value:Nt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return $s=s.slice(e,1<r?1-r:void 0)}function As(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ms(){return!0}function Ka(){return!1}function Le(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ms:Ka,this.isPropagationStopped=Ka,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),t}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=Le(Yn),es=J({},Yn,{view:0,detail:0}),vp=Le(es),Xi,Zi,ur,_i=J({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ur&&(ur&&e.type==="mousemove"?(Xi=e.screenX-ur.screenX,Zi=e.screenY-ur.screenY):Zi=Xi=0,ur=e),Xi)},movementY:function(e){return"movementY"in e?e.movementY:Zi}}),qa=Le(_i),yp=J({},_i,{dataTransfer:0}),wp=Le(yp),xp=J({},es,{relatedTarget:0}),eo=Le(xp),_p=J({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),kp=Le(_p),Sp=J({},Yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jp=Le(Sp),Ep=J({},Yn,{data:0}),Qa=Le(Ep),Cp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bp[e])?!!t[e]:!1}function Wl(){return Pp}var Tp=J({},es,{key:function(e){if(e.key){var t=Cp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Op=Le(Tp),Rp=J({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ja=Le(Rp),Lp=J({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),$p=Le(Lp),Ap=J({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fp=Le(Ap),Ip=J({},_i,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Up=Le(Ip),Dp=[9,13,27,32],Hl=dt&&"CompositionEvent"in window,Sr=null;dt&&"documentMode"in document&&(Sr=document.documentMode);var Mp=dt&&"TextEvent"in window&&!Sr,rd=dt&&(!Hl||Sr&&8<Sr&&11>=Sr),Ya=" ",Xa=!1;function sd(e,t){switch(e){case"keyup":return Dp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kn=!1;function zp(e,t){switch(e){case"compositionend":return id(t);case"keypress":return t.which!==32?null:(Xa=!0,Ya);case"textInput":return e=t.data,e===Ya&&Xa?null:e;default:return null}}function Bp(e,t){if(kn)return e==="compositionend"||!Hl&&sd(e,t)?(e=nd(),$s=Bl=Nt=null,kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rd&&t.locale!=="ko"?null:t.data;default:return null}}var Vp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Za(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vp[e.type]:t==="textarea"}function od(e,t,n,r){Ic(r),t=Js(t,"onChange"),0<t.length&&(n=new Vl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jr=null,Ur=null;function Wp(e){vd(e,0)}function ki(e){var t=En(e);if(Tc(t))return e}function Hp(e,t){if(e==="change")return t}var ld=!1;if(dt){var to;if(dt){var no="oninput"in document;if(!no){var eu=document.createElement("div");eu.setAttribute("oninput","return;"),no=typeof eu.oninput=="function"}to=no}else to=!1;ld=to&&(!document.documentMode||9<document.documentMode)}function tu(){jr&&(jr.detachEvent("onpropertychange",ad),Ur=jr=null)}function ad(e){if(e.propertyName==="value"&&ki(Ur)){var t=[];od(t,Ur,e,Il(e)),zc(Wp,t)}}function Gp(e,t,n){e==="focusin"?(tu(),jr=t,Ur=n,jr.attachEvent("onpropertychange",ad)):e==="focusout"&&tu()}function Kp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ki(Ur)}function qp(e,t){if(e==="click")return ki(t)}function Qp(e,t){if(e==="input"||e==="change")return ki(t)}function Jp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qe=typeof Object.is=="function"?Object.is:Jp;function Dr(e,t){if(Qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Eo.call(t,s)||!Qe(e[s],t[s]))return!1}return!0}function nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ru(e,t){var n=nu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nu(n)}}function ud(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ud(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cd(){for(var e=window,t=Vs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vs(e.document)}return t}function Gl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yp(e){var t=cd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ud(n.ownerDocument.documentElement,n)){if(r!==null&&Gl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ru(n,i);var o=ru(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xp=dt&&"documentMode"in document&&11>=document.documentMode,Sn=null,Wo=null,Er=null,Ho=!1;function su(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ho||Sn==null||Sn!==Vs(r)||(r=Sn,"selectionStart"in r&&Gl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Er&&Dr(Er,r)||(Er=r,r=Js(Wo,"onSelect"),0<r.length&&(t=new Vl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sn)))}function gs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jn={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionend:gs("Transition","TransitionEnd")},ro={},dd={};dt&&(dd=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function Si(e){if(ro[e])return ro[e];if(!jn[e])return e;var t=jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dd)return ro[e]=t[n];return e}var hd=Si("animationend"),fd=Si("animationiteration"),pd=Si("animationstart"),md=Si("transitionend"),gd=new Map,iu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(e,t){gd.set(e,t),dn(t,[e])}for(var so=0;so<iu.length;so++){var io=iu[so],Zp=io.toLowerCase(),em=io[0].toUpperCase()+io.slice(1);Bt(Zp,"on"+em)}Bt(hd,"onAnimationEnd");Bt(fd,"onAnimationIteration");Bt(pd,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(md,"onTransitionEnd");Dn("onMouseEnter",["mouseout","mouseover"]);Dn("onMouseLeave",["mouseout","mouseover"]);Dn("onPointerEnter",["pointerout","pointerover"]);Dn("onPointerLeave",["pointerout","pointerover"]);dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tm=new Set("cancel close invalid load scroll toggle".split(" ").concat(yr));function ou(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Zf(r,t,void 0,e),e.currentTarget=null}function vd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;ou(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;ou(s,l,c),i=a}}}if(Hs)throw e=Mo,Hs=!1,Mo=null,e}function W(e,t){var n=t[Jo];n===void 0&&(n=t[Jo]=new Set);var r=e+"__bubble";n.has(r)||(yd(t,e,2,!1),n.add(r))}function oo(e,t,n){var r=0;t&&(r|=4),yd(n,e,r,t)}var vs="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){if(!e[vs]){e[vs]=!0,Ec.forEach(function(n){n!=="selectionchange"&&(tm.has(n)||oo(n,!1,e),oo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vs]||(t[vs]=!0,oo("selectionchange",!1,t))}}function yd(e,t,n,r){switch(td(t)){case 1:var s=mp;break;case 4:s=gp;break;default:s=zl}n=s.bind(null,t,n,e),s=void 0,!Do||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function lo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Zt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}zc(function(){var c=i,d=Il(n),h=[];e:{var f=gd.get(e);if(f!==void 0){var v=Vl,y=e;switch(e){case"keypress":if(As(n)===0)break e;case"keydown":case"keyup":v=Op;break;case"focusin":y="focus",v=eo;break;case"focusout":y="blur",v=eo;break;case"beforeblur":case"afterblur":v=eo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=wp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=$p;break;case hd:case fd:case pd:v=kp;break;case md:v=Fp;break;case"scroll":v=vp;break;case"wheel":v=Up;break;case"copy":case"cut":case"paste":v=jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ja}var k=(t&4)!==0,S=!k&&e==="scroll",m=k?f!==null?f+"Capture":null:f;k=[];for(var p=c,g;p!==null;){g=p;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=$r(p,m),_!=null&&k.push(zr(p,_,g)))),S)break;p=p.return}0<k.length&&(f=new v(f,y,null,n,d),h.push({event:f,listeners:k}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&n!==Io&&(y=n.relatedTarget||n.fromElement)&&(Zt(y)||y[ht]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?Zt(y):null,y!==null&&(S=hn(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(k=qa,_="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(k=Ja,_="onPointerLeave",m="onPointerEnter",p="pointer"),S=v==null?f:En(v),g=y==null?f:En(y),f=new k(_,p+"leave",v,n,d),f.target=S,f.relatedTarget=g,_=null,Zt(d)===c&&(k=new k(m,p+"enter",y,n,d),k.target=g,k.relatedTarget=S,_=k),S=_,v&&y)t:{for(k=v,m=y,p=0,g=k;g;g=gn(g))p++;for(g=0,_=m;_;_=gn(_))g++;for(;0<p-g;)k=gn(k),p--;for(;0<g-p;)m=gn(m),g--;for(;p--;){if(k===m||m!==null&&k===m.alternate)break t;k=gn(k),m=gn(m)}k=null}else k=null;v!==null&&lu(h,f,v,k,!1),y!==null&&S!==null&&lu(h,S,y,k,!0)}}e:{if(f=c?En(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var x=Hp;else if(Za(f))if(ld)x=Qp;else{x=Kp;var j=Gp}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=qp);if(x&&(x=x(e,c))){od(h,x,n,d);break e}j&&j(e,f,c),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Ro(f,"number",f.value)}switch(j=c?En(c):window,e){case"focusin":(Za(j)||j.contentEditable==="true")&&(Sn=j,Wo=c,Er=null);break;case"focusout":Er=Wo=Sn=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,su(h,n,d);break;case"selectionchange":if(Xp)break;case"keydown":case"keyup":su(h,n,d)}var C;if(Hl)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else kn?sd(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(rd&&n.locale!=="ko"&&(kn||N!=="onCompositionStart"?N==="onCompositionEnd"&&kn&&(C=nd()):(Nt=d,Bl="value"in Nt?Nt.value:Nt.textContent,kn=!0)),j=Js(c,N),0<j.length&&(N=new Qa(N,e,null,n,d),h.push({event:N,listeners:j}),C?N.data=C:(C=id(n),C!==null&&(N.data=C)))),(C=Mp?zp(e,n):Bp(e,n))&&(c=Js(c,"onBeforeInput"),0<c.length&&(d=new Qa("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}vd(h,t)})}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Js(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$r(e,n),i!=null&&r.unshift(zr(e,i,s)),i=$r(e,t),i!=null&&r.push(zr(e,i,s))),e=e.return}return r}function gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lu(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=$r(n,i),a!=null&&o.unshift(zr(n,a,l))):s||(a=$r(n,i),a!=null&&o.push(zr(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var nm=/\r\n?/g,rm=/\u0000|\uFFFD/g;function au(e){return(typeof e=="string"?e:""+e).replace(nm,`
`).replace(rm,"")}function ys(e,t,n){if(t=au(t),au(e)!==t&&n)throw Error(E(425))}function Ys(){}var Go=null,Ko=null;function qo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qo=typeof setTimeout=="function"?setTimeout:void 0,sm=typeof clearTimeout=="function"?clearTimeout:void 0,uu=typeof Promise=="function"?Promise:void 0,im=typeof queueMicrotask=="function"?queueMicrotask:typeof uu<"u"?function(e){return uu.resolve(null).then(e).catch(om)}:Qo;function om(e){setTimeout(function(){throw e})}function ao(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ir(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ir(t)}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xn=Math.random().toString(36).slice(2),tt="__reactFiber$"+Xn,Br="__reactProps$"+Xn,ht="__reactContainer$"+Xn,Jo="__reactEvents$"+Xn,lm="__reactListeners$"+Xn,am="__reactHandles$"+Xn;function Zt(e){var t=e[tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ht]||n[tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cu(e);e!==null;){if(n=e[tt])return n;e=cu(e)}return t}e=n,n=e.parentNode}return null}function ts(e){return e=e[tt]||e[ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function En(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ji(e){return e[Br]||null}var Yo=[],Cn=-1;function Vt(e){return{current:e}}function H(e){0>Cn||(e.current=Yo[Cn],Yo[Cn]=null,Cn--)}function V(e,t){Cn++,Yo[Cn]=e.current,e.current=t}var zt={},me=Vt(zt),je=Vt(!1),sn=zt;function Mn(e,t){var n=e.type.contextTypes;if(!n)return zt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ee(e){return e=e.childContextTypes,e!=null}function Xs(){H(je),H(me)}function du(e,t,n){if(me.current!==zt)throw Error(E(168));V(me,t),V(je,n)}function wd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(E(108,Gf(e)||"Unknown",s));return J({},n,r)}function Zs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zt,sn=me.current,V(me,e),V(je,je.current),!0}function hu(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=wd(e,t,sn),r.__reactInternalMemoizedMergedChildContext=e,H(je),H(me),V(me,e)):H(je),V(je,n)}var lt=null,Ei=!1,uo=!1;function xd(e){lt===null?lt=[e]:lt.push(e)}function um(e){Ei=!0,xd(e)}function Wt(){if(!uo&&lt!==null){uo=!0;var e=0,t=M;try{var n=lt;for(M=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}lt=null,Ei=!1}catch(s){throw lt!==null&&(lt=lt.slice(e+1)),Hc(Ul,Wt),s}finally{M=t,uo=!1}}return null}var Nn=[],bn=0,ei=null,ti=0,Ae=[],Fe=0,on=null,at=1,ut="";function Qt(e,t){Nn[bn++]=ti,Nn[bn++]=ei,ei=e,ti=t}function _d(e,t,n){Ae[Fe++]=at,Ae[Fe++]=ut,Ae[Fe++]=on,on=e;var r=at;e=ut;var s=32-Ke(r)-1;r&=~(1<<s),n+=1;var i=32-Ke(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,at=1<<32-Ke(t)+s|n<<s|r,ut=i+e}else at=1<<i|n<<s|r,ut=e}function Kl(e){e.return!==null&&(Qt(e,1),_d(e,1,0))}function ql(e){for(;e===ei;)ei=Nn[--bn],Nn[bn]=null,ti=Nn[--bn],Nn[bn]=null;for(;e===on;)on=Ae[--Fe],Ae[Fe]=null,ut=Ae[--Fe],Ae[Fe]=null,at=Ae[--Fe],Ae[Fe]=null}var Te=null,Pe=null,G=!1,Ge=null;function kd(e,t){var n=Ie(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Te=e,Pe=$t(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Te=e,Pe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=on!==null?{id:at,overflow:ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ie(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Te=e,Pe=null,!0):!1;default:return!1}}function Xo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zo(e){if(G){var t=Pe;if(t){var n=t;if(!fu(e,t)){if(Xo(e))throw Error(E(418));t=$t(n.nextSibling);var r=Te;t&&fu(e,t)?kd(r,n):(e.flags=e.flags&-4097|2,G=!1,Te=e)}}else{if(Xo(e))throw Error(E(418));e.flags=e.flags&-4097|2,G=!1,Te=e}}}function pu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Te=e}function ws(e){if(e!==Te)return!1;if(!G)return pu(e),G=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qo(e.type,e.memoizedProps)),t&&(t=Pe)){if(Xo(e))throw Sd(),Error(E(418));for(;t;)kd(e,t),t=$t(t.nextSibling)}if(pu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pe=$t(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pe=null}}else Pe=Te?$t(e.stateNode.nextSibling):null;return!0}function Sd(){for(var e=Pe;e;)e=$t(e.nextSibling)}function zn(){Pe=Te=null,G=!1}function Ql(e){Ge===null?Ge=[e]:Ge.push(e)}var cm=gt.ReactCurrentBatchConfig;function cr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mu(e){var t=e._init;return t(e._payload)}function jd(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Ut(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,_){return p===null||p.tag!==6?(p=vo(g,m.mode,_),p.return=m,p):(p=s(p,g),p.return=m,p)}function a(m,p,g,_){var x=g.type;return x===_n?d(m,p,g.props.children,_,g.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===_t&&mu(x)===p.type)?(_=s(p,g.props),_.ref=cr(m,p,g),_.return=m,_):(_=Bs(g.type,g.key,g.props,null,m.mode,_),_.ref=cr(m,p,g),_.return=m,_)}function c(m,p,g,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=yo(g,m.mode,_),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function d(m,p,g,_,x){return p===null||p.tag!==7?(p=rn(g,m.mode,_,x),p.return=m,p):(p=s(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=vo(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case us:return g=Bs(p.type,p.key,p.props,null,m.mode,g),g.ref=cr(m,null,p),g.return=m,g;case xn:return p=yo(p,m.mode,g),p.return=m,p;case _t:var _=p._init;return h(m,_(p._payload),g)}if(gr(p)||ir(p))return p=rn(p,m.mode,g,null),p.return=m,p;xs(m,p)}return null}function f(m,p,g,_){var x=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:l(m,p,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case us:return g.key===x?a(m,p,g,_):null;case xn:return g.key===x?c(m,p,g,_):null;case _t:return x=g._init,f(m,p,x(g._payload),_)}if(gr(g)||ir(g))return x!==null?null:d(m,p,g,_,null);xs(m,g)}return null}function v(m,p,g,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,l(p,m,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case us:return m=m.get(_.key===null?g:_.key)||null,a(p,m,_,x);case xn:return m=m.get(_.key===null?g:_.key)||null,c(p,m,_,x);case _t:var j=_._init;return v(m,p,g,j(_._payload),x)}if(gr(_)||ir(_))return m=m.get(g)||null,d(p,m,_,x,null);xs(p,_)}return null}function y(m,p,g,_){for(var x=null,j=null,C=p,N=p=0,O=null;C!==null&&N<g.length;N++){C.index>N?(O=C,C=null):O=C.sibling;var T=f(m,C,g[N],_);if(T===null){C===null&&(C=O);break}e&&C&&T.alternate===null&&t(m,C),p=i(T,p,N),j===null?x=T:j.sibling=T,j=T,C=O}if(N===g.length)return n(m,C),G&&Qt(m,N),x;if(C===null){for(;N<g.length;N++)C=h(m,g[N],_),C!==null&&(p=i(C,p,N),j===null?x=C:j.sibling=C,j=C);return G&&Qt(m,N),x}for(C=r(m,C);N<g.length;N++)O=v(C,m,N,g[N],_),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?N:O.key),p=i(O,p,N),j===null?x=O:j.sibling=O,j=O);return e&&C.forEach(function(te){return t(m,te)}),G&&Qt(m,N),x}function k(m,p,g,_){var x=ir(g);if(typeof x!="function")throw Error(E(150));if(g=x.call(g),g==null)throw Error(E(151));for(var j=x=null,C=p,N=p=0,O=null,T=g.next();C!==null&&!T.done;N++,T=g.next()){C.index>N?(O=C,C=null):O=C.sibling;var te=f(m,C,T.value,_);if(te===null){C===null&&(C=O);break}e&&C&&te.alternate===null&&t(m,C),p=i(te,p,N),j===null?x=te:j.sibling=te,j=te,C=O}if(T.done)return n(m,C),G&&Qt(m,N),x;if(C===null){for(;!T.done;N++,T=g.next())T=h(m,T.value,_),T!==null&&(p=i(T,p,N),j===null?x=T:j.sibling=T,j=T);return G&&Qt(m,N),x}for(C=r(m,C);!T.done;N++,T=g.next())T=v(C,m,N,T.value,_),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?N:T.key),p=i(T,p,N),j===null?x=T:j.sibling=T,j=T);return e&&C.forEach(function(de){return t(m,de)}),G&&Qt(m,N),x}function S(m,p,g,_){if(typeof g=="object"&&g!==null&&g.type===_n&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case us:e:{for(var x=g.key,j=p;j!==null;){if(j.key===x){if(x=g.type,x===_n){if(j.tag===7){n(m,j.sibling),p=s(j,g.props.children),p.return=m,m=p;break e}}else if(j.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===_t&&mu(x)===j.type){n(m,j.sibling),p=s(j,g.props),p.ref=cr(m,j,g),p.return=m,m=p;break e}n(m,j);break}else t(m,j);j=j.sibling}g.type===_n?(p=rn(g.props.children,m.mode,_,g.key),p.return=m,m=p):(_=Bs(g.type,g.key,g.props,null,m.mode,_),_.ref=cr(m,p,g),_.return=m,m=_)}return o(m);case xn:e:{for(j=g.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=yo(g,m.mode,_),p.return=m,m=p}return o(m);case _t:return j=g._init,S(m,p,j(g._payload),_)}if(gr(g))return y(m,p,g,_);if(ir(g))return k(m,p,g,_);xs(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,g),p.return=m,m=p):(n(m,p),p=vo(g,m.mode,_),p.return=m,m=p),o(m)):n(m,p)}return S}var Bn=jd(!0),Ed=jd(!1),ni=Vt(null),ri=null,Pn=null,Jl=null;function Yl(){Jl=Pn=ri=null}function Xl(e){var t=ni.current;H(ni),e._currentValue=t}function el(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fn(e,t){ri=e,Jl=Pn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Se=!0),e.firstContext=null)}function Me(e){var t=e._currentValue;if(Jl!==e)if(e={context:e,memoizedValue:t,next:null},Pn===null){if(ri===null)throw Error(E(308));Pn=e,ri.dependencies={lanes:0,firstContext:e}}else Pn=Pn.next=e;return t}var en=null;function Zl(e){en===null?en=[e]:en.push(e)}function Cd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Zl(t)):(n.next=s.next,s.next=n),t.interleaved=n,ft(e,r)}function ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kt=!1;function ea(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ct(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function At(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,D&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ft(e,n)}return s=r.interleaved,s===null?(t.next=t,Zl(r)):(t.next=s.next,s.next=t),r.interleaved=t,ft(e,n)}function Fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dl(e,n)}}function gu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function si(e,t,n,r){var s=e.updateQueue;kt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var f=l.lane,v=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,k=l;switch(f=t,v=n,k.tag){case 1:if(y=k.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=k.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=J({},h,f);break e;case 2:kt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,a=h):d=d.next=v,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);an|=o,e.lanes=o,e.memoizedState=h}}function vu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var ns={},rt=Vt(ns),Vr=Vt(ns),Wr=Vt(ns);function tn(e){if(e===ns)throw Error(E(174));return e}function ta(e,t){switch(V(Wr,t),V(Vr,e),V(rt,ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$o(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$o(t,e)}H(rt),V(rt,t)}function Vn(){H(rt),H(Vr),H(Wr)}function bd(e){tn(Wr.current);var t=tn(rt.current),n=$o(t,e.type);t!==n&&(V(Vr,e),V(rt,n))}function na(e){Vr.current===e&&(H(rt),H(Vr))}var K=Vt(0);function ii(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function ra(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var Is=gt.ReactCurrentDispatcher,ho=gt.ReactCurrentBatchConfig,ln=0,q=null,ne=null,oe=null,oi=!1,Cr=!1,Hr=0,dm=0;function he(){throw Error(E(321))}function sa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qe(e[n],t[n]))return!1;return!0}function ia(e,t,n,r,s,i){if(ln=i,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Is.current=e===null||e.memoizedState===null?mm:gm,e=n(r,s),Cr){i=0;do{if(Cr=!1,Hr=0,25<=i)throw Error(E(301));i+=1,oe=ne=null,t.updateQueue=null,Is.current=vm,e=n(r,s)}while(Cr)}if(Is.current=li,t=ne!==null&&ne.next!==null,ln=0,oe=ne=q=null,oi=!1,t)throw Error(E(300));return e}function oa(){var e=Hr!==0;return Hr=0,e}function et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?q.memoizedState=oe=e:oe=oe.next=e,oe}function ze(){if(ne===null){var e=q.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var t=oe===null?q.memoizedState:oe.next;if(t!==null)oe=t,ne=e;else{if(e===null)throw Error(E(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},oe===null?q.memoizedState=oe=e:oe=oe.next=e}return oe}function Gr(e,t){return typeof t=="function"?t(e):t}function fo(e){var t=ze(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=ne,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((ln&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,q.lanes|=d,an|=d}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,Qe(r,t.memoizedState)||(Se=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,q.lanes|=i,an|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function po(e){var t=ze(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Qe(i,t.memoizedState)||(Se=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Pd(){}function Td(e,t){var n=q,r=ze(),s=t(),i=!Qe(r.memoizedState,s);if(i&&(r.memoizedState=s,Se=!0),r=r.queue,la(Ld.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||oe!==null&&oe.memoizedState.tag&1){if(n.flags|=2048,Kr(9,Rd.bind(null,n,r,s,t),void 0,null),le===null)throw Error(E(349));ln&30||Od(n,t,s)}return s}function Od(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rd(e,t,n,r){t.value=n,t.getSnapshot=r,$d(t)&&Ad(e)}function Ld(e,t,n){return n(function(){$d(t)&&Ad(e)})}function $d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qe(e,n)}catch{return!0}}function Ad(e){var t=ft(e,1);t!==null&&qe(t,e,1,-1)}function yu(e){var t=et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:e},t.queue=e,e=e.dispatch=pm.bind(null,q,e),[t.memoizedState,e]}function Kr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fd(){return ze().memoizedState}function Us(e,t,n,r){var s=et();q.flags|=e,s.memoizedState=Kr(1|t,n,void 0,r===void 0?null:r)}function Ci(e,t,n,r){var s=ze();r=r===void 0?null:r;var i=void 0;if(ne!==null){var o=ne.memoizedState;if(i=o.destroy,r!==null&&sa(r,o.deps)){s.memoizedState=Kr(t,n,i,r);return}}q.flags|=e,s.memoizedState=Kr(1|t,n,i,r)}function wu(e,t){return Us(8390656,8,e,t)}function la(e,t){return Ci(2048,8,e,t)}function Id(e,t){return Ci(4,2,e,t)}function Ud(e,t){return Ci(4,4,e,t)}function Dd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Md(e,t,n){return n=n!=null?n.concat([e]):null,Ci(4,4,Dd.bind(null,t,e),n)}function aa(){}function zd(e,t){var n=ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bd(e,t){var n=ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vd(e,t,n){return ln&21?(Qe(n,t)||(n=qc(),q.lanes|=n,an|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Se=!0),e.memoizedState=n)}function hm(e,t){var n=M;M=n!==0&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{M=n,ho.transition=r}}function Wd(){return ze().memoizedState}function fm(e,t,n){var r=It(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hd(e))Gd(t,n);else if(n=Cd(e,t,n,r),n!==null){var s=ve();qe(n,e,r,s),Kd(n,t,r)}}function pm(e,t,n){var r=It(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hd(e))Gd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Qe(l,o)){var a=t.interleaved;a===null?(s.next=s,Zl(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Cd(e,t,s,r),n!==null&&(s=ve(),qe(n,e,r,s),Kd(n,t,r))}}function Hd(e){var t=e.alternate;return e===q||t!==null&&t===q}function Gd(e,t){Cr=oi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dl(e,n)}}var li={readContext:Me,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},mm={readContext:Me,useCallback:function(e,t){return et().memoizedState=[e,t===void 0?null:t],e},useContext:Me,useEffect:wu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Us(4194308,4,Dd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){return Us(4,2,e,t)},useMemo:function(e,t){var n=et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fm.bind(null,q,e),[r.memoizedState,e]},useRef:function(e){var t=et();return e={current:e},t.memoizedState=e},useState:yu,useDebugValue:aa,useDeferredValue:function(e){return et().memoizedState=e},useTransition:function(){var e=yu(!1),t=e[0];return e=hm.bind(null,e[1]),et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=q,s=et();if(G){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),le===null)throw Error(E(349));ln&30||Od(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,wu(Ld.bind(null,r,i,e),[e]),r.flags|=2048,Kr(9,Rd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=et(),t=le.identifierPrefix;if(G){var n=ut,r=at;n=(r&~(1<<32-Ke(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gm={readContext:Me,useCallback:zd,useContext:Me,useEffect:la,useImperativeHandle:Md,useInsertionEffect:Id,useLayoutEffect:Ud,useMemo:Bd,useReducer:fo,useRef:Fd,useState:function(){return fo(Gr)},useDebugValue:aa,useDeferredValue:function(e){var t=ze();return Vd(t,ne.memoizedState,e)},useTransition:function(){var e=fo(Gr)[0],t=ze().memoizedState;return[e,t]},useMutableSource:Pd,useSyncExternalStore:Td,useId:Wd,unstable_isNewReconciler:!1},vm={readContext:Me,useCallback:zd,useContext:Me,useEffect:la,useImperativeHandle:Md,useInsertionEffect:Id,useLayoutEffect:Ud,useMemo:Bd,useReducer:po,useRef:Fd,useState:function(){return po(Gr)},useDebugValue:aa,useDeferredValue:function(e){var t=ze();return ne===null?t.memoizedState=e:Vd(t,ne.memoizedState,e)},useTransition:function(){var e=po(Gr)[0],t=ze().memoizedState;return[e,t]},useMutableSource:Pd,useSyncExternalStore:Td,useId:Wd,unstable_isNewReconciler:!1};function Ve(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function tl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:J({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ni={isMounted:function(e){return(e=e._reactInternals)?hn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ve(),s=It(e),i=ct(r,s);i.payload=t,n!=null&&(i.callback=n),t=At(e,i,s),t!==null&&(qe(t,e,s,r),Fs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ve(),s=It(e),i=ct(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=At(e,i,s),t!==null&&(qe(t,e,s,r),Fs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ve(),r=It(e),s=ct(n,r);s.tag=2,t!=null&&(s.callback=t),t=At(e,s,r),t!==null&&(qe(t,e,r,n),Fs(t,e,r))}};function xu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Dr(n,r)||!Dr(s,i):!0}function qd(e,t,n){var r=!1,s=zt,i=t.contextType;return typeof i=="object"&&i!==null?i=Me(i):(s=Ee(t)?sn:me.current,r=t.contextTypes,i=(r=r!=null)?Mn(e,s):zt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ni,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function _u(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ni.enqueueReplaceState(t,t.state,null)}function nl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ea(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Me(i):(i=Ee(t)?sn:me.current,s.context=Mn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(tl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ni.enqueueReplaceState(s,s.state,null),si(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Wn(e,t){try{var n="",r=t;do n+=Hf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function mo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ym=typeof WeakMap=="function"?WeakMap:Map;function Qd(e,t,n){n=ct(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ui||(ui=!0,fl=r),rl(e,t)},n}function Jd(e,t,n){n=ct(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){rl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){rl(e,t),typeof r!="function"&&(Ft===null?Ft=new Set([this]):Ft.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ku(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ym;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Rm.bind(null,e,t,n),t.then(e,e))}function Su(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ju(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ct(-1,1),t.tag=2,At(n,t,1))),n.lanes|=1),e)}var wm=gt.ReactCurrentOwner,Se=!1;function ge(e,t,n,r){t.child=e===null?Ed(t,null,n,r):Bn(t,e.child,n,r)}function Eu(e,t,n,r,s){n=n.render;var i=t.ref;return Fn(t,s),r=ia(e,t,n,r,i,s),n=oa(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pt(e,t,s)):(G&&n&&Kl(t),t.flags|=1,ge(e,t,r,s),t.child)}function Cu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ga(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Yd(e,t,i,r,s)):(e=Bs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Dr,n(o,r)&&e.ref===t.ref)return pt(e,t,s)}return t.flags|=1,e=Ut(i,r),e.ref=t.ref,e.return=t,t.child=e}function Yd(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Dr(i,r)&&e.ref===t.ref)if(Se=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Se=!0);else return t.lanes=e.lanes,pt(e,t,s)}return sl(e,t,n,r,s)}function Xd(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(On,be),be|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,V(On,be),be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,V(On,be),be|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,V(On,be),be|=r;return ge(e,t,s,n),t.child}function Zd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sl(e,t,n,r,s){var i=Ee(n)?sn:me.current;return i=Mn(t,i),Fn(t,s),n=ia(e,t,n,r,i,s),r=oa(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pt(e,t,s)):(G&&r&&Kl(t),t.flags|=1,ge(e,t,n,s),t.child)}function Nu(e,t,n,r,s){if(Ee(n)){var i=!0;Zs(t)}else i=!1;if(Fn(t,s),t.stateNode===null)Ds(e,t),qd(t,n,r),nl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Me(c):(c=Ee(n)?sn:me.current,c=Mn(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&_u(t,o,r,c),kt=!1;var f=t.memoizedState;o.state=f,si(t,r,o,s),a=t.memoizedState,l!==r||f!==a||je.current||kt?(typeof d=="function"&&(tl(t,n,d,r),a=t.memoizedState),(l=kt||xu(t,n,l,r,f,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Nd(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Ve(t.type,l),o.props=c,h=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Me(a):(a=Ee(n)?sn:me.current,a=Mn(t,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&_u(t,o,r,a),kt=!1,f=t.memoizedState,o.state=f,si(t,r,o,s);var y=t.memoizedState;l!==h||f!==y||je.current||kt?(typeof v=="function"&&(tl(t,n,v,r),y=t.memoizedState),(c=kt||xu(t,n,c,r,f,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return il(e,t,n,r,i,s)}function il(e,t,n,r,s,i){Zd(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&hu(t,n,!1),pt(e,t,i);r=t.stateNode,wm.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Bn(t,e.child,null,i),t.child=Bn(t,null,l,i)):ge(e,t,l,i),t.memoizedState=r.state,s&&hu(t,n,!0),t.child}function eh(e){var t=e.stateNode;t.pendingContext?du(e,t.pendingContext,t.pendingContext!==t.context):t.context&&du(e,t.context,!1),ta(e,t.containerInfo)}function bu(e,t,n,r,s){return zn(),Ql(s),t.flags|=256,ge(e,t,n,r),t.child}var ol={dehydrated:null,treeContext:null,retryLane:0};function ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function th(e,t,n){var r=t.pendingProps,s=K.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),V(K,s&1),e===null)return Zo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ti(o,r,0,null),e=rn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ll(n),t.memoizedState=ol,e):ua(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xm(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Ut(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ut(l,i):(i=rn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ll(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ol,r}return i=e.child,e=i.sibling,r=Ut(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ua(e,t){return t=Ti({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _s(e,t,n,r){return r!==null&&Ql(r),Bn(t,e.child,null,n),e=ua(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xm(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=mo(Error(E(422))),_s(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ti({mode:"visible",children:r.children},s,0,null),i=rn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Bn(t,e.child,null,o),t.child.memoizedState=ll(o),t.memoizedState=ol,i);if(!(t.mode&1))return _s(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(E(419)),r=mo(i,r,void 0),_s(e,t,o,r)}if(l=(o&e.childLanes)!==0,Se||l){if(r=le,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ft(e,s),qe(r,e,s,-1))}return ma(),r=mo(Error(E(421))),_s(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Lm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Pe=$t(s.nextSibling),Te=t,G=!0,Ge=null,e!==null&&(Ae[Fe++]=at,Ae[Fe++]=ut,Ae[Fe++]=on,at=e.id,ut=e.overflow,on=t),t=ua(t,r.children),t.flags|=4096,t)}function Pu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),el(e.return,t,n)}function go(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function nh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ge(e,t,r.children,n),r=K.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pu(e,n,t);else if(e.tag===19)Pu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(V(K,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ii(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),go(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ii(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}go(t,!0,n,null,i);break;case"together":go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ds(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),an|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=Ut(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ut(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _m(e,t,n){switch(t.tag){case 3:eh(t),zn();break;case 5:bd(t);break;case 1:Ee(t.type)&&Zs(t);break;case 4:ta(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;V(ni,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(V(K,K.current&1),t.flags|=128,null):n&t.child.childLanes?th(e,t,n):(V(K,K.current&1),e=pt(e,t,n),e!==null?e.sibling:null);V(K,K.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return nh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(K,K.current),r)break;return null;case 22:case 23:return t.lanes=0,Xd(e,t,n)}return pt(e,t,n)}var rh,al,sh,ih;rh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};al=function(){};sh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,tn(rt.current);var i=null;switch(n){case"input":s=To(e,s),r=To(e,r),i=[];break;case"select":s=J({},s,{value:void 0}),r=J({},r,{value:void 0}),i=[];break;case"textarea":s=Lo(e,s),r=Lo(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ys)}Ao(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&W("scroll",e),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};ih=function(e,t,n,r){n!==r&&(t.flags|=4)};function dr(e,t){if(!G)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function km(e,t,n){var r=t.pendingProps;switch(ql(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(t),null;case 1:return Ee(t.type)&&Xs(),fe(t),null;case 3:return r=t.stateNode,Vn(),H(je),H(me),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ge!==null&&(gl(Ge),Ge=null))),al(e,t),fe(t),null;case 5:na(t);var s=tn(Wr.current);if(n=t.type,e!==null&&t.stateNode!=null)sh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return fe(t),null}if(e=tn(rt.current),ws(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[tt]=t,r[Br]=i,e=(t.mode&1)!==0,n){case"dialog":W("cancel",r),W("close",r);break;case"iframe":case"object":case"embed":W("load",r);break;case"video":case"audio":for(s=0;s<yr.length;s++)W(yr[s],r);break;case"source":W("error",r);break;case"img":case"image":case"link":W("error",r),W("load",r);break;case"details":W("toggle",r);break;case"input":Ua(r,i),W("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},W("invalid",r);break;case"textarea":Ma(r,i),W("invalid",r)}Ao(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ys(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ys(r.textContent,l,e),s=["children",""+l]):Rr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&W("scroll",r)}switch(n){case"input":cs(r),Da(r,i,!0);break;case"textarea":cs(r),za(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ys)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[tt]=t,e[Br]=r,rh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fo(n,r),n){case"dialog":W("cancel",e),W("close",e),s=r;break;case"iframe":case"object":case"embed":W("load",e),s=r;break;case"video":case"audio":for(s=0;s<yr.length;s++)W(yr[s],e);s=r;break;case"source":W("error",e),s=r;break;case"img":case"image":case"link":W("error",e),W("load",e),s=r;break;case"details":W("toggle",e),s=r;break;case"input":Ua(e,r),s=To(e,r),W("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=J({},r,{value:void 0}),W("invalid",e);break;case"textarea":Ma(e,r),s=Lo(e,r),W("invalid",e);break;default:s=r}Ao(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Fc(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&$c(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Lr(e,a):typeof a=="number"&&Lr(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&W("scroll",e):a!=null&&Ll(e,i,a,o))}switch(n){case"input":cs(e),Da(e,r,!1);break;case"textarea":cs(e),za(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Rn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Rn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ys)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fe(t),null;case 6:if(e&&t.stateNode!=null)ih(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=tn(Wr.current),tn(rt.current),ws(t)){if(r=t.stateNode,n=t.memoizedProps,r[tt]=t,(i=r.nodeValue!==n)&&(e=Te,e!==null))switch(e.tag){case 3:ys(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ys(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tt]=t,t.stateNode=r}return fe(t),null;case 13:if(H(K),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(G&&Pe!==null&&t.mode&1&&!(t.flags&128))Sd(),zn(),t.flags|=98560,i=!1;else if(i=ws(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[tt]=t}else zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),i=!1}else Ge!==null&&(gl(Ge),Ge=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||K.current&1?re===0&&(re=3):ma())),t.updateQueue!==null&&(t.flags|=4),fe(t),null);case 4:return Vn(),al(e,t),e===null&&Mr(t.stateNode.containerInfo),fe(t),null;case 10:return Xl(t.type._context),fe(t),null;case 17:return Ee(t.type)&&Xs(),fe(t),null;case 19:if(H(K),i=t.memoizedState,i===null)return fe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)dr(i,!1);else{if(re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ii(e),o!==null){for(t.flags|=128,dr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return V(K,K.current&1|2),t.child}e=e.sibling}i.tail!==null&&Z()>Hn&&(t.flags|=128,r=!0,dr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ii(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),dr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!G)return fe(t),null}else 2*Z()-i.renderingStartTime>Hn&&n!==1073741824&&(t.flags|=128,r=!0,dr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Z(),t.sibling=null,n=K.current,V(K,r?n&1|2:n&1),t):(fe(t),null);case 22:case 23:return pa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?be&1073741824&&(fe(t),t.subtreeFlags&6&&(t.flags|=8192)):fe(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Sm(e,t){switch(ql(t),t.tag){case 1:return Ee(t.type)&&Xs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vn(),H(je),H(me),ra(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return na(t),null;case 13:if(H(K),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(K),null;case 4:return Vn(),null;case 10:return Xl(t.type._context),null;case 22:case 23:return pa(),null;case 24:return null;default:return null}}var ks=!1,pe=!1,jm=typeof WeakSet=="function"?WeakSet:Set,P=null;function Tn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Y(e,t,r)}else n.current=null}function ul(e,t,n){try{n()}catch(r){Y(e,t,r)}}var Tu=!1;function Em(e,t){if(Go=qs,e=cd(),Gl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===n&&++c===s&&(l=o),f===i&&++d===r&&(a=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ko={focusedElem:e,selectionRange:n},qs=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var k=y.memoizedProps,S=y.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?k:Ve(t.type,k),S);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(_){Y(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return y=Tu,Tu=!1,y}function Nr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ul(t,n,i)}s=s.next}while(s!==r)}}function bi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oh(e){var t=e.alternate;t!==null&&(e.alternate=null,oh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tt],delete t[Br],delete t[Jo],delete t[lm],delete t[am])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lh(e){return e.tag===5||e.tag===3||e.tag===4}function Ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ys));else if(r!==4&&(e=e.child,e!==null))for(dl(e,t,n),e=e.sibling;e!==null;)dl(e,t,n),e=e.sibling}function hl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hl(e,t,n),e=e.sibling;e!==null;)hl(e,t,n),e=e.sibling}var ae=null,We=!1;function yt(e,t,n){for(n=n.child;n!==null;)ah(e,t,n),n=n.sibling}function ah(e,t,n){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(xi,n)}catch{}switch(n.tag){case 5:pe||Tn(n,t);case 6:var r=ae,s=We;ae=null,yt(e,t,n),ae=r,We=s,ae!==null&&(We?(e=ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ae.removeChild(n.stateNode));break;case 18:ae!==null&&(We?(e=ae,n=n.stateNode,e.nodeType===8?ao(e.parentNode,n):e.nodeType===1&&ao(e,n),Ir(e)):ao(ae,n.stateNode));break;case 4:r=ae,s=We,ae=n.stateNode.containerInfo,We=!0,yt(e,t,n),ae=r,We=s;break;case 0:case 11:case 14:case 15:if(!pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ul(n,t,o),s=s.next}while(s!==r)}yt(e,t,n);break;case 1:if(!pe&&(Tn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Y(n,t,l)}yt(e,t,n);break;case 21:yt(e,t,n);break;case 22:n.mode&1?(pe=(r=pe)||n.memoizedState!==null,yt(e,t,n),pe=r):yt(e,t,n);break;default:yt(e,t,n)}}function Ru(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jm),t.forEach(function(r){var s=$m.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Be(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ae=l.stateNode,We=!1;break e;case 3:ae=l.stateNode.containerInfo,We=!0;break e;case 4:ae=l.stateNode.containerInfo,We=!0;break e}l=l.return}if(ae===null)throw Error(E(160));ah(i,o,s),ae=null,We=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){Y(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uh(t,e),t=t.sibling}function uh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Be(t,e),Ye(e),r&4){try{Nr(3,e,e.return),bi(3,e)}catch(k){Y(e,e.return,k)}try{Nr(5,e,e.return)}catch(k){Y(e,e.return,k)}}break;case 1:Be(t,e),Ye(e),r&512&&n!==null&&Tn(n,n.return);break;case 5:if(Be(t,e),Ye(e),r&512&&n!==null&&Tn(n,n.return),e.flags&32){var s=e.stateNode;try{Lr(s,"")}catch(k){Y(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Oc(s,i),Fo(l,o);var c=Fo(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?Fc(s,h):d==="dangerouslySetInnerHTML"?$c(s,h):d==="children"?Lr(s,h):Ll(s,d,h,c)}switch(l){case"input":Oo(s,i);break;case"textarea":Rc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Rn(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Rn(s,!!i.multiple,i.defaultValue,!0):Rn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Br]=i}catch(k){Y(e,e.return,k)}}break;case 6:if(Be(t,e),Ye(e),r&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(k){Y(e,e.return,k)}}break;case 3:if(Be(t,e),Ye(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ir(t.containerInfo)}catch(k){Y(e,e.return,k)}break;case 4:Be(t,e),Ye(e);break;case 13:Be(t,e),Ye(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ha=Z())),r&4&&Ru(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(pe=(c=pe)||d,Be(t,e),pe=c):Be(t,e),Ye(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(P=e,d=e.child;d!==null;){for(h=P=d;P!==null;){switch(f=P,v=f.child,f.tag){case 0:case 11:case 14:case 15:Nr(4,f,f.return);break;case 1:Tn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(k){Y(r,n,k)}}break;case 5:Tn(f,f.return);break;case 22:if(f.memoizedState!==null){$u(h);continue}}v!==null?(v.return=f,P=v):$u(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Ac("display",o))}catch(k){Y(e,e.return,k)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(k){Y(e,e.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Be(t,e),Ye(e),r&4&&Ru(e);break;case 21:break;default:Be(t,e),Ye(e)}}function Ye(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lh(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Lr(s,""),r.flags&=-33);var i=Ou(e);hl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ou(e);dl(e,l,o);break;default:throw Error(E(161))}}catch(a){Y(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cm(e,t,n){P=e,ch(e)}function ch(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ks;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||pe;l=ks;var c=pe;if(ks=o,(pe=a)&&!c)for(P=s;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?Au(s):a!==null?(a.return=o,P=a):Au(s);for(;i!==null;)P=i,ch(i),i=i.sibling;P=s,ks=l,pe=c}Lu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):Lu(e)}}function Lu(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pe||bi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ve(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&vu(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vu(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ir(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}pe||t.flags&512&&cl(t)}catch(f){Y(t,t.return,f)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function $u(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function Au(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bi(4,t)}catch(a){Y(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){Y(t,s,a)}}var i=t.return;try{cl(t)}catch(a){Y(t,i,a)}break;case 5:var o=t.return;try{cl(t)}catch(a){Y(t,o,a)}}}catch(a){Y(t,t.return,a)}if(t===e){P=null;break}var l=t.sibling;if(l!==null){l.return=t.return,P=l;break}P=t.return}}var Nm=Math.ceil,ai=gt.ReactCurrentDispatcher,ca=gt.ReactCurrentOwner,Ue=gt.ReactCurrentBatchConfig,D=0,le=null,ee=null,ue=0,be=0,On=Vt(0),re=0,qr=null,an=0,Pi=0,da=0,br=null,_e=null,ha=0,Hn=1/0,it=null,ui=!1,fl=null,Ft=null,Ss=!1,bt=null,ci=0,Pr=0,pl=null,Ms=-1,zs=0;function ve(){return D&6?Z():Ms!==-1?Ms:Ms=Z()}function It(e){return e.mode&1?D&2&&ue!==0?ue&-ue:cm.transition!==null?(zs===0&&(zs=qc()),zs):(e=M,e!==0||(e=window.event,e=e===void 0?16:td(e.type)),e):1}function qe(e,t,n,r){if(50<Pr)throw Pr=0,pl=null,Error(E(185));Zr(e,n,r),(!(D&2)||e!==le)&&(e===le&&(!(D&2)&&(Pi|=n),re===4&&Et(e,ue)),Ce(e,r),n===1&&D===0&&!(t.mode&1)&&(Hn=Z()+500,Ei&&Wt()))}function Ce(e,t){var n=e.callbackNode;cp(e,t);var r=Ks(e,e===le?ue:0);if(r===0)n!==null&&Wa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wa(n),t===1)e.tag===0?um(Fu.bind(null,e)):xd(Fu.bind(null,e)),im(function(){!(D&6)&&Wt()}),n=null;else{switch(Qc(r)){case 1:n=Ul;break;case 4:n=Gc;break;case 16:n=Gs;break;case 536870912:n=Kc;break;default:n=Gs}n=yh(n,dh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dh(e,t){if(Ms=-1,zs=0,D&6)throw Error(E(327));var n=e.callbackNode;if(In()&&e.callbackNode!==n)return null;var r=Ks(e,e===le?ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=di(e,r);else{t=r;var s=D;D|=2;var i=fh();(le!==e||ue!==t)&&(it=null,Hn=Z()+500,nn(e,t));do try{Tm();break}catch(l){hh(e,l)}while(!0);Yl(),ai.current=i,D=s,ee!==null?t=0:(le=null,ue=0,t=re)}if(t!==0){if(t===2&&(s=zo(e),s!==0&&(r=s,t=ml(e,s))),t===1)throw n=qr,nn(e,0),Et(e,r),Ce(e,Z()),n;if(t===6)Et(e,r);else{if(s=e.current.alternate,!(r&30)&&!bm(s)&&(t=di(e,r),t===2&&(i=zo(e),i!==0&&(r=i,t=ml(e,i))),t===1))throw n=qr,nn(e,0),Et(e,r),Ce(e,Z()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:Jt(e,_e,it);break;case 3:if(Et(e,r),(r&130023424)===r&&(t=ha+500-Z(),10<t)){if(Ks(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ve(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Qo(Jt.bind(null,e,_e,it),t);break}Jt(e,_e,it);break;case 4:if(Et(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ke(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Z()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nm(r/1960))-r,10<r){e.timeoutHandle=Qo(Jt.bind(null,e,_e,it),r);break}Jt(e,_e,it);break;case 5:Jt(e,_e,it);break;default:throw Error(E(329))}}}return Ce(e,Z()),e.callbackNode===n?dh.bind(null,e):null}function ml(e,t){var n=br;return e.current.memoizedState.isDehydrated&&(nn(e,t).flags|=256),e=di(e,t),e!==2&&(t=_e,_e=n,t!==null&&gl(t)),e}function gl(e){_e===null?_e=e:_e.push.apply(_e,e)}function bm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qe(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Et(e,t){for(t&=~da,t&=~Pi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ke(t),r=1<<n;e[n]=-1,t&=~r}}function Fu(e){if(D&6)throw Error(E(327));In();var t=Ks(e,0);if(!(t&1))return Ce(e,Z()),null;var n=di(e,t);if(e.tag!==0&&n===2){var r=zo(e);r!==0&&(t=r,n=ml(e,r))}if(n===1)throw n=qr,nn(e,0),Et(e,t),Ce(e,Z()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jt(e,_e,it),Ce(e,Z()),null}function fa(e,t){var n=D;D|=1;try{return e(t)}finally{D=n,D===0&&(Hn=Z()+500,Ei&&Wt())}}function un(e){bt!==null&&bt.tag===0&&!(D&6)&&In();var t=D;D|=1;var n=Ue.transition,r=M;try{if(Ue.transition=null,M=1,e)return e()}finally{M=r,Ue.transition=n,D=t,!(D&6)&&Wt()}}function pa(){be=On.current,H(On)}function nn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sm(n)),ee!==null)for(n=ee.return;n!==null;){var r=n;switch(ql(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xs();break;case 3:Vn(),H(je),H(me),ra();break;case 5:na(r);break;case 4:Vn();break;case 13:H(K);break;case 19:H(K);break;case 10:Xl(r.type._context);break;case 22:case 23:pa()}n=n.return}if(le=e,ee=e=Ut(e.current,null),ue=be=t,re=0,qr=null,da=Pi=an=0,_e=br=null,en!==null){for(t=0;t<en.length;t++)if(n=en[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}en=null}return e}function hh(e,t){do{var n=ee;try{if(Yl(),Is.current=li,oi){for(var r=q.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}oi=!1}if(ln=0,oe=ne=q=null,Cr=!1,Hr=0,ca.current=null,n===null||n.return===null){re=1,qr=t,ee=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=ue,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Su(o);if(v!==null){v.flags&=-257,ju(v,o,l,i,t),v.mode&1&&ku(i,c,t),t=v,a=c;var y=t.updateQueue;if(y===null){var k=new Set;k.add(a),t.updateQueue=k}else y.add(a);break e}else{if(!(t&1)){ku(i,c,t),ma();break e}a=Error(E(426))}}else if(G&&l.mode&1){var S=Su(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),ju(S,o,l,i,t),Ql(Wn(a,l));break e}}i=a=Wn(a,l),re!==4&&(re=2),br===null?br=[i]:br.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Qd(i,a,t);gu(i,m);break e;case 1:l=a;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ft===null||!Ft.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Jd(i,l,t);gu(i,_);break e}}i=i.return}while(i!==null)}mh(n)}catch(x){t=x,ee===n&&n!==null&&(ee=n=n.return);continue}break}while(!0)}function fh(){var e=ai.current;return ai.current=li,e===null?li:e}function ma(){(re===0||re===3||re===2)&&(re=4),le===null||!(an&268435455)&&!(Pi&268435455)||Et(le,ue)}function di(e,t){var n=D;D|=2;var r=fh();(le!==e||ue!==t)&&(it=null,nn(e,t));do try{Pm();break}catch(s){hh(e,s)}while(!0);if(Yl(),D=n,ai.current=r,ee!==null)throw Error(E(261));return le=null,ue=0,re}function Pm(){for(;ee!==null;)ph(ee)}function Tm(){for(;ee!==null&&!tp();)ph(ee)}function ph(e){var t=vh(e.alternate,e,be);e.memoizedProps=e.pendingProps,t===null?mh(e):ee=t,ca.current=null}function mh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Sm(n,t),n!==null){n.flags&=32767,ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{re=6,ee=null;return}}else if(n=km(n,t,be),n!==null){ee=n;return}if(t=t.sibling,t!==null){ee=t;return}ee=t=e}while(t!==null);re===0&&(re=5)}function Jt(e,t,n){var r=M,s=Ue.transition;try{Ue.transition=null,M=1,Om(e,t,n,r)}finally{Ue.transition=s,M=r}return null}function Om(e,t,n,r){do In();while(bt!==null);if(D&6)throw Error(E(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(dp(e,i),e===le&&(ee=le=null,ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ss||(Ss=!0,yh(Gs,function(){return In(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ue.transition,Ue.transition=null;var o=M;M=1;var l=D;D|=4,ca.current=null,Em(e,n),uh(n,e),Yp(Ko),qs=!!Go,Ko=Go=null,e.current=n,Cm(n),np(),D=l,M=o,Ue.transition=i}else e.current=n;if(Ss&&(Ss=!1,bt=e,ci=s),i=e.pendingLanes,i===0&&(Ft=null),ip(n.stateNode),Ce(e,Z()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ui)throw ui=!1,e=fl,fl=null,e;return ci&1&&e.tag!==0&&In(),i=e.pendingLanes,i&1?e===pl?Pr++:(Pr=0,pl=e):Pr=0,Wt(),null}function In(){if(bt!==null){var e=Qc(ci),t=Ue.transition,n=M;try{if(Ue.transition=null,M=16>e?16:e,bt===null)var r=!1;else{if(e=bt,bt=null,ci=0,D&6)throw Error(E(331));var s=D;for(D|=4,P=e.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(P=c;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:Nr(8,d,i)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var f=d.sibling,v=d.return;if(oh(d),d===c){P=null;break}if(f!==null){f.return=v,P=f;break}P=v}}}var y=i.alternate;if(y!==null){var k=y.child;if(k!==null){y.child=null;do{var S=k.sibling;k.sibling=null,k=S}while(k!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,P=m;break e}P=i.return}}var p=e.current;for(P=p;P!==null;){o=P;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,P=g;else e:for(o=p;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bi(9,l)}}catch(x){Y(l,l.return,x)}if(l===o){P=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,P=_;break e}P=l.return}}if(D=s,Wt(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(xi,e)}catch{}r=!0}return r}finally{M=n,Ue.transition=t}}return!1}function Iu(e,t,n){t=Wn(n,t),t=Qd(e,t,1),e=At(e,t,1),t=ve(),e!==null&&(Zr(e,1,t),Ce(e,t))}function Y(e,t,n){if(e.tag===3)Iu(e,e,n);else for(;t!==null;){if(t.tag===3){Iu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ft===null||!Ft.has(r))){e=Wn(n,e),e=Jd(t,e,1),t=At(t,e,1),e=ve(),t!==null&&(Zr(t,1,e),Ce(t,e));break}}t=t.return}}function Rm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ve(),e.pingedLanes|=e.suspendedLanes&n,le===e&&(ue&n)===n&&(re===4||re===3&&(ue&130023424)===ue&&500>Z()-ha?nn(e,0):da|=n),Ce(e,t)}function gh(e,t){t===0&&(e.mode&1?(t=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):t=1);var n=ve();e=ft(e,t),e!==null&&(Zr(e,t,n),Ce(e,n))}function Lm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gh(e,n)}function $m(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),gh(e,n)}var vh;vh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)Se=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Se=!1,_m(e,t,n);Se=!!(e.flags&131072)}else Se=!1,G&&t.flags&1048576&&_d(t,ti,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ds(e,t),e=t.pendingProps;var s=Mn(t,me.current);Fn(t,n),s=ia(null,t,r,e,s,n);var i=oa();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ee(r)?(i=!0,Zs(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ea(t),s.updater=Ni,t.stateNode=s,s._reactInternals=t,nl(t,r,e,n),t=il(null,t,r,!0,i,n)):(t.tag=0,G&&i&&Kl(t),ge(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ds(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Fm(r),e=Ve(r,e),s){case 0:t=sl(null,t,r,e,n);break e;case 1:t=Nu(null,t,r,e,n);break e;case 11:t=Eu(null,t,r,e,n);break e;case 14:t=Cu(null,t,r,Ve(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ve(r,s),sl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ve(r,s),Nu(e,t,r,s,n);case 3:e:{if(eh(t),e===null)throw Error(E(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Nd(e,t),si(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Wn(Error(E(423)),t),t=bu(e,t,r,n,s);break e}else if(r!==s){s=Wn(Error(E(424)),t),t=bu(e,t,r,n,s);break e}else for(Pe=$t(t.stateNode.containerInfo.firstChild),Te=t,G=!0,Ge=null,n=Ed(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),r===s){t=pt(e,t,n);break e}ge(e,t,r,n)}t=t.child}return t;case 5:return bd(t),e===null&&Zo(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,qo(r,s)?o=null:i!==null&&qo(r,i)&&(t.flags|=32),Zd(e,t),ge(e,t,o,n),t.child;case 6:return e===null&&Zo(t),null;case 13:return th(e,t,n);case 4:return ta(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bn(t,null,r,n):ge(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ve(r,s),Eu(e,t,r,s,n);case 7:return ge(e,t,t.pendingProps,n),t.child;case 8:return ge(e,t,t.pendingProps.children,n),t.child;case 12:return ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,V(ni,r._currentValue),r._currentValue=o,i!==null)if(Qe(i.value,o)){if(i.children===s.children&&!je.current){t=pt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=ct(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),el(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),el(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ge(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Fn(t,n),s=Me(s),r=r(s),t.flags|=1,ge(e,t,r,n),t.child;case 14:return r=t.type,s=Ve(r,t.pendingProps),s=Ve(r.type,s),Cu(e,t,r,s,n);case 15:return Yd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ve(r,s),Ds(e,t),t.tag=1,Ee(r)?(e=!0,Zs(t)):e=!1,Fn(t,n),qd(t,r,s),nl(t,r,s,n),il(null,t,r,!0,e,n);case 19:return nh(e,t,n);case 22:return Xd(e,t,n)}throw Error(E(156,t.tag))};function yh(e,t){return Hc(e,t)}function Am(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(e,t,n,r){return new Am(e,t,n,r)}function ga(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fm(e){if(typeof e=="function")return ga(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Al)return 11;if(e===Fl)return 14}return 2}function Ut(e,t){var n=e.alternate;return n===null?(n=Ie(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bs(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")ga(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case _n:return rn(n.children,s,i,t);case $l:o=8,s|=8;break;case Co:return e=Ie(12,n,t,s|2),e.elementType=Co,e.lanes=i,e;case No:return e=Ie(13,n,t,s),e.elementType=No,e.lanes=i,e;case bo:return e=Ie(19,n,t,s),e.elementType=bo,e.lanes=i,e;case bc:return Ti(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cc:o=10;break e;case Nc:o=9;break e;case Al:o=11;break e;case Fl:o=14;break e;case _t:o=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Ie(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function rn(e,t,n,r){return e=Ie(7,e,r,t),e.lanes=n,e}function Ti(e,t,n,r){return e=Ie(22,e,r,t),e.elementType=bc,e.lanes=n,e.stateNode={isHidden:!1},e}function vo(e,t,n){return e=Ie(6,e,null,t),e.lanes=n,e}function yo(e,t,n){return t=Ie(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Im(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yi(0),this.expirationTimes=Yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function va(e,t,n,r,s,i,o,l,a){return e=new Im(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ie(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ea(i),e}function Um(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wh(e){if(!e)return zt;e=e._reactInternals;e:{if(hn(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ee(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(Ee(n))return wd(e,n,t)}return t}function xh(e,t,n,r,s,i,o,l,a){return e=va(n,r,!0,e,s,i,o,l,a),e.context=wh(null),n=e.current,r=ve(),s=It(n),i=ct(r,s),i.callback=t??null,At(n,i,s),e.current.lanes=s,Zr(e,s,r),Ce(e,r),e}function Oi(e,t,n,r){var s=t.current,i=ve(),o=It(s);return n=wh(n),t.context===null?t.context=n:t.pendingContext=n,t=ct(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=At(s,t,o),e!==null&&(qe(e,s,o,i),Fs(e,s,o)),o}function hi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ya(e,t){Uu(e,t),(e=e.alternate)&&Uu(e,t)}function Dm(){return null}var _h=typeof reportError=="function"?reportError:function(e){console.error(e)};function wa(e){this._internalRoot=e}Ri.prototype.render=wa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Oi(e,t,null,null)};Ri.prototype.unmount=wa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;un(function(){Oi(null,e,null,null)}),t[ht]=null}};function Ri(e){this._internalRoot=e}Ri.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&t!==0&&t<jt[n].priority;n++);jt.splice(n,0,e),n===0&&ed(e)}};function xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Li(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Du(){}function Mm(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=hi(o);i.call(c)}}var o=xh(t,r,e,0,null,!1,!1,"",Du);return e._reactRootContainer=o,e[ht]=o.current,Mr(e.nodeType===8?e.parentNode:e),un(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=hi(a);l.call(c)}}var a=va(e,0,!1,null,null,!1,!1,"",Du);return e._reactRootContainer=a,e[ht]=a.current,Mr(e.nodeType===8?e.parentNode:e),un(function(){Oi(t,a,n,r)}),a}function $i(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=hi(o);l.call(a)}}Oi(t,o,e,s)}else o=Mm(n,t,e,s,r);return hi(o)}Jc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vr(t.pendingLanes);n!==0&&(Dl(t,n|1),Ce(t,Z()),!(D&6)&&(Hn=Z()+500,Wt()))}break;case 13:un(function(){var r=ft(e,1);if(r!==null){var s=ve();qe(r,e,1,s)}}),ya(e,1)}};Ml=function(e){if(e.tag===13){var t=ft(e,134217728);if(t!==null){var n=ve();qe(t,e,134217728,n)}ya(e,134217728)}};Yc=function(e){if(e.tag===13){var t=It(e),n=ft(e,t);if(n!==null){var r=ve();qe(n,e,t,r)}ya(e,t)}};Xc=function(){return M};Zc=function(e,t){var n=M;try{return M=e,t()}finally{M=n}};Uo=function(e,t,n){switch(t){case"input":if(Oo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ji(r);if(!s)throw Error(E(90));Tc(r),Oo(r,s)}}}break;case"textarea":Rc(e,n);break;case"select":t=n.value,t!=null&&Rn(e,!!n.multiple,t,!1)}};Dc=fa;Mc=un;var zm={usingClientEntryPoint:!1,Events:[ts,En,ji,Ic,Uc,fa]},hr={findFiberByHostInstance:Zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bm={bundleType:hr.bundleType,version:hr.version,rendererPackageName:hr.rendererPackageName,rendererConfig:hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vc(e),e===null?null:e.stateNode},findFiberByHostInstance:hr.findFiberByHostInstance||Dm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{xi=js.inject(Bm),nt=js}catch{}}Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zm;Re.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xa(t))throw Error(E(200));return Um(e,t,null,n)};Re.createRoot=function(e,t){if(!xa(e))throw Error(E(299));var n=!1,r="",s=_h;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=va(e,1,!1,null,null,n,!1,r,s),e[ht]=t.current,Mr(e.nodeType===8?e.parentNode:e),new wa(t)};Re.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Vc(t),e=e===null?null:e.stateNode,e};Re.flushSync=function(e){return un(e)};Re.hydrate=function(e,t,n){if(!Li(t))throw Error(E(200));return $i(null,e,t,!0,n)};Re.hydrateRoot=function(e,t,n){if(!xa(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=_h;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=xh(t,null,e,1,n??null,s,!1,i,o),e[ht]=t.current,Mr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ri(t)};Re.render=function(e,t,n){if(!Li(t))throw Error(E(200));return $i(null,e,t,!1,n)};Re.unmountComponentAtNode=function(e){if(!Li(e))throw Error(E(40));return e._reactRootContainer?(un(function(){$i(null,null,e,!1,function(){e._reactRootContainer=null,e[ht]=null})}),!0):!1};Re.unstable_batchedUpdates=fa;Re.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Li(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return $i(e,t,n,!1,r)};Re.version="18.3.1-next-f1338f8080-20240426";function kh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kh)}catch(e){console.error(e)}}kh(),kc.exports=Re;var Vm=kc.exports,Sh,Mu=Vm;Sh=Mu.createRoot,Mu.hydrateRoot;/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qr(){return Qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qr.apply(this,arguments)}var Pt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pt||(Pt={}));const zu="popstate";function Wm(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return vl("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:fi(s)}return Gm(t,n,null,e)}function Q(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Hm(){return Math.random().toString(36).substr(2,8)}function Bu(e,t){return{usr:e.state,key:e.key,idx:t}}function vl(e,t,n,r){return n===void 0&&(n=null),Qr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zn(t):t,{state:n,key:t&&t.key||r||Hm()})}function fi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Gm(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Pt.Pop,a=null,c=d();c==null&&(c=0,o.replaceState(Qr({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Pt.Pop;let S=d(),m=S==null?null:S-c;c=S,a&&a({action:l,location:k.location,delta:m})}function f(S,m){l=Pt.Push;let p=vl(k.location,S,m);c=d()+1;let g=Bu(p,c),_=k.createHref(p);try{o.pushState(g,"",_)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(_)}i&&a&&a({action:l,location:k.location,delta:1})}function v(S,m){l=Pt.Replace;let p=vl(k.location,S,m);c=d();let g=Bu(p,c),_=k.createHref(p);o.replaceState(g,"",_),i&&a&&a({action:l,location:k.location,delta:0})}function y(S){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof S=="string"?S:fi(S);return p=p.replace(/ $/,"%20"),Q(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let k={get action(){return l},get location(){return e(s,o)},listen(S){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(zu,h),a=S,()=>{s.removeEventListener(zu,h),a=null}},createHref(S){return t(s,S)},createURL:y,encodeLocation(S){let m=y(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:v,go(S){return o.go(S)}};return k}var Vu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Vu||(Vu={}));function Km(e,t,n){return n===void 0&&(n="/"),qm(e,t,n,!1)}function qm(e,t,n,r){let s=typeof t=="string"?Zn(t):t,i=Gn(s.pathname||"/",n);if(i==null)return null;let o=Eh(e);Qm(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let c=og(i);l=sg(o[a],c,r)}return l}function Eh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let a={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(Q(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=Dt([r,a.relativePath]),d=n.concat(a);i.children&&i.children.length>0&&(Q(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Eh(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:ng(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let a of Ch(i.path))s(i,o,a)}),t}function Ch(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Ch(r.join("/")),l=[];return l.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function Qm(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:rg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Jm=/^:[\w-]+$/,Ym=3,Xm=2,Zm=1,eg=10,tg=-2,Wu=e=>e==="*";function ng(e,t){let n=e.split("/"),r=n.length;return n.some(Wu)&&(r+=tg),t&&(r+=Xm),n.filter(s=>!Wu(s)).reduce((s,i)=>s+(Jm.test(i)?Ym:i===""?Zm:eg),r)}function rg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function sg(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],c=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=pi({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d),f=a.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=pi({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Dt([i,h.pathname]),pathnameBase:cg(Dt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Dt([i,h.pathnameBase]))}return o}function pi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ig(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:v}=d;if(f==="*"){let k=l[h]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const y=l[h];return v&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function ig(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),jh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function og(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function lg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Zn(e):e;return{pathname:n?n.startsWith("/")?n:ag(n,t):t,search:dg(r),hash:hg(s)}}function ag(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wo(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ug(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _a(e,t){let n=ug(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ka(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Zn(e):(s=Qr({},e),Q(!s.pathname||!s.pathname.includes("?"),wo("?","pathname","search",s)),Q(!s.pathname||!s.pathname.includes("#"),wo("#","pathname","hash",s)),Q(!s.search||!s.search.includes("#"),wo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let a=lg(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||d)&&(a.pathname+="/"),a}const Dt=e=>e.join("/").replace(/\/\/+/g,"/"),cg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Nh=["post","put","patch","delete"];new Set(Nh);const pg=["get",...Nh];new Set(pg);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jr.apply(this,arguments)}const Ai=w.createContext(null),bh=w.createContext(null),vt=w.createContext(null),Fi=w.createContext(null),st=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Ph=w.createContext(null);function mg(e,t){let{relative:n}=t===void 0?{}:t;er()||Q(!1);let{basename:r,navigator:s}=w.useContext(vt),{hash:i,pathname:o,search:l}=Ii(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Dt([r,o])),s.createHref({pathname:a,search:l,hash:i})}function er(){return w.useContext(Fi)!=null}function fn(){return er()||Q(!1),w.useContext(Fi).location}function Th(e){w.useContext(vt).static||w.useLayoutEffect(e)}function tr(){let{isDataRoute:e}=w.useContext(st);return e?Og():gg()}function gg(){er()||Q(!1);let e=w.useContext(Ai),{basename:t,future:n,navigator:r}=w.useContext(vt),{matches:s}=w.useContext(st),{pathname:i}=fn(),o=JSON.stringify(_a(s,n.v7_relativeSplatPath)),l=w.useRef(!1);return Th(()=>{l.current=!0}),w.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=ka(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Dt([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const vg=w.createContext(null);function yg(e){let t=w.useContext(st).outlet;return t&&w.createElement(vg.Provider,{value:e},t)}function wg(){let{matches:e}=w.useContext(st),t=e[e.length-1];return t?t.params:{}}function Ii(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(vt),{matches:s}=w.useContext(st),{pathname:i}=fn(),o=JSON.stringify(_a(s,r.v7_relativeSplatPath));return w.useMemo(()=>ka(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function xg(e,t){return _g(e,t)}function _g(e,t,n,r){er()||Q(!1);let{navigator:s}=w.useContext(vt),{matches:i}=w.useContext(st),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=fn(),d;if(t){var h;let S=typeof t=="string"?Zn(t):t;a==="/"||(h=S.pathname)!=null&&h.startsWith(a)||Q(!1),d=S}else d=c;let f=d.pathname||"/",v=f;if(a!=="/"){let S=a.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=Km(e,{pathname:v}),k=Cg(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Dt([a,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?a:Dt([a,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return t&&k?w.createElement(Fi.Provider,{value:{location:Jr({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Pt.Pop}},k):k}function kg(){let e=Tg(),t=fg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const Sg=w.createElement(kg,null);class jg extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(st.Provider,{value:this.props.routeContext},w.createElement(Ph.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Eg(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(Ai);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(st.Provider,{value:t},r)}function Cg(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Q(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:v}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let v,y=!1,k=null,S=null;n&&(v=l&&h.route.id?l[h.route.id]:void 0,k=h.route.errorElement||Sg,a&&(c<0&&f===0?(y=!0,S=null):c===f&&(y=!0,S=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),p=()=>{let g;return v?g=k:y?g=S:h.route.Component?g=w.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,w.createElement(Eg,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(jg,{location:n.location,revalidation:n.revalidation,component:k,error:v,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Oh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Oh||{}),mi=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mi||{});function Ng(e){let t=w.useContext(Ai);return t||Q(!1),t}function bg(e){let t=w.useContext(bh);return t||Q(!1),t}function Pg(e){let t=w.useContext(st);return t||Q(!1),t}function Rh(e){let t=Pg(),n=t.matches[t.matches.length-1];return n.route.id||Q(!1),n.route.id}function Tg(){var e;let t=w.useContext(Ph),n=bg(mi.UseRouteError),r=Rh(mi.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Og(){let{router:e}=Ng(Oh.UseNavigateStable),t=Rh(mi.UseNavigateStable),n=w.useRef(!1);return Th(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Jr({fromRouteId:t},i)))},[e,t])}const Hu={};function Rg(e,t){Hu[t]||(Hu[t]=!0,console.warn(t))}const Gu=(e,t,n)=>Rg(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Lg(e,t){(e==null?void 0:e.v7_startTransition)===void 0&&Gu("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(e==null?void 0:e.v7_relativeSplatPath)===void 0&&!t&&Gu("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function $g(e){let{to:t,replace:n,state:r,relative:s}=e;er()||Q(!1);let{future:i,static:o}=w.useContext(vt),{matches:l}=w.useContext(st),{pathname:a}=fn(),c=tr(),d=ka(t,_a(l,i.v7_relativeSplatPath),a,s==="path"),h=JSON.stringify(d);return w.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function Ag(e){return yg(e.context)}function Xe(e){Q(!1)}function Fg(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Pt.Pop,navigator:i,static:o=!1,future:l}=e;er()&&Q(!1);let a=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:a,navigator:i,static:o,future:Jr({v7_relativeSplatPath:!1},l)}),[a,l,i,o]);typeof r=="string"&&(r=Zn(r));let{pathname:d="/",search:h="",hash:f="",state:v=null,key:y="default"}=r,k=w.useMemo(()=>{let S=Gn(d,a);return S==null?null:{location:{pathname:S,search:h,hash:f,state:v,key:y},navigationType:s}},[a,d,h,f,v,y,s]);return k==null?null:w.createElement(vt.Provider,{value:c},w.createElement(Fi.Provider,{children:n,value:k}))}function Ig(e){let{children:t,location:n}=e;return xg(yl(t),n)}new Promise(()=>{});function yl(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let i=[...t,s];if(r.type===w.Fragment){n.push.apply(n,yl(r.props.children,i));return}r.type!==Xe&&Q(!1),!r.props.index||!r.props.children||Q(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yl(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gi.apply(this,arguments)}function Lh(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Ug(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Dg(e,t){return e.button===0&&(!t||t==="_self")&&!Ug(e)}const Mg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zg=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Bg="6";try{window.__reactRouterVersion=Bg}catch{}const Vg=w.createContext({isTransitioning:!1}),Wg="startTransition",Ku=Rf[Wg];function Hg(e){let{basename:t,children:n,future:r,window:s}=e,i=w.useRef();i.current==null&&(i.current=Wm({window:s,v5Compat:!0}));let o=i.current,[l,a]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=w.useCallback(h=>{c&&Ku?Ku(()=>a(h)):a(h)},[a,c]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>Lg(r),[r]),w.createElement(Fg,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Gg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:a,to:c,preventScrollReset:d,viewTransition:h}=t,f=Lh(t,Mg),{basename:v}=w.useContext(vt),y,k=!1;if(typeof c=="string"&&Kg.test(c)&&(y=c,Gg))try{let g=new URL(window.location.href),_=c.startsWith("//")?new URL(g.protocol+c):new URL(c),x=Gn(_.pathname,v);_.origin===g.origin&&x!=null?c=x+_.search+_.hash:k=!0}catch{}let S=mg(c,{relative:s}),m=Jg(c,{replace:o,state:l,target:a,preventScrollReset:d,relative:s,viewTransition:h});function p(g){r&&r(g),g.defaultPrevented||m(g)}return w.createElement("a",gi({},f,{href:y||S,onClick:k||i?r:p,ref:n,target:a}))}),qg=w.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:a,viewTransition:c,children:d}=t,h=Lh(t,zg),f=Ii(a,{relative:h.relative}),v=fn(),y=w.useContext(bh),{navigator:k,basename:S}=w.useContext(vt),m=y!=null&&Yg(f)&&c===!0,p=k.encodeLocation?k.encodeLocation(f).pathname:f.pathname,g=v.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(g=g.toLowerCase(),_=_?_.toLowerCase():null,p=p.toLowerCase()),_&&S&&(_=Gn(_,S)||_);const x=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let j=g===p||!o&&g.startsWith(p)&&g.charAt(x)==="/",C=_!=null&&(_===p||!o&&_.startsWith(p)&&_.charAt(p.length)==="/"),N={isActive:j,isPending:C,isTransitioning:m},O=j?r:void 0,T;typeof i=="function"?T=i(N):T=[i,j?"active":null,C?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let te=typeof l=="function"?l(N):l;return w.createElement(Tt,gi({},h,{"aria-current":O,className:T,ref:n,style:te,to:a,viewTransition:c}),typeof d=="function"?d(N):d)});var wl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wl||(wl={}));var qu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qu||(qu={}));function Qg(e){let t=w.useContext(Ai);return t||Q(!1),t}function Jg(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,a=tr(),c=fn(),d=Ii(e,{relative:o});return w.useCallback(h=>{if(Dg(h,n)){h.preventDefault();let f=r!==void 0?r:fi(c)===fi(d);a(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,a,d,r,s,n,e,i,o,l])}function Yg(e,t){t===void 0&&(t={});let n=w.useContext(Vg);n==null&&Q(!1);let{basename:r}=Qg(wl.useViewTransitionState),s=Ii(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Gn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Gn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pi(s.pathname,o)!=null||pi(s.pathname,i)!=null}const Xg="modulepreload",Zg=function(e){return"/"+e},Qu={},Kn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=Zg(a),a in Qu)return;Qu[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Xg,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},ev=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Kn(async()=>{const{default:r}=await Promise.resolve().then(()=>nr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Sa extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class tv extends Sa{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nv extends Sa{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class rv extends Sa{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xl||(xl={}));var sv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class iv{constructor(t,{headers:n={},customFetch:r,region:s=xl.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=ev(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return sv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(y=>{throw new tv(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new nv(d);if(!d.ok)throw new rv(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var ke={},ja={},Ui={},rs={},Di={},Mi={},ov=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qn=ov();const lv=qn.fetch,$h=qn.fetch.bind(qn),Ah=qn.Headers,av=qn.Request,uv=qn.Response,nr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ah,Request:av,Response:uv,default:$h,fetch:lv},Symbol.toStringTag,{value:"Module"})),cv=gf(nr);var zi={};Object.defineProperty(zi,"__esModule",{value:!0});let dv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};zi.default=dv;var Fh=De&&De.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mi,"__esModule",{value:!0});const hv=Fh(cv),fv=Fh(zi);let pv=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=hv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let c=null,d=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const k=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");k&&S&&S.length>1&&(h=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const k=await i.text();try{c=JSON.parse(k),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,v="OK")}catch{i.status===404&&k===""?(f=204,v="No Content"):c={message:k}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,f=200,v="OK"),c&&this.shouldThrowOnError)throw new fv.default(c)}return{error:c,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}};Mi.default=pv;var mv=De&&De.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Di,"__esModule",{value:!0});const gv=mv(Mi);let vv=class extends gv.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Di.default=vv;var yv=De&&De.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rs,"__esModule",{value:!0});const wv=yv(Di);let xv=class extends wv.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};rs.default=xv;var _v=De&&De.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ui,"__esModule",{value:!0});const fr=_v(rs);let kv=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new fr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new fr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new fr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new fr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new fr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ui.default=kv;var Bi={},Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.version=void 0;Vi.version="0.0.0-automated";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.DEFAULT_HEADERS=void 0;const Sv=Vi;Bi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Sv.version}`};var Ih=De&&De.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ja,"__esModule",{value:!0});const jv=Ih(Ui),Ev=Ih(rs),Cv=Bi;let Nv=class Uh{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Cv.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new jv.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Uh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Ev.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};ja.default=Nv;var rr=De&&De.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ke,"__esModule",{value:!0});ke.PostgrestError=ke.PostgrestBuilder=ke.PostgrestTransformBuilder=ke.PostgrestFilterBuilder=ke.PostgrestQueryBuilder=ke.PostgrestClient=void 0;const Dh=rr(ja);ke.PostgrestClient=Dh.default;const Mh=rr(Ui);ke.PostgrestQueryBuilder=Mh.default;const zh=rr(rs);ke.PostgrestFilterBuilder=zh.default;const Bh=rr(Di);ke.PostgrestTransformBuilder=Bh.default;const Vh=rr(Mi);ke.PostgrestBuilder=Vh.default;const Wh=rr(zi);ke.PostgrestError=Wh.default;var bv=ke.default={PostgrestClient:Dh.default,PostgrestQueryBuilder:Mh.default,PostgrestFilterBuilder:zh.default,PostgrestTransformBuilder:Bh.default,PostgrestBuilder:Vh.default,PostgrestError:Wh.default};const{PostgrestClient:Pv,PostgrestQueryBuilder:iw,PostgrestFilterBuilder:ow,PostgrestTransformBuilder:lw,PostgrestBuilder:aw,PostgrestError:uw}=bv,Tv="2.11.2",Ov={"X-Client-Info":`realtime-js/${Tv}`},Rv="1.0.0",Hh=1e4,Lv=1e3;var Un;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Un||(Un={}));var Ne;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ne||(Ne={}));var He;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(He||(He={}));var _l;(function(e){e.websocket="websocket"})(_l||(_l={}));var Xt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xt||(Xt={}));class $v{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const a=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class Gh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(B||(B={}));const Ju=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Av(o,e,t,s),i),{})},Av=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Kh(i,o):kl(o)},Kh=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Dv(t,n)}switch(e){case B.bool:return Fv(t);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return Iv(t);case B.json:case B.jsonb:return Uv(t);case B.timestamp:return Mv(t);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return kl(t);default:return kl(t)}},kl=e=>e,Fv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Iv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Uv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Dv=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Kh(t,l))}return e},Mv=e=>typeof e=="string"?e.replace(" ","T"):e,qh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class xo{constructor(t,n,r={},s=Hh){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yu||(Yu={}));class Tr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Tr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Tr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(S=>S.presence_ref),v=h.map(S=>S.presence_ref),y=d.filter(S=>v.indexOf(S.presence_ref)<0),k=h.filter(S=>f.indexOf(S.presence_ref)<0);y.length>0&&(l[c]=y),k.length>0&&(a[c]=k)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(a),d.length>0){const h=t[l].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);t[l].unshift(...f)}r(l,d,a)}),this.map(o,(l,a)=>{let c=t[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=c,s(l,c,a),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xu||(Xu={}));var Zu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zu||(Zu={}));var ot;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ot||(ot={}));class Ea{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new xo(this,He.join,this.params,this.timeout),this.rejoinTimer=new Gh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(He.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Tr(this),this.broadcastEndpointURL=qh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(ot.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ot.CLOSED));const a={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(ot.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let k=0;k<v;k++){const S=f[k],{filter:{event:m,schema:p,table:g,filter:_}}=S,x=d&&d[k];if(x&&x.event===m&&x.schema===p&&x.table===g&&x.filter===_)y.push(Object.assign(Object.assign({},S),{id:x.id}));else{this.unsubscribe(),t==null||t(ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ot.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(He.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new xo(this,He.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xo(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=He;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,k,S;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((S=(k=v.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(v=>v.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,k,S,m,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,x=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((k=n.ids)===null||k===void 0?void 0:k.includes(_))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const _=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:k,table:S,commit_timestamp:m,type:p,errors:g}=y;f=Object.assign(Object.assign({},{schema:k,table:S,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(y))}v.callback(f,r)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Ea.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(He.close,{},t)}_onError(t){this._on(He.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ju(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ju(t.columns,t.old_record)),n}}const zv=()=>{},Bv=typeof WebSocket<"u",Vv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wv{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ov,this.params={},this.timeout=Hh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zv,this.conn=null,this.sendBuffer=[],this.serializer=new $v,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Kn(async()=>{const{default:a}=await Promise.resolve().then(()=>nr);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${_l.websocket}`,this.httpEndpoint=qh(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Gh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Bv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Hv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Kn(async()=>{const{default:t}=await import("./browser-2ilzaDKx.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rv}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Un.connecting:return Xt.Connecting;case Un.open:return Xt.Open;case Un.closing:return Xt.Closing;default:return Xt.Closed}}isConnected(){return this.connectionState()===Xt.Open}channel(t,n={config:{}}){const r=new Ea(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(He.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Lv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(He.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Vv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Hv{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Un.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Ca extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ie(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Gv extends Ca{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Sl extends Ca{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Kv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const Qh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Kn(async()=>{const{default:r}=await Promise.resolve().then(()=>nr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},qv=()=>Kv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Kn(()=>Promise.resolve().then(()=>nr),void 0)).Response:Response}),jl=e=>{if(Array.isArray(e))return e.map(n=>jl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=jl(r)}),t};var pn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const _o=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Qv=(e,t,n)=>pn(void 0,void 0,void 0,function*(){const r=yield qv();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Gv(_o(s),e.status||500))}).catch(s=>{t(new Sl(_o(s),s))}):t(new Sl(_o(e),e))}),Jv=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ss(e,t,n,r,s,i){return pn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,Jv(t,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Qv(a,l,r))})})}function vi(e,t,n,r){return pn(this,void 0,void 0,function*(){return ss(e,"GET",t,n,r)})}function St(e,t,n,r,s){return pn(this,void 0,void 0,function*(){return ss(e,"POST",t,r,s,n)})}function Yv(e,t,n,r,s){return pn(this,void 0,void 0,function*(){return ss(e,"PUT",t,r,s,n)})}function Xv(e,t,n,r){return pn(this,void 0,void 0,function*(){return ss(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Jh(e,t,n,r,s){return pn(this,void 0,void 0,function*(){return ss(e,"DELETE",t,r,s,n)})}var xe=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const Zv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ec={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class e0{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Qh(s)}uploadOrUpdate(t,n,r,s){return xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ec),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ie(i))return{data:null,error:i};throw i}})}upload(t,n,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:ec.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(ie(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,n){return xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield St(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ca("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}update(t,n,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return xe(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}copy(t,n,r){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield St(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield St(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return xe(this,void 0,void 0,function*(){try{const s=yield St(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}download(t,n){return xe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield vi(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}})}info(t){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield vi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:jl(r),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}exists(t){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Xv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ie(r)&&r instanceof Sl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Jh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}list(t,n,r){return xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Zv),n),{prefix:t||""});return{data:yield St(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const t0="2.7.1",n0={"X-Client-Info":`storage-js/${t0}`};var vn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class r0{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},n0),n),this.fetch=Qh(r)}listBuckets(){return vn(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ie(t))return{data:null,error:t};throw t}})}getBucket(t){return vn(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return vn(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return vn(this,void 0,void 0,function*(){try{return{data:yield Yv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}emptyBucket(t){return vn(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}deleteBucket(t){return vn(this,void 0,void 0,function*(){try{return{data:yield Jh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}}class s0 extends r0{constructor(t,n={},r){super(t,n,r)}from(t){return new e0(this.url,this.headers,t,this.fetch)}}const i0="2.48.1";let wr="";typeof Deno<"u"?wr="deno":typeof document<"u"?wr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wr="react-native":wr="node";const o0={"X-Client-Info":`supabase-js-${wr}/${i0}`},l0={headers:o0},a0={schema:"public"},u0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c0={};var d0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const h0=e=>{let t;return e?t=e:typeof fetch>"u"?t=$h:t=fetch,(...n)=>t(...n)},f0=()=>typeof Headers>"u"?Ah:Headers,p0=(e,t,n)=>{const r=h0(n),s=f0();return(i,o)=>d0(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var m0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};function g0(e){return e.replace(/\/$/,"")}function v0(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:l,realtime:a,global:c}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},a),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>m0(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Yh="2.67.3",y0="http://localhost:9999",w0="supabase.auth.token",x0={"X-Client-Info":`gotrue-js/${Yh}`},tc=10,El="X-Supabase-Api-Version",Xh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function _0(e){return Math.round(Date.now()/1e3)+e}function k0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ze=()=>typeof window<"u"&&typeof document<"u",qt={tested:!1,writable:!1},Or=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qt.tested)return qt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qt.tested=!0,qt.writable=!0}catch{qt.tested=!0,qt.writable=!1}return qt.writable};function S0(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Zh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Kn(async()=>{const{default:r}=await Promise.resolve().then(()=>nr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},j0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ef=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Es=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Cs=async(e,t)=>{await e.removeItem(t)};function E0(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,l,a,c,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),r=o<<2|l>>4,s=(l&15)<<4|a>>2,i=(a&3)<<6|c,n=n+String.fromCharCode(r),a!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Wi{constructor(){this.promise=new Wi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Wi.promiseConstructor=Promise;function nc(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(E0(r))}async function C0(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function N0(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function b0(e){return("0"+e.toString(16)).substr(-2)}function P0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,b0).join("")}async function T0(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function O0(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function R0(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await T0(e);return O0(n)}async function yn(e,t,n=!1){const r=P0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ef(e,`${t}-code-verifier`,s);const i=await R0(r);return[i,r===i?"plain":"s256"]}const L0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $0(e){const t=e.headers.get(El);if(!t||!t.match(L0))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Na extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class A0 extends Na{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function F0(e){return L(e)&&e.name==="AuthApiError"}class tf extends Na{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class mn extends Na{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class wt extends mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function I0(e){return L(e)&&e.name==="AuthSessionMissingError"}class ko extends mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ns extends mn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bs extends mn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function U0(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}class rc extends mn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cl extends mn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function So(e){return L(e)&&e.name==="AuthRetryableFetchError"}class sc extends mn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var D0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Yt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),M0=[502,503,504];async function ic(e){var t;if(!j0(e))throw new Cl(Yt(e),0);if(M0.includes(e.status))throw new Cl(Yt(e),e.status);let n;try{n=await e.json()}catch(i){throw new tf(Yt(i),i)}let r;const s=$0(e);if(s&&s.getTime()>=Xh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sc(Yt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new wt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new sc(Yt(n),e.status,n.weak_password.reasons);throw new A0(Yt(n),e.status||500,r)}const z0=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function U(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[El]||(i[El]=Xh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await B0(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function B0(e,t,n,r,s,i){const o=z0(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(a){throw console.error(a),new Cl(Yt(a),0)}if(l.ok||await ic(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await ic(a)}}function xt(e){var t;let n=null;G0(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=_0(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function oc(e){const t=xt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ct(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function V0(e){return{data:e,error:null}}function W0(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=D0(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function H0(e){return e}function G0(e){return e.access_token&&e.refresh_token&&e.expires_in}var K0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class q0{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Zh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ct})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=K0(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:W0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ct})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:H0});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(y=>{const k=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);c[`${S}Page`]=k}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ct})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ct})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ct})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}const Q0={getItem:e=>Or()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Or()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Or()&&globalThis.localStorage.removeItem(e)}};function lc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function J0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wn={debug:!!(globalThis&&Or()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Y0 extends nf{}async function X0(e,t,n){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Y0(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}J0();const Z0={url:y0,storageKey:w0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},pr=30*1e3,ac=3;async function uc(e,t,n){return await n()}class Yr{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yr.nextInstanceID,Yr.nextInstanceID+=1,this.instanceID>0&&Ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Z0),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new q0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Zh(s.fetch),this.lock=s.lock||uc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ze()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=X0:this.lock=uc,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Or()?this.storage=Q0:(this.memoryStorage={},this.storage=lc(this.memoryStorage)):(this.memoryStorage={},this.storage=lc(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Yh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=S0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ze()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),U0(i)){const a=(t=i.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new tf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:xt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await yn(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:xt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:xt})}else throw new Ns("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:oc})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:oc})}else throw new Ns("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ko}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Es(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:xt});if(await Cs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ko}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xt}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ko}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:a}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await yn(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:a}=t,{data:c,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ns("You must provide either an email or phone number.")}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:xt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await yn(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:V0})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new wt;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ns("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ct}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ct})})}catch(n){if(L(n))return I0(n)&&(await this._removeSession(),await Cs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new wt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await yn(this.storage,this.storageKey));const{data:c,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Ct});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return nc(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=nc(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new wt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ze())throw new bs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new rc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new rc("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=t;if(!i||!l||!o||!c)throw new bs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;a&&(f=parseInt(a));const v=f-d;v*1e3<=pr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:k,error:S}=await this._getUser(i);if(S)throw S;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Es(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(F0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Cs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=k0(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await yn(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ze()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await N0(async s=>(s>0&&await C0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&So(i)&&Date.now()+o-r<pr})}catch(r){if(this._debug(n,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ze()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Es(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+tc;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${tc}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),So(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Wi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new wt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),L(i)){const o={session:null,error:i};return So(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ef(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Cs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),pr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/pr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${pr}ms, refresh threshold is ${ac} ticks`),s<=ac&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await yn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:c}=await U(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}}Yr.nextInstanceID=0;const ey=Yr;class ty extends ey{constructor(t){super(t)}}var ny=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class ry{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=g0(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:a0,realtime:c0,auth:Object.assign(Object.assign({},u0),{storageKey:a}),global:l0},d=v0(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=p0(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Pv(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new iv(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new s0(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return ny(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ty({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Wv(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sy=(e,t,n)=>new ry(e,t,n),iy="https://jtltfipzywkiiejzjeps.supabase.co",oy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp0bHRmaXB6eXdraWllanpqZXBzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkzNTcyOTEsImV4cCI6MjA1NDkzMzI5MX0.MDmhiT0lTHQKZasU3KK0eoj7FgGXxgew9cX5jFYMDJ8",F=sy(iy,oy);async function ly(e,t){try{const{data:n,error:r}=await F.auth.signUp({email:e,password:t,options:{emailRedirectTo:"https://app.gamefolio.com/account",data:{email_confirmed:!1}}});if(r)throw r.message.includes("Email rate limit exceeded")?new Error("Too many signup attempts. Please try again later."):r;return{data:n,emailConfirmationRequired:!0}}catch(n){throw console.error("Signup error:",n),n}}async function ay(e,t){try{const{data:n,error:r}=await F.auth.signInWithPassword({email:e,password:t});if(r)throw r.message==="Invalid login credentials"?new Error("Invalid email or password"):r.message==="Email not confirmed"?new Error("Please verify your email before signing in"):r;const{data:s,error:i}=await F.from("user_profiles").select("*").eq("user_id",n.user.id).single();if(i&&i.code!=="PGRST116"&&console.error("Error fetching profile:",i),!s){const{error:o}=await F.from("user_profiles").insert([{user_id:n.user.id,username:`user_${n.user.id.substring(0,8)}`,onboarding_completed:!1}]);o&&console.error("Error creating profile:",o)}return n}catch(n){throw console.error("Signin error:",n),n}}async function uy(){try{const{error:e}=await F.auth.signOut();if(e)throw e}catch(e){throw console.error("Signout error:",e),e}}function cy(e){return F.auth.onAuthStateChange((t,n)=>{e(n)})}async function dy(e){try{const{error:t}=await F.auth.resend({type:"signup",email:e});if(t)throw t}catch(t){throw console.error("Error resending confirmation email:",t),t}}const rf=w.createContext({session:null,loading:!0});function hy({children:e}){const[t,n]=w.useState(null),[r,s]=w.useState(!0);return w.useEffect(()=>{const{data:{subscription:i}}=cy(o=>{n(o),s(!1)});return()=>{i.unsubscribe()}},[]),u.jsx(rf.Provider,{value:{session:t,loading:r},children:e})}function sr(){return w.useContext(rf)}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...c},d)=>w.createElement("svg",{ref:d,...fy,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${py(e)}`,l].join(" "),...c},[...t.map(([h,f])=>w.createElement(h,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=z("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=z("BellDot",[["path",{d:"M19.4 14.9C20.2 16.4 21 17 21 17H3s3-2 3-9c0-3.3 2.7-6 6-6 .7 0 1.3.1 1.9.3",key:"xcehk"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["circle",{cx:"18",cy:"8",r:"3",key:"1g0gzu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=z("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=z("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=z("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Py({onClose:e}){const[t,n]=w.useState(!1),[r,s]=w.useState(null),[i,o]=w.useState(""),[l,a]=w.useState(""),[c,d]=w.useState({feed:!0,gamefolio:!1}),[h,f]=w.useState(!1),[v,y]=w.useState(null),k=w.useRef(null),S=x=>{x.preventDefault(),x.stopPropagation(),x.type==="dragenter"||x.type==="dragover"?n(!0):x.type==="dragleave"&&n(!1)},m=x=>{var C;x.preventDefault(),x.stopPropagation(),n(!1);const j=(C=x.dataTransfer.files)==null?void 0:C[0];j&&j.type.startsWith("video/")&&s(j)},p=x=>{var C;const j=(C=x.target.files)==null?void 0:C[0];j&&j.type.startsWith("video/")&&s(j)},g=x=>{d(j=>{const C={...j,[x]:!j[x]};return!C.feed&&!C.gamefolio?j:C})},_=async x=>{if(x.preventDefault(),!(!r||!i||!l))try{f(!0),y(null);const{data:{user:j}}=await F.auth.getUser();if(!j)throw new Error("User not authenticated");const{data:C,error:N}=await F.from("user_profiles").select("username").eq("user_id",j.id).single();if(N)throw N;if(!C.username)throw new Error("Please set your username before uploading clips");const O=`${j.id}/${Date.now()}-${r.name}`,{error:T,data:te}=await F.storage.from("clips").upload(O,r);if(T)throw T;const{data:{publicUrl:de}}=F.storage.from("clips").getPublicUrl(O),{error:Je}=await F.from("clips").insert({user_id:j.id,title:i,game:l,video_url:de,visibility:c.feed?"public":"private"});if(Je)throw Je;e()}catch(j){y(j instanceof Error?j.message:"Failed to upload clip")}finally{f(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-2xl w-full p-6 relative",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:h,children:u.jsx(cn,{className:"w-6 h-6"})}),u.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Upload Clip"}),v&&u.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500",children:v}),u.jsxs("form",{onSubmit:_,className:"space-y-6",children:[u.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center ${t?"border-[#9FE64F] bg-[#9FE64F]/10":"border-gray-600"}`,onDragEnter:S,onDragLeave:S,onDragOver:S,onDrop:m,children:[r?u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-white",children:r.name}),u.jsx("button",{type:"button",onClick:()=>s(null),className:"text-sm text-red-400 hover:text-red-300",disabled:h,children:"Remove"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx(df,{className:"w-12 h-12 mx-auto text-gray-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white mb-2",children:"Drag and drop your clip here, or"}),u.jsx("button",{type:"button",onClick:()=>{var x;return(x=k.current)==null?void 0:x.click()},className:"text-[#9FE64F] hover:text-[#8FD63F]",disabled:h,children:"browse files"})]}),u.jsx("p",{className:"text-sm text-gray-400",children:"Maximum file size: 500MB"})]}),u.jsx("input",{ref:k,type:"file",accept:"video/*",onChange:p,className:"hidden",disabled:h})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-white mb-2",children:"Title"}),u.jsx("input",{id:"title",type:"text",value:i,onChange:x=>o(x.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",placeholder:"Enter a title for your clip",disabled:h})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"game",className:"block text-sm font-medium text-white mb-2",children:"Game"}),u.jsx("input",{id:"game",type:"text",value:l,onChange:x=>a(x.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",placeholder:"What game is this clip from?",disabled:h})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Share to"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("button",{type:"button",onClick:()=>g("feed"),className:`p-4 rounded-lg border-2 transition-colors ${c.feed?"border-[#9FE64F] bg-[#9FE64F]/10":"border-gray-700 hover:border-[#9FE64F]"}`,children:[u.jsx(xy,{className:"w-6 h-6 mx-auto mb-2 text-[#9FE64F]"}),u.jsx("div",{className:"text-white font-medium",children:"Clips Feed"}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Share with everyone"})]}),u.jsxs("button",{type:"button",onClick:()=>g("gamefolio"),className:`p-4 rounded-lg border-2 transition-colors ${c.gamefolio?"border-[#9FE64F] bg-[#9FE64F]/10":"border-gray-700 hover:border-[#9FE64F]"}`,children:[u.jsx(Pa,{className:"w-6 h-6 mx-auto mb-2 text-[#9FE64F]"}),u.jsx("div",{className:"text-white font-medium",children:"My Gamefolio"}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Add to your profile"})]})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-lg text-white hover:bg-gray-800",disabled:h,children:"Cancel"}),u.jsx("button",{type:"submit",disabled:!r||!i||!l||h||!c.feed&&!c.gamefolio,className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:h?u.jsxs(u.Fragment,{children:[u.jsx(mt,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:"Uploading..."})]}):u.jsx("span",{children:"Upload"})})]})]})]})})}const Ps=[{regex:/.{8,}/,text:"At least 8 characters long"},{regex:/[A-Z]/,text:"Contains at least one uppercase letter"},{regex:/[a-z]/,text:"Contains at least one lowercase letter"},{regex:/[0-9]/,text:"Contains at least one number"},{regex:/[^A-Za-z0-9]/,text:"Contains at least one special character"}];function Ta({onClose:e,defaultMode:t="login"}){const[n,r]=w.useState(t),[s,i]=w.useState(""),[o,l]=w.useState(""),[a,c]=w.useState(""),[d,h]=w.useState(!1),[f,v]=w.useState(!1),[y,k]=w.useState(!1),[S,m]=w.useState(!1),[p,g]=w.useState(null),_=Ps.filter(O=>O.regex.test(o)).length,x=o===a,j=()=>n==="login"?!0:o.length<8?(g("Password must be at least 8 characters long"),!1):Ps.every(O=>O.regex.test(o))?o!==a?(g("Passwords do not match"),!1):!0:(g("Password does not meet all requirements"),!1),C=async O=>{if(O.preventDefault(),g(null),!!j()){k(!0);try{if(n==="signup"){const{emailConfirmationRequired:T}=await ly(s,o);T?r("check-email"):e()}else await ay(s,o),e()}catch(T){g(T instanceof Error?T.message:"Authentication failed")}finally{k(!1)}}},N=async()=>{m(!0),g(null);try{await dy(s)}catch(O){g(O instanceof Error?O.message:"Failed to resend confirmation email")}finally{m(!1)}};return n==="check-email"?u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-md w-full p-6 relative",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:u.jsx(cn,{className:"w-6 h-6"})}),u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-12 h-12 bg-[#9FE64F]/20 rounded-full flex items-center justify-center mx-auto",children:u.jsx(Sy,{className:"w-6 h-6 text-[#9FE64F]"})}),u.jsx("h2",{className:"text-2xl font-bold text-white",children:"Check Your Email"}),u.jsxs("p",{className:"text-gray-400",children:["We've sent a verification link to ",u.jsx("span",{className:"text-white",children:s}),". Please check your email and click the link to verify your account."]}),p&&u.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500 text-sm",children:p}),u.jsxs("div",{className:"pt-4 space-y-4",children:[u.jsx("button",{onClick:N,disabled:S,className:"text-[#9FE64F] hover:text-[#8FD63F] font-medium flex items-center justify-center space-x-2 mx-auto",children:S?u.jsxs(u.Fragment,{children:[u.jsx(mt,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:"Resending..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ey,{className:"w-4 h-4"}),u.jsx("span",{children:"Resend verification email"})]})}),u.jsx("button",{onClick:()=>r("login"),className:"text-gray-400 hover:text-white",children:"Back to Sign In"})]})]})]})}):u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-md w-full p-6 relative",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:y,children:u.jsx(cn,{className:"w-6 h-6"})}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:n==="login"?"Welcome Back":"Create Account"}),u.jsx("p",{className:"text-gray-400",children:n==="login"?"Sign in to your Gamefolio account":"Join Gamefolio and start sharing your gaming moments"})]}),p&&u.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500",children:p}),u.jsxs("form",{onSubmit:C,className:"space-y-4",children:[u.jsx("div",{children:u.jsx("input",{type:"email",placeholder:"Email",value:s,onChange:O=>i(O.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",disabled:y,required:!0})}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:d?"text":"password",placeholder:"Password",value:o,onChange:O=>l(O.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",disabled:y,required:!0}),u.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:d?u.jsx(yi,{className:"w-5 h-5"}):u.jsx(Qn,{className:"w-5 h-5"})})]}),n==="signup"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:f?"text":"password",placeholder:"Confirm Password",value:a,onChange:O=>c(O.target.value),className:`w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F] ${a&&!x?"border-red-500":""}`,disabled:y,required:!0}),u.jsx("button",{type:"button",onClick:()=>v(!f),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:f?u.jsx(yi,{className:"w-5 h-5"}):u.jsx(Qn,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Password Requirements:"}),u.jsx("div",{className:"space-y-1",children:Ps.map((O,T)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:O.regex.test(o)?"text-green-500":"text-gray-500",children:O.regex.test(o)?"✓":"○"}),u.jsx("span",{className:`text-sm ${O.regex.test(o)?"text-green-500":"text-gray-400"}`,children:O.text})]},T))})]}),a&&!x&&u.jsx("p",{className:"text-sm text-red-500",children:"Passwords do not match"})]}),u.jsx("button",{type:"submit",disabled:y||n==="signup"&&(!x||_<Ps.length),className:"w-full bg-[#9FE64F] hover:bg-[#8FD63F] text-black font-medium py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:y?u.jsxs(u.Fragment,{children:[u.jsx(mt,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:n==="login"?"Signing in...":"Creating account..."})]}):u.jsx("span",{children:n==="login"?"Sign In":"Create Account"})})]}),u.jsx("p",{className:"text-gray-400 text-sm text-center mt-6",children:n==="login"?u.jsxs(u.Fragment,{children:["Don't have an account?"," ",u.jsx("button",{onClick:()=>{r("signup"),g(null),l(""),c("")},className:"text-[#9FE64F] hover:text-[#8FD63F] font-medium",disabled:y,children:"Sign up"})]}):u.jsxs(u.Fragment,{children:["Already have an account?"," ",u.jsx("button",{onClick:()=>{r("login"),g(null),l(""),c("")},className:"text-[#9FE64F] hover:text-[#8FD63F] font-medium",disabled:y,children:"Sign in"})]})})]})})}function Ty(){const{session:e}=sr(),[t,n]=w.useState(!1),[r,s]=w.useState(!1),[i,o]=w.useState(!1),l=w.useRef(null),a=tr();w.useEffect(()=>{function f(v){l.current&&!l.current.contains(v.target)&&n(!1)}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const c=f=>{a(f),n(!1)},d=()=>{e?s(!0):o(!0)},h=async()=>{try{await uy(),n(!1),a("/")}catch(f){console.error("Error signing out:",f)}};return u.jsxs(u.Fragment,{children:[u.jsx("header",{className:"fixed top-0 left-0 right-0 bg-black/95 border-b border-gray-800 z-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[u.jsxs(Tt,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[u.jsx("div",{className:"bg-[#9FE64F] w-8 h-8 rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-black font-bold text-xl",children:"G"})}),u.jsx("span",{className:"text-white font-bold text-xl",children:"Gamefolio"})]}),u.jsx("div",{className:"flex-1 max-w-xs mx-8",children:u.jsxs("div",{className:"relative",children:[u.jsx(of,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search clips...",className:"w-full bg-gray-900 text-white pl-10 pr-4 py-2 rounded-full border border-gray-700 focus:outline-none focus:border-[#9FE64F]"})]})}),u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsxs("button",{className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black font-medium px-4 py-2 rounded-full flex items-center space-x-2",onClick:d,children:[u.jsx(df,{className:"w-5 h-5"}),u.jsx("span",{children:"Upload"})]}),e?u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"text-gray-400 hover:text-white",children:u.jsx(vy,{className:"w-6 h-6"})}),u.jsxs("div",{className:"relative",ref:l,children:[u.jsx("button",{className:"w-8 h-8 rounded-full overflow-hidden ring-2 ring-transparent hover:ring-[#9FE64F] transition-all",onClick:()=>n(!t),children:u.jsx("img",{src:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",alt:"Profile",className:"w-full h-full object-cover"})}),t&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-gray-900 rounded-lg shadow-lg py-1 border border-gray-800",children:[u.jsx("div",{className:"px-4 py-3 border-b border-gray-800",children:u.jsx("p",{className:"text-sm font-medium text-white",children:e.user.email})}),u.jsxs("button",{onClick:()=>c("/account/profile"),className:"w-full px-4 py-2 text-sm text-white hover:bg-gray-800 flex items-center space-x-2",children:[u.jsx(Pa,{className:"w-4 h-4"}),u.jsx("span",{children:"My Account"})]}),u.jsxs("button",{onClick:()=>c("/account/settings"),className:"w-full px-4 py-2 text-sm text-white hover:bg-gray-800 flex items-center space-x-2",children:[u.jsx(lf,{className:"w-4 h-4"}),u.jsx("span",{children:"Settings"})]}),u.jsx("div",{className:"border-t border-gray-800 mt-1",children:u.jsxs("button",{onClick:h,className:"w-full px-4 py-2 text-sm text-red-400 hover:bg-gray-800 flex items-center space-x-2",children:[u.jsx(ky,{className:"w-4 h-4"}),u.jsx("span",{children:"Sign Out"})]})})]})]})]}):u.jsx("button",{onClick:()=>o(!0),className:"text-white hover:text-[#9FE64F]",children:"Sign In"})]})]})}),r&&u.jsx(Py,{onClose:()=>s(!1)}),i&&u.jsx(Ta,{onClose:()=>o(!1)})]})}function Oy({clip:e,onClose:t}){const{session:n}=sr(),[r,s]=w.useState([]),[i,o]=w.useState(""),[l,a]=w.useState(!1),[c,d]=w.useState(e.likes),[h,f]=w.useState(!1),[v,y]=w.useState(!1),[k,S]=w.useState(null);w.useEffect(()=>{m(),n&&p()},[e.id,n]);async function m(){try{const{data:x,error:j}=await F.from("comments").select(`
          id,
          content,
          created_at,
          user_profiles (
            username,
            avatar_url
          )
        `).eq("clip_id",e.id).order("created_at",{ascending:!0});if(j)throw j;s(x||[])}catch(x){console.error("Error loading comments:",x)}}async function p(){if(n)try{const{data:x,error:j}=await F.from("likes").select("id").eq("clip_id",e.id).eq("user_id",n.user.id).single();if(j&&j.code!=="PGRST116")throw j;a(!!x)}catch(x){console.error("Error checking like status:",x)}}async function g(){if(!n){y(!0);return}try{if(l){const{error:x}=await F.from("likes").delete().eq("clip_id",e.id).eq("user_id",n.user.id);if(x)throw x;a(!1),d(j=>j-1)}else{const{error:x}=await F.from("likes").insert({clip_id:e.id,user_id:n.user.id});if(x)throw x.message.includes("confirmed")?new Error("Please verify your email before liking clips"):x;a(!0),d(j=>j+1)}}catch(x){console.error("Error toggling like:",x),S(x instanceof Error?x.message:"Failed to like clip")}}async function _(x){if(x.preventDefault(),!n){y(!0);return}if(i.trim()){f(!0),S(null);try{const{error:j}=await F.from("comments").insert({clip_id:e.id,user_id:n.user.id,content:i.trim()});if(j)throw j.message.includes("confirmed")?new Error("Please verify your email before commenting"):j;o(""),m()}catch(j){console.error("Error posting comment:",j),S(j instanceof Error?j.message:"Failed to post comment")}finally{f(!1)}}}return u.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-300",children:u.jsx(cn,{className:"w-6 h-6"})}),u.jsxs("div",{className:"flex w-full max-w-7xl h-[80vh] mx-4",children:[u.jsx("div",{className:"flex-1 bg-black",children:u.jsx("div",{className:"relative h-full",children:u.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-contain"})})}),u.jsxs("div",{className:"w-[400px] bg-gray-900 flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-800",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[u.jsx(Tt,{to:`/user/${e.userId}`,children:u.jsx("img",{src:e.userAvatar,alt:e.username,className:"w-10 h-10 rounded-full hover:ring-2 hover:ring-[#9FE64F] transition-all"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-white",children:e.title}),u.jsx(Tt,{to:`/user/${e.userId}`,className:"text-sm text-gray-400 hover:text-[#9FE64F] transition-colors",children:e.username})]})]}),u.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Playing ",e.game," • ",new Date(e.createdAt).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[k&&u.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500 text-sm mb-4",children:k}),r.map(x=>u.jsxs("div",{className:"flex space-x-3",children:[u.jsx(Tt,{to:`/user/${x.user_profiles.username}`,children:u.jsx("img",{src:x.user_profiles.avatar_url||`https://ui-avatars.com/api/?name=${x.user_profiles.username}`,alt:x.user_profiles.username,className:"w-8 h-8 rounded-full hover:ring-2 hover:ring-[#9FE64F] transition-all"})}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm",children:[u.jsx(Tt,{to:`/user/${x.user_profiles.username}`,className:"font-medium text-white hover:text-[#9FE64F] transition-colors",children:x.user_profiles.username}),u.jsx("span",{className:"text-gray-400 ml-2",children:x.content})]}),u.jsx("div",{className:"flex items-center space-x-3 mt-1 text-xs text-gray-500",children:u.jsx("span",{children:new Date(x.created_at).toLocaleDateString()})})]})]},x.id))]}),u.jsxs("div",{className:"p-4 border-t border-gray-800",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("button",{onClick:g,className:`flex items-center space-x-1 ${l?"text-[#9FE64F]":"text-white hover:text-gray-300"}`,children:[u.jsx(sf,{className:`w-6 h-6 ${l?"fill-current":""}`}),u.jsx("span",{children:c})]}),u.jsx("button",{className:"text-white hover:text-gray-300",children:u.jsx(ba,{className:"w-6 h-6"})}),u.jsx("button",{className:"text-white hover:text-gray-300",children:u.jsx(af,{className:"w-6 h-6"})})]})}),u.jsxs("form",{onSubmit:_,className:"flex items-center space-x-3",children:[u.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),placeholder:"Add a comment...",className:"flex-1 bg-gray-800 text-white px-4 py-2 rounded-full text-sm focus:outline-none focus:ring-1 focus:ring-[#9FE64F]",disabled:h}),u.jsx("button",{type:"submit",disabled:h||!i.trim(),className:"text-[#9FE64F] hover:text-[#8FD63F] disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(Cy,{className:"w-5 h-5"})})]})]})]})]}),v&&u.jsx(Ta,{onClose:()=>y(!1)})]})}function Oa({clips:e}){const[t,n]=w.useState(null);return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 px-4",children:e.map(r=>u.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"aspect-video relative group",children:[u.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:u.jsx("button",{className:"bg-[#9FE64F] text-black px-4 py-2 rounded-full hover:bg-[#8FD63F] transition-colors",onClick:()=>n(r),children:"Watch Clip"})})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[u.jsx(Tt,{to:`/user/${r.userId}`,children:u.jsx("img",{src:r.userAvatar,alt:r.username,className:"w-8 h-8 rounded-full hover:ring-2 hover:ring-[#9FE64F] transition-all"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-white",children:r.title}),u.jsx(Tt,{to:`/user/${r.userId}`,className:"text-sm text-gray-400 hover:text-[#9FE64F] transition-colors",children:r.username})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-gray-400 text-sm",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("button",{className:"flex items-center space-x-1 hover:text-white",children:[u.jsx(sf,{className:"w-4 h-4"}),u.jsx("span",{children:r.likes})]}),u.jsxs("button",{className:"flex items-center space-x-1 hover:text-white",children:[u.jsx(ba,{className:"w-4 h-4"}),u.jsx("span",{children:r.comments})]}),u.jsxs("button",{className:"flex items-center space-x-1 hover:text-white",children:[u.jsx(af,{className:"w-4 h-4"}),u.jsx("span",{children:r.shares})]})]}),u.jsx("span",{className:"text-xs",children:r.game})]})]})]},r.id))}),t&&u.jsx(Oy,{clip:t,onClose:()=>n(null)})]})}function Ry(){const[e,t]=w.useState("day"),[n,r]=w.useState([]),[s,i]=w.useState(!0),[o,l]=w.useState(null),[a,c]=w.useState(0);w.useEffect(()=>{d()},[e,a]);async function d(){try{i(!0),l(null);const{data:f,error:v}=await F.from("clips").select(`
          id,
          user_id,
          title,
          game,
          video_url,
          thumbnail_url,
          likes,
          comments,
          shares,
          created_at
        `).eq("visibility","public").order("created_at",{ascending:!1}).limit(12);if(v)throw v;if(!f||f.length===0){r([]);return}const y=[...new Set(f.map(g=>g.user_id))],{data:k,error:S}=await F.from("user_profiles").select("user_id, username").in("user_id",y);if(S)throw S;const m=new Map(k.map(g=>[g.user_id,g.username])),p=f.map(g=>({id:g.id,userId:g.user_id,username:m.get(g.user_id)||"Unknown User",userAvatar:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",title:g.title,videoUrl:g.video_url,thumbnail:g.thumbnail_url||"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=800",game:g.game,likes:g.likes||0,comments:g.comments||0,shares:g.shares||0,createdAt:g.created_at}));r(p)}catch(f){console.error("Error loading clips:",f),l("Failed to load clips. Please try again.")}finally{i(!1)}}const h=()=>{c(f=>f+1)};return u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:"Top Clips"}),u.jsx("div",{className:"flex space-x-2",children:["day","week","month"].map(f=>u.jsx("button",{onClick:()=>t(f),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${e===f?"bg-[#9FE64F] text-black":"text-gray-400 hover:text-white"}`,children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),s?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-[#9FE64F]"})}):o?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("p",{className:"text-red-500 mb-4",children:o}),u.jsxs("button",{onClick:h,className:"flex items-center space-x-2 mx-auto px-4 py-2 bg-[#9FE64F] text-black rounded-lg hover:bg-[#8FD63F] transition-colors",children:[u.jsx(jy,{className:"w-4 h-4"}),u.jsx("span",{children:"Try Again"})]})]}):n.length>0?u.jsx(Oa,{clips:n}):u.jsx("div",{className:"text-center py-12 text-gray-400",children:u.jsx("p",{children:"No clips found. Be the first to upload!"})})]})}const Ts=["https://images.unsplash.com/photo-1542751371-adc38448a05e?w=400","https://images.unsplash.com/photo-1542751110-97427bbecf20?w=400","https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400"];function Ly(){const[e,t]=w.useState([]),[n,r]=w.useState(!0);w.useEffect(()=>{s()},[]);async function s(){try{r(!0);const{data:i,error:o}=await F.rpc("get_trending_games");if(o){const{data:a,error:c}=await F.from("clips").select("game").order("created_at",{ascending:!1});if(c)throw c;const d=a.reduce((f,v)=>(f[v.game]=(f[v.game]||0)+1,f),{}),h=Object.entries(d).sort(([,f],[,v])=>v-f).slice(0,4).map(([f,v],y)=>({id:y.toString(),name:f,thumbnail:Ts[y%Ts.length],activePlayers:Math.floor(Math.random()*2e5)+5e4,clipCount:v,trending:Math.floor(Math.random()*40)+10}));t(h);return}const l=i.map((a,c)=>({id:c.toString(),name:a.game,thumbnail:Ts[c%Ts.length],activePlayers:Math.floor(Math.random()*2e5)+5e4,clipCount:a.clip_count,trending:Math.floor(Math.random()*40)+10}));t(l)}catch(i){console.error("Error loading trending games:",i),t([])}finally{r(!1)}}return n?u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Trending Games"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(i=>u.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden animate-pulse",children:[u.jsx("div",{className:"aspect-video bg-gray-800"}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"h-4 bg-gray-800 rounded w-2/3 mb-3"}),u.jsx("div",{className:"h-4 bg-gray-800 rounded w-1/2"})]})]},i))})]}):e.length===0?u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Trending Games"}),u.jsx("div",{className:"text-center py-12 text-gray-400",children:u.jsx("p",{children:"No games found. Upload some clips to see trending games!"})})]}):u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Trending Games"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(i=>u.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden hover:ring-2 hover:ring-[#9FE64F] transition-all",children:[u.jsxs("div",{className:"aspect-video relative",children:[u.jsx("img",{src:i.thumbnail,alt:i.name,className:"w-full h-full object-cover"}),u.jsxs("div",{className:"absolute top-2 right-2 bg-[#9FE64F] text-black px-2 py-1 rounded-full text-sm font-medium flex items-center space-x-1",children:[u.jsx(Ny,{className:"w-4 h-4"}),u.jsxs("span",{children:["+",i.trending,"%"]})]})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"font-bold text-white mb-3",children:i.name}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(hf,{className:"w-4 h-4"}),u.jsxs("span",{children:[(i.activePlayers/1e3).toFixed(1),"K"]})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(cf,{className:"w-4 h-4"}),u.jsxs("span",{children:[(i.clipCount/1e3).toFixed(1),"K clips"]})]})]})]})]},i.id))})]})}function $y(){const{session:e}=sr(),[t,n]=xr.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-black pt-20 pb-12",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[!e&&u.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 mb-12 text-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Welcome to Gamefolio"}),u.jsx("p",{className:"text-gray-400 mb-6",children:"Join our gaming community to share your best gaming moments and connect with other players."}),u.jsx("button",{onClick:()=>n(!0),className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-3 rounded-lg font-medium",children:"Get Started"})]}),u.jsxs("div",{className:"space-y-12",children:[u.jsx(Ry,{}),u.jsx(Ly,{})]})]}),t&&u.jsx(Ta,{onClose:()=>n(!1),defaultMode:"signup"})]})}const cc=[{to:"/account",icon:_y,label:"My Gamefolio",end:!0},{to:"/account/leaderboard",icon:cf,label:"Leaderboard"},{to:"/account/profile",icon:Pa,label:"Account"},{to:"/account/settings",icon:lf,label:"Settings"},{to:"/account/explore",icon:wy,label:"Explore"}];function Ay(){const{session:e}=sr(),[t,n]=xr.useState(!1),r=tr();xr.useEffect(()=>{async function i(){if(!(e!=null&&e.user)){r("/");return}try{const{data:o}=await F.from("user_roles").select("role").eq("user_id",e.user.id).single();n((o==null?void 0:o.role)==="admin")}catch(o){console.error("Error checking admin status:",o)}}i()},[e,r]);const s=xr.useMemo(()=>t?[...cc,{to:"/account/admin",icon:uf,label:"Admin"}]:cc,[t]);return u.jsxs("div",{className:"flex min-h-screen pt-16",children:[u.jsx("aside",{className:"w-64 bg-gray-900 border-r border-gray-800 fixed left-0 h-[calc(100vh-4rem)] top-16",children:u.jsx("nav",{className:"p-4",children:s.map(({to:i,icon:o,label:l,end:a})=>u.jsxs(qg,{to:i,end:a,className:({isActive:c})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${c?"bg-[#9FE64F] text-black font-medium":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[u.jsx(o,{className:"w-5 h-5"}),u.jsx("span",{children:l})]},i))})}),u.jsx("main",{className:"flex-1 ml-64 p-8",children:u.jsx(Ag,{})})]})}function Fy({onClose:e}){return u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-md w-full p-6 relative",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:u.jsx(cn,{className:"w-6 h-6"})}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("img",{src:"https://i.imgur.com/YourLogoURL.png",alt:"Gamefolio",className:"h-12 w-auto mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Join Gamefolio"}),u.jsx("p",{className:"text-gray-400",children:"Want to build your own gaming portfolio? Sign up and start uploading your clips!"})]}),u.jsxs("form",{className:"space-y-4",children:[u.jsx("div",{children:u.jsx("input",{type:"text",placeholder:"Username",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"})}),u.jsx("div",{children:u.jsx("input",{type:"email",placeholder:"Email",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"})}),u.jsx("div",{children:u.jsx("input",{type:"password",placeholder:"Password",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"})}),u.jsx("button",{type:"submit",className:"w-full bg-[#9FE64F] hover:bg-[#8FD63F] text-black font-medium py-3 rounded-lg transition-colors",children:"Sign Up"})]}),u.jsxs("p",{className:"text-gray-400 text-sm text-center mt-6",children:["Already have an account?"," ",u.jsx("button",{className:"text-[#9FE64F] hover:text-[#8FD63F] font-medium",children:"Log in"})]})]})})}function ff({user:e}){const[t,n]=w.useState(!1),r=()=>{n(!0)};return u.jsxs("div",{className:"pt-20 pb-8 text-white",children:[u.jsxs("div",{className:"px-4",children:[u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-[#9FE64F]",children:u.jsx("img",{src:e.avatar,alt:e.username,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:e.username}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{onClick:r,className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-full font-medium",children:"Follow"}),u.jsxs("button",{onClick:r,className:"border border-gray-600 hover:border-[#9FE64F] text-white px-6 py-2 rounded-full font-medium flex items-center space-x-2",children:[u.jsx(ba,{className:"w-4 h-4"}),u.jsx("span",{children:"Message"})]})]})]}),u.jsx("p",{className:"text-gray-400 mb-4",children:e.bio}),u.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(hf,{className:"w-4 h-4 mr-2"}),u.jsxs("span",{children:[e.followers.toLocaleString()," followers"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(my,{className:"w-4 h-4 mr-2"}),u.jsxs("span",{children:[e.following.toLocaleString()," following"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Qn,{className:"w-4 h-4 mr-2"}),u.jsxs("span",{children:[e.views.toLocaleString()," views"]})]})]})]})]}),u.jsxs("div",{className:"mt-8",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Favorite Games"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:e.favoriteGames.map(s=>u.jsx("span",{className:"px-3 py-1 bg-gray-800 rounded-full text-sm hover:bg-[#9FE64F] hover:text-black transition-colors",children:s},s))})]})]}),t&&u.jsx(Fy,{onClose:()=>n(!1)})]})}const Iy={id:"1",username:"ProGamer123",avatar:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",bio:"Professional esports player specializing in FPS games. 3x Tournament Champion. Content Creator.",followers:15600,following:342,views:12e5,favoriteGames:["Valorant","CS:GO","Apex Legends","Overwatch 2","Call of Duty"]},Uy=[{id:"1",userId:"1",username:"ProGamer123",userAvatar:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",title:"Insane 1v5 Clutch!",videoUrl:"#",thumbnail:"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=800",game:"Valorant",likes:1200,comments:89,shares:45,createdAt:"2024-02-20T12:00:00Z"},{id:"2",userId:"1",username:"ProGamer123",userAvatar:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",title:"New Gaming Setup Tour",videoUrl:"#",thumbnail:"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=800",game:"Setup Tour",likes:2400,comments:156,shares:89,createdAt:"2024-02-19T15:30:00Z"},{id:"3",userId:"1",username:"ProGamer123",userAvatar:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",title:"Late Night Stream Highlights",videoUrl:"#",thumbnail:"https://images.unsplash.com/photo-1542751110-97427bbecf20?w=800",game:"CS:GO",likes:890,comments:67,shares:23,createdAt:"2024-02-18T22:15:00Z"}];function Dy(){return u.jsxs("div",{children:[u.jsx(ff,{user:Iy}),u.jsxs("div",{className:"mt-8",children:[u.jsx("div",{className:"border-b border-gray-800 mb-8",children:u.jsxs("nav",{className:"flex space-x-8",children:[u.jsx("button",{className:"text-white border-b-2 border-[#9FE64F] pb-4",children:"Clips"}),u.jsx("button",{className:"text-gray-400 hover:text-white pb-4",children:"Gaming Stats"}),u.jsx("button",{className:"text-gray-400 hover:text-white pb-4",children:"Saved"})]})}),u.jsx(Oa,{clips:Uy})]})]})}function My(){return u.jsx("div",{children:u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Leaderboard"})})}function zy(){return u.jsx("div",{children:u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Account Settings"})})}function By(){return u.jsx("div",{children:u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Settings"})})}function Vy(){return u.jsx("div",{children:u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Explore"})})}function Wy(){const e=tr(),[t,n]=w.useState(!0),[r,s]=w.useState(!1),[i,o]=w.useState([]),[l,a]=w.useState([]),[c,d]=w.useState("users");w.useEffect(()=>{h()},[]),w.useEffect(()=>{r&&(c==="users"?f():v())},[r,c]);async function h(){try{const{data:{user:m}}=await F.auth.getUser();if(!m){e("/");return}const{data:p}=await F.from("user_roles").select("role").eq("user_id",m.id).single();if((p==null?void 0:p.role)!=="admin"){e("/");return}s(!0),n(!1)}catch(m){console.error("Error checking admin status:",m),e("/")}}async function f(){try{const{data:m,error:p}=await F.from("users").select(`
          *,
          user_roles (role),
          user_profiles (username, banned)
        `).order("created_at",{ascending:!1});if(p)throw p;o(m||[])}catch(m){console.error("Error loading users:",m)}}async function v(){try{const{data:m,error:p}=await F.from("clips").select(`
          id,
          title,
          game,
          created_at,
          thumbnail_url,
          video_url,
          user_profiles (username)
        `).order("created_at",{ascending:!1});if(p)throw p;a(m||[])}catch(m){console.error("Error loading clips:",m)}}async function y(m,p){try{const g=p==="admin"?"user":"admin",{error:_}=await F.from("user_roles").upsert({user_id:m,role:g});if(_)throw _;f()}catch(g){console.error("Error updating user role:",g),alert("Failed to update user role")}}async function k(m,p){if(confirm(p?"Are you sure you want to unban this user?":"Are you sure you want to ban this user?"))try{const{error:g}=await F.from("user_profiles").update({banned:!p}).eq("user_id",m);if(g)throw g;f()}catch(g){console.error("Error toggling user ban:",g),alert("Failed to update user ban status")}}async function S(m){if(confirm("Are you sure you want to delete this clip?"))try{const{error:p}=await F.from("clips").delete().eq("id",m);if(p)throw p;v()}catch(p){console.error("Error deleting clip:",p),alert("Failed to delete clip")}}return t?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-[#9FE64F]"})}):r?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("button",{onClick:()=>d("users"),className:`px-4 py-2 rounded-lg ${c==="users"?"bg-[#9FE64F] text-black":"text-gray-400 hover:text-white"}`,children:"Users"}),u.jsx("button",{onClick:()=>d("clips"),className:`px-4 py-2 rounded-lg ${c==="clips"?"bg-[#9FE64F] text-black":"text-gray-400 hover:text-white"}`,children:"Clips"})]})]}),c==="users"?u.jsx("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-800",children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"User"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Role"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Joined"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-800",children:i.map(m=>{var p,g,_,x,j,C,N,O,T,te;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:u.jsx("img",{className:"h-10 w-10 rounded-full",src:`https://ui-avatars.com/api/?name=${((p=m.user_profiles)==null?void 0:p.username)||m.email}`,alt:""})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("div",{className:"text-sm font-medium text-white",children:((g=m.user_profiles)==null?void 0:g.username)||"No username"}),u.jsx("div",{className:"text-sm text-gray-400",children:m.email})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${((_=m.user_roles)==null?void 0:_.role)==="admin"?"bg-[#9FE64F]/20 text-[#9FE64F]":"bg-gray-700 text-gray-300"}`,children:((x=m.user_roles)==null?void 0:x.role)||"user"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${(j=m.user_profiles)!=null&&j.banned?"bg-red-500/20 text-red-500":"bg-green-500/20 text-green-500"}`,children:(C=m.user_profiles)!=null&&C.banned?"Banned":"Active"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:new Date(m.created_at).toLocaleDateString()}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-3",children:[u.jsx("button",{onClick:()=>{var de;return y(m.id,(de=m.user_roles)==null?void 0:de.role)},className:"text-[#9FE64F] hover:text-[#8FD63F]",title:((N=m.user_roles)==null?void 0:N.role)==="admin"?"Remove admin":"Make admin",children:u.jsx(uf,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>{var de;return k(m.id,!!((de=m.user_profiles)!=null&&de.banned))},className:(O=m.user_profiles)!=null&&O.banned?"text-green-500 hover:text-green-400":"text-red-500 hover:text-red-400",title:(T=m.user_profiles)!=null&&T.banned?"Unban user":"Ban user",children:(te=m.user_profiles)!=null&&te.banned?u.jsx(yy,{className:"w-5 h-5"}):u.jsx(gy,{className:"w-5 h-5"})})]})]},m.id)})})]})})}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(m=>u.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"aspect-video relative group",children:[u.jsx("img",{src:m.thumbnail_url||"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=800",alt:m.title,className:"w-full h-full object-cover"}),u.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center space-x-4",children:[u.jsx("a",{href:m.video_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-[#9FE64F] text-black rounded-full hover:bg-[#8FD63F]",children:u.jsx(Qn,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>S(m.id),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600",children:u.jsx(by,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"font-medium text-white mb-1",children:m.title}),u.jsxs("p",{className:"text-sm text-gray-400",children:["by ",m.user_profiles.username," • ",m.game]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(m.created_at).toLocaleDateString()})]})]},m.id))})]}):null}const Hy=e=>({id:e,username:"ProGamer123",avatar:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",bio:"Professional esports player specializing in FPS games. 3x Tournament Champion. Content Creator.",followers:15600,following:342,views:12e5,favoriteGames:["Valorant","CS:GO","Apex Legends","Overwatch 2","Call of Duty"]}),Gy=e=>[{id:"1",userId:e,username:"ProGamer123",userAvatar:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",title:"Insane 1v5 Clutch!",videoUrl:"#",thumbnail:"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=800",game:"Valorant",likes:1200,comments:89,shares:45,createdAt:"2024-02-20T12:00:00Z"},{id:"2",userId:e,username:"ProGamer123",userAvatar:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=400",title:"New Gaming Setup Tour",videoUrl:"#",thumbnail:"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=800",game:"Setup Tour",likes:2400,comments:156,shares:89,createdAt:"2024-02-19T15:30:00Z"}];function Ky(){const{userId:e}=wg(),t=Hy(e),n=Gy(e);return w.useEffect(()=>{(async()=>{if(e)try{const{data:s}=await F.from("user_profiles").select("username").eq("user_id",e).single();s!=null&&s.username&&(document.title=`${s.username} - Gamefolio`)}catch(s){console.error("Error fetching username:",s)}})()},[e]),u.jsxs("div",{className:"min-h-screen bg-black",children:[u.jsx(ff,{user:t}),u.jsx("div",{className:"max-w-7xl mx-auto px-4",children:u.jsxs("div",{className:"mt-8",children:[u.jsx("div",{className:"border-b border-gray-800 mb-8",children:u.jsxs("nav",{className:"flex space-x-8",children:[u.jsx("button",{className:"text-white border-b-2 border-[#9FE64F] pb-4",children:"Clips"}),u.jsx("button",{className:"text-gray-400 hover:text-white pb-4",children:"Gaming Stats"}),u.jsx("button",{className:"text-gray-400 hover:text-white pb-4",children:"About"})]})}),u.jsx(Oa,{clips:n})]})})]})}const qy=["Valorant","League of Legends","Counter-Strike 2","Apex Legends","Fortnite","Call of Duty: Warzone","Dota 2","Overwatch 2","Minecraft","Grand Theft Auto V","Elden Ring","Cyberpunk 2077"],jo=[{regex:/.{8,}/,text:"At least 8 characters long"},{regex:/[A-Z]/,text:"Contains at least one uppercase letter"},{regex:/[a-z]/,text:"Contains at least one lowercase letter"},{regex:/[0-9]/,text:"Contains at least one number"},{regex:/[^A-Za-z0-9]/,text:"Contains at least one special character"}];function Qy(){const e=tr(),[t,n]=w.useState(1),[r,s]=w.useState(""),[i,o]=w.useState(""),[l,a]=w.useState(""),[c,d]=w.useState(!1),[h,f]=w.useState(!1),[v,y]=w.useState([]),[k,S]=w.useState(""),[m,p]=w.useState(!1),[g,_]=w.useState(null),[x,j]=w.useState(!1),[C,N]=w.useState(!1),O=qy.filter($=>$.toLowerCase().includes(k.toLowerCase()));jo.filter($=>$.regex.test(i)).length;const T=i===l;w.useEffect(()=>{const $e=setTimeout(async()=>{if(r.length<3){j(!1);return}N(!0);try{const{data:Ht,error:b}=await F.from("user_profiles").select("username").eq("username",r).single();j(!Ht&&!b)}catch(Ht){console.error("Error checking username:",Ht)}finally{N(!1)}},500);return()=>clearTimeout($e)},[r]);const te=$=>{v.includes($)?y(v.filter($e=>$e!==$)):v.length<5&&y([...v,$])},de=()=>i.length<8?(_("Password must be at least 8 characters long"),!1):jo.every($=>$.regex.test(i))?i!==l?(_("Passwords do not match"),!1):!0:(_("Password does not meet all requirements"),!1),Je=async()=>{if(t===1){if(!r||r.length<3){_("Username must be at least 3 characters long");return}if(!x){_("Username is not available");return}if(!de())return;n(2),_(null)}else{if(v.length<5){_("Please select 5 games");return}await is()}},is=async()=>{p(!0),_(null);try{const{data:{user:$}}=await F.auth.getUser();if(!$)throw new Error("No user found");const{error:$e}=await F.from("user_profiles").update({username:r,favorite_games:v,onboarding_completed:!0}).eq("user_id",$.id);if($e)throw $e;await F.rpc("create_activity_log",{p_user_id:$.id,p_action_type:"complete_onboarding",p_resource_type:"profile",p_resource_id:$.id,p_details:{username:r,favorite_games:v}}),e("/account")}catch($){console.error("Error completing onboarding:",$),_("Failed to complete onboarding. Please try again.")}finally{p(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-2xl w-full p-6 relative",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:t===1?"Create Your Profile":"Select Your Favorite Games"}),u.jsx("p",{className:"text-gray-400",children:t===1?"Choose a username and secure password":"Choose 5 games you love to play or watch"})]}),g&&u.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500",children:g}),t===1?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:r,onChange:$=>s($.target.value.toLowerCase()),placeholder:"Enter username",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"}),r.length>=3&&u.jsx("div",{className:"absolute right-3 top-3",children:C?u.jsx(mt,{className:"w-6 h-6 animate-spin text-gray-400"}):x?u.jsx("span",{className:"text-green-500",children:"✓"}):u.jsx(cn,{className:"w-6 h-6 text-red-500"})})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:c?"text":"password",value:i,onChange:$=>o($.target.value),placeholder:"Enter password",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:c?u.jsx(yi,{className:"w-5 h-5"}):u.jsx(Qn,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:h?"text":"password",value:l,onChange:$=>a($.target.value),placeholder:"Confirm password",className:`w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F] ${l&&!T?"border-red-500":""}`}),u.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:h?u.jsx(yi,{className:"w-5 h-5"}):u.jsx(Qn,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Password Requirements:"}),u.jsx("div",{className:"space-y-1",children:jo.map(($,$e)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:$.regex.test(i)?"text-green-500":"text-gray-500",children:$.regex.test(i)?"✓":"○"}),u.jsx("span",{className:`text-sm ${$.regex.test(i)?"text-green-500":"text-gray-400"}`,children:$.text})]},$e))})]}),l&&!T&&u.jsx("p",{className:"text-sm text-red-500",children:"Passwords do not match"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(of,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search games...",value:k,onChange:$=>S($.target.value),className:"w-full bg-gray-800 text-white pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:O.map($=>u.jsx("button",{onClick:()=>te($),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${v.includes($)?"bg-[#9FE64F] text-black":"bg-gray-800 text-gray-400 hover:text-white"}`,disabled:v.length>=5&&!v.includes($),children:$},$))}),u.jsxs("p",{className:"text-sm text-gray-400",children:["Selected ",v.length,"/5 games"]})]}),u.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[t===2&&u.jsx("button",{onClick:()=>n(1),className:"px-6 py-2 text-gray-400 hover:text-white",disabled:m,children:"Back"}),u.jsx("button",{onClick:Je,disabled:m||t===1&&(!r||!x||!de()),className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:m?u.jsxs(u.Fragment,{children:[u.jsx(mt,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:"Saving..."})]}):u.jsx("span",{children:t===1?"Next":"Complete"})})]})]})})}function Jy({onComplete:e}){const[t,n]=w.useState(""),[r,s]=w.useState(!1),[i,o]=w.useState(null),[l,a]=w.useState(!1),[c,d]=w.useState(!1);w.useEffect(()=>{const v=setTimeout(async()=>{if(t.length<3){a(!1);return}d(!0);try{const{data:y,error:k}=await F.from("user_profiles").select("username").eq("username",t).single();a(!y&&!k)}catch(y){console.error("Error checking username:",y)}finally{d(!1)}},500);return()=>clearTimeout(v)},[t]);const h=async f=>{if(f.preventDefault(),!t||t.length<3){o("Username must be at least 3 characters long");return}if(!l){o("Username is not available");return}s(!0),o(null);try{const{data:{user:v}}=await F.auth.getUser();if(!v)throw new Error("No user found");const{error:y}=await F.from("user_profiles").update({username:t}).eq("user_id",v.id);if(y)throw y;e()}catch(v){o(v instanceof Error?v.message:"Failed to set username")}finally{s(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-md w-full p-6 relative",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Your Username"}),u.jsx("p",{className:"text-gray-400",children:"This will be your unique identifier in the community"})]}),i&&u.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500",children:i}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:t,onChange:f=>n(f.target.value.toLowerCase()),placeholder:"Enter username",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",disabled:r,required:!0}),t.length>=3&&u.jsx("div",{className:"absolute right-3 top-3",children:c?u.jsx(mt,{className:"w-6 h-6 animate-spin text-gray-400"}):l?u.jsx("span",{className:"text-green-500",children:"✓"}):u.jsx(cn,{className:"w-6 h-6 text-red-500"})})]}),u.jsx("p",{className:"text-sm text-gray-400",children:"Username must be at least 3 characters long and can only contain letters, numbers, and underscores."}),u.jsx("button",{type:"submit",disabled:r||!t||!l,className:"w-full bg-[#9FE64F] hover:bg-[#8FD63F] text-black font-medium py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:r?u.jsxs(u.Fragment,{children:[u.jsx(mt,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:"Setting username..."})]}):u.jsx("span",{children:"Set Username"})})]})]})})}function Yy(){const e=fn();return sr(),w.useEffect(()=>{let t="Gamefolio";const n=e.pathname;n==="/"?t="Gamefolio - Share Your Gaming Moments":n.startsWith("/account")?n==="/account"?t="My Gamefolio":n==="/account/leaderboard"?t="Leaderboard - Gamefolio":n==="/account/profile"?t="Profile - Gamefolio":n==="/account/settings"?t="Settings - Gamefolio":n==="/account/explore"?t="Explore - Gamefolio":n==="/account/admin"&&(t="Admin Dashboard - Gamefolio"):n.startsWith("/user/")&&(t="User Profile - Gamefolio"),document.title=t},[e]),null}function Xy({children:e}){const{session:t}=sr(),[n,r]=w.useState(null),[s,i]=w.useState(!0),[o,l]=w.useState(!1),[a,c]=w.useState(!1);return w.useEffect(()=>{async function d(){if(!(t!=null&&t.user)){i(!1);return}try{const{data:h,error:f}=await F.from("user_profiles").select("*").eq("user_id",t.user.id).single();if(f)throw f;r(h),l(!h.onboarding_completed),c(!h.username||h.username==="")}catch(h){console.error("Error loading profile:",h)}finally{i(!1)}}d()},[t]),s?null:t?a?u.jsx(Jy,{onComplete:()=>c(!1)}):o?u.jsx(Qy,{}):u.jsx(u.Fragment,{children:e}):u.jsx($g,{to:"/"})}function Zy(){return u.jsx(hy,{children:u.jsxs(Hg,{children:[u.jsx(Yy,{}),u.jsxs("div",{className:"min-h-screen bg-black text-white",children:[u.jsx(Ty,{}),u.jsxs(Ig,{children:[u.jsx(Xe,{path:"/",element:u.jsx($y,{})}),u.jsx(Xe,{path:"/user/:userId",element:u.jsx(Ky,{})}),u.jsxs(Xe,{path:"/account/*",element:u.jsx(Xy,{children:u.jsx(Ay,{})}),children:[u.jsx(Xe,{index:!0,element:u.jsx(Dy,{})}),u.jsx(Xe,{path:"leaderboard",element:u.jsx(My,{})}),u.jsx(Xe,{path:"profile",element:u.jsx(zy,{})}),u.jsx(Xe,{path:"settings",element:u.jsx(By,{})}),u.jsx(Xe,{path:"explore",element:u.jsx(Vy,{})}),u.jsx(Xe,{path:"admin",element:u.jsx(Wy,{})})]})]})]})]})})}Sh(document.getElementById("root")).render(u.jsx(w.StrictMode,{children:u.jsx(Zy,{})}));export{mf as g};
