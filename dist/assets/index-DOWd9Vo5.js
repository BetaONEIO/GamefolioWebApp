function qf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Qf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Lc={exports:{}},Ei={},Ac={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=Symbol.for("react.element"),Jf=Symbol.for("react.portal"),Yf=Symbol.for("react.fragment"),Xf=Symbol.for("react.strict_mode"),Zf=Symbol.for("react.profiler"),ep=Symbol.for("react.provider"),tp=Symbol.for("react.context"),rp=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),sp=Symbol.for("react.memo"),ip=Symbol.for("react.lazy"),Yl=Symbol.iterator;function op(e){return e===null||typeof e!="object"?null:(e=Yl&&e[Yl]||e["@@iterator"],typeof e=="function"?e:null)}var $c={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uc=Object.assign,Ic={};function rn(e,t,r){this.props=e,this.context=t,this.refs=Ic,this.updater=r||$c}rn.prototype.isReactComponent={};rn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dc(){}Dc.prototype=rn.prototype;function Wa(e,t,r){this.props=e,this.context=t,this.refs=Ic,this.updater=r||$c}var Ga=Wa.prototype=new Dc;Ga.constructor=Wa;Uc(Ga,rn.prototype);Ga.isPureReactComponent=!0;var Xl=Array.isArray,Mc=Object.prototype.hasOwnProperty,qa={current:null},zc={key:!0,ref:!0,__self:!0,__source:!0};function Bc(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Mc.call(t,n)&&!zc.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:is,type:e,key:i,ref:o,props:s,_owner:qa.current}}function ap(e,t){return{$$typeof:is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ka(e){return typeof e=="object"&&e!==null&&e.$$typeof===is}function lp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zl=/\/+/g;function so(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lp(""+e.key):t.toString(36)}function $s(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case is:case Jf:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+so(o,0):n,Xl(s)?(r="",e!=null&&(r=e.replace(Zl,"$&/")+"/"),$s(s,t,r,"",function(c){return c})):s!=null&&(Ka(s)&&(s=ap(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zl,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Xl(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+so(i,l);o+=$s(i,t,r,u,s)}else if(u=op(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+so(i,l++),o+=$s(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fs(e,t,r){if(e==null)return e;var n=[],s=0;return $s(e,n,"","",function(i){return t.call(r,i,s++)}),n}function up(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},Us={transition:null},cp={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Us,ReactCurrentOwner:qa};function Vc(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:fs,forEach:function(e,t,r){fs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fs(e,function(){t++}),t},toArray:function(e){return fs(e,function(t){return t})||[]},only:function(e){if(!Ka(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=rn;M.Fragment=Yf;M.Profiler=Zf;M.PureComponent=Wa;M.StrictMode=Xf;M.Suspense=np;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cp;M.act=Vc;M.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Uc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=qa.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Mc.call(t,u)&&!zc.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:is,type:e.type,key:s,ref:i,props:n,_owner:o}};M.createContext=function(e){return e={$$typeof:tp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ep,_context:e},e.Consumer=e};M.createElement=Bc;M.createFactory=function(e){var t=Bc.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:rp,render:e}};M.isValidElement=Ka;M.lazy=function(e){return{$$typeof:ip,_payload:{_status:-1,_result:e},_init:up}};M.memo=function(e,t){return{$$typeof:sp,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=Us.transition;Us.transition={};try{e()}finally{Us.transition=t}};M.unstable_act=Vc;M.useCallback=function(e,t){return je.current.useCallback(e,t)};M.useContext=function(e){return je.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return je.current.useDeferredValue(e)};M.useEffect=function(e,t){return je.current.useEffect(e,t)};M.useId=function(){return je.current.useId()};M.useImperativeHandle=function(e,t,r){return je.current.useImperativeHandle(e,t,r)};M.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return je.current.useMemo(e,t)};M.useReducer=function(e,t,r){return je.current.useReducer(e,t,r)};M.useRef=function(e){return je.current.useRef(e)};M.useState=function(e){return je.current.useState(e)};M.useSyncExternalStore=function(e,t,r){return je.current.useSyncExternalStore(e,t,r)};M.useTransition=function(){return je.current.useTransition()};M.version="18.3.1";Ac.exports=M;var y=Ac.exports;const lr=Kf(y),dp=qf({__proto__:null,default:lr},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp=y,fp=Symbol.for("react.element"),pp=Symbol.for("react.fragment"),mp=Object.prototype.hasOwnProperty,gp=hp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vp={key:!0,ref:!0,__self:!0,__source:!0};function Hc(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)mp.call(t,n)&&!vp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:fp,type:e,key:i,ref:o,props:s,_owner:gp.current}}Ei.Fragment=pp;Ei.jsx=Hc;Ei.jsxs=Hc;Lc.exports=Ei;var a=Lc.exports,Wc={exports:{}},Me={},Gc={exports:{}},qc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,A){var U=b.length;b.push(A);e:for(;0<U;){var W=U-1>>>1,J=b[W];if(0<s(J,A))b[W]=A,b[U]=J,U=W;else break e}}function r(b){return b.length===0?null:b[0]}function n(b){if(b.length===0)return null;var A=b[0],U=b.pop();if(U!==A){b[0]=U;e:for(var W=0,J=b.length,Ye=J>>>1;W<Ye;){var be=2*(W+1)-1,at=b[be],le=be+1,Ve=b[le];if(0>s(at,U))le<J&&0>s(Ve,at)?(b[W]=Ve,b[le]=U,W=le):(b[W]=at,b[be]=U,W=be);else if(le<J&&0>s(Ve,U))b[W]=Ve,b[le]=U,W=le;else break e}}return A}function s(b,A){var U=b.sortIndex-A.sortIndex;return U!==0?U:b.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,p=3,v=!1,x=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(b){for(var A=r(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=b)n(c),A.sortIndex=A.expirationTime,t(u,A);else break;A=r(c)}}function k(b){if(_=!1,g(b),!x)if(r(u)!==null)x=!0,Oe(j);else{var A=r(c);A!==null&&I(k,A.startTime-b)}}function j(b,A){x=!1,_&&(_=!1,m(E),E=-1),v=!0;var U=p;try{for(g(A),h=r(u);h!==null&&(!(h.expirationTime>A)||b&&!ie());){var W=h.callback;if(typeof W=="function"){h.callback=null,p=h.priorityLevel;var J=W(h.expirationTime<=A);A=e.unstable_now(),typeof J=="function"?h.callback=J:h===r(u)&&n(u),g(A)}else n(u);h=r(u)}if(h!==null)var Ye=!0;else{var be=r(c);be!==null&&I(k,be.startTime-A),Ye=!1}return Ye}finally{h=null,p=U,v=!1}}var N=!1,S=null,E=-1,P=5,F=-1;function ie(){return!(e.unstable_now()-F<P)}function T(){if(S!==null){var b=e.unstable_now();F=b;var A=!0;try{A=S(!0,b)}finally{A?R():(N=!1,S=null)}}else N=!1}var R;if(typeof f=="function")R=function(){f(T)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Be=V.port2;V.port1.onmessage=T,R=function(){Be.postMessage(null)}}else R=function(){w(T,0)};function Oe(b){S=b,N||(N=!0,R())}function I(b,A){E=w(function(){b(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,Oe(j))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(b){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var U=p;p=A;try{return b()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,A){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var U=p;p=b;try{return A()}finally{p=U}},e.unstable_scheduleCallback=function(b,A,U){var W=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,b){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=U+J,b={id:d++,callback:A,priorityLevel:b,startTime:U,expirationTime:J,sortIndex:-1},U>W?(b.sortIndex=U,t(c,b),r(u)===null&&b===r(c)&&(_?(m(E),E=-1):_=!0,I(k,U-W))):(b.sortIndex=J,t(u,b),x||v||(x=!0,Oe(j))),b},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(b){var A=p;return function(){var U=p;p=A;try{return b.apply(this,arguments)}finally{p=U}}}})(qc);Gc.exports=qc;var yp=Gc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp=y,De=yp;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kc=new Set,Dn={};function xr(e,t){Gr(e,t),Gr(e+"Capture",t)}function Gr(e,t){for(Dn[e]=t,e=0;e<t.length;e++)Kc.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Do=Object.prototype.hasOwnProperty,wp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eu={},tu={};function _p(e){return Do.call(tu,e)?!0:Do.call(eu,e)?!1:wp.test(e)?tu[e]=!0:(eu[e]=!0,!1)}function kp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jp(e,t,r,n){if(t===null||typeof t>"u"||kp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Se(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new Se(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new Se(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new Se(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new Se(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new Se(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new Se(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new Se(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new Se(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new Se(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qa=/[\-:]([a-z])/g;function Ja(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qa,Ja);me[t]=new Se(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qa,Ja);me[t]=new Se(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qa,Ja);me[t]=new Se(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new Se(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new Se(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ya(e,t,r,n){var s=me.hasOwnProperty(t)?me[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jp(t,r,s,n)&&(r=null),n||s===null?_p(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Et=xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ps=Symbol.for("react.element"),Nr=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),Xa=Symbol.for("react.strict_mode"),Mo=Symbol.for("react.profiler"),Qc=Symbol.for("react.provider"),Jc=Symbol.for("react.context"),Za=Symbol.for("react.forward_ref"),zo=Symbol.for("react.suspense"),Bo=Symbol.for("react.suspense_list"),el=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),Yc=Symbol.for("react.offscreen"),ru=Symbol.iterator;function cn(e){return e===null||typeof e!="object"?null:(e=ru&&e[ru]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,io;function kn(e){if(io===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);io=t&&t[1]||""}return`
`+io+e}var oo=!1;function ao(e,t){if(!e||oo)return"";oo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{oo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?kn(e):""}function Sp(e){switch(e.tag){case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return kn("Suspense");case 19:return kn("SuspenseList");case 0:case 2:case 15:return e=ao(e.type,!1),e;case 11:return e=ao(e.type.render,!1),e;case 1:return e=ao(e.type,!0),e;default:return""}}function Vo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cr:return"Fragment";case Nr:return"Portal";case Mo:return"Profiler";case Xa:return"StrictMode";case zo:return"Suspense";case Bo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jc:return(e.displayName||"Context")+".Consumer";case Qc:return(e._context.displayName||"Context")+".Provider";case Za:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case el:return t=e.displayName||null,t!==null?t:Vo(e.type)||"Memo";case Ft:t=e._payload,e=e._init;try{return Vo(e(t))}catch{}}return null}function bp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vo(t);case 8:return t===Xa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ep(e){var t=Xc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ms(e){e._valueTracker||(e._valueTracker=Ep(e))}function Zc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Xc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ho(e,t){var r=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function nu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Qt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ed(e,t){t=t.checked,t!=null&&Ya(e,"checked",t,!1)}function Wo(e,t){ed(e,t);var r=Qt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Go(e,t.type,r):t.hasOwnProperty("defaultValue")&&Go(e,t.type,Qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function su(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Go(e,t,r){(t!=="number"||Ks(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jn=Array.isArray;function Dr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Qt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function qo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(jn(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qt(r)}}function td(e,t){var r=Qt(t.value),n=Qt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ou(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ko(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gs,nd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gs=gs||document.createElement("div"),gs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Np=["Webkit","ms","Moz","O"];Object.keys(Nn).forEach(function(e){Np.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nn[t]=Nn[e]})});function sd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Nn.hasOwnProperty(e)&&Nn[e]?(""+t).trim():t+"px"}function id(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=sd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Cp=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qo(e,t){if(t){if(Cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Jo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yo=null;function tl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xo=null,Mr=null,zr=null;function au(e){if(e=ls(e)){if(typeof Xo!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Fi(t),Xo(e.stateNode,e.type,t))}}function od(e){Mr?zr?zr.push(e):zr=[e]:Mr=e}function ad(){if(Mr){var e=Mr,t=zr;if(zr=Mr=null,au(e),t)for(e=0;e<t.length;e++)au(t[e])}}function ld(e,t){return e(t)}function ud(){}var lo=!1;function cd(e,t,r){if(lo)return e(t,r);lo=!0;try{return ld(e,t,r)}finally{lo=!1,(Mr!==null||zr!==null)&&(ud(),ad())}}function zn(e,t){var r=e.stateNode;if(r===null)return null;var n=Fi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var Zo=!1;if(kt)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{Zo=!1}function Pp(e,t,r,n,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Cn=!1,Qs=null,Js=!1,ea=null,Tp={onError:function(e){Cn=!0,Qs=e}};function Fp(e,t,r,n,s,i,o,l,u){Cn=!1,Qs=null,Pp.apply(Tp,arguments)}function Rp(e,t,r,n,s,i,o,l,u){if(Fp.apply(this,arguments),Cn){if(Cn){var c=Qs;Cn=!1,Qs=null}else throw Error(C(198));Js||(Js=!0,ea=c)}}function wr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function dd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lu(e){if(wr(e)!==e)throw Error(C(188))}function Op(e){var t=e.alternate;if(!t){if(t=wr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return lu(s),e;if(i===n)return lu(s),t;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function hd(e){return e=Op(e),e!==null?fd(e):null}function fd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fd(e);if(t!==null)return t;e=e.sibling}return null}var pd=De.unstable_scheduleCallback,uu=De.unstable_cancelCallback,Lp=De.unstable_shouldYield,Ap=De.unstable_requestPaint,ne=De.unstable_now,$p=De.unstable_getCurrentPriorityLevel,rl=De.unstable_ImmediatePriority,md=De.unstable_UserBlockingPriority,Ys=De.unstable_NormalPriority,Up=De.unstable_LowPriority,gd=De.unstable_IdlePriority,Ni=null,ht=null;function Ip(e){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Ni,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:zp,Dp=Math.log,Mp=Math.LN2;function zp(e){return e>>>=0,e===0?32:31-(Dp(e)/Mp|0)|0}var vs=64,ys=4194304;function Sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Sn(l):(i&=o,i!==0&&(n=Sn(i)))}else o=r&~s,o!==0?n=Sn(o):i!==0&&(n=Sn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-st(t),s=1<<r,n|=e[r],t&=~s;return n}function Bp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-st(i),l=1<<o,u=s[o];u===-1?(!(l&r)||l&n)&&(s[o]=Bp(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function ta(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vd(){var e=vs;return vs<<=1,!(vs&4194240)&&(vs=64),e}function uo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function os(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-st(t),e[t]=r}function Hp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-st(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function nl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var H=0;function yd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xd,sl,wd,_d,kd,ra=!1,xs=[],Mt=null,zt=null,Bt=null,Bn=new Map,Vn=new Map,Lt=[],Wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cu(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Bn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vn.delete(t.pointerId)}}function hn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ls(t),t!==null&&sl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Gp(e,t,r,n,s){switch(t){case"focusin":return Mt=hn(Mt,e,t,r,n,s),!0;case"dragenter":return zt=hn(zt,e,t,r,n,s),!0;case"mouseover":return Bt=hn(Bt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Bn.set(i,hn(Bn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Vn.set(i,hn(Vn.get(i)||null,e,t,r,n,s)),!0}return!1}function jd(e){var t=ur(e.target);if(t!==null){var r=wr(t);if(r!==null){if(t=r.tag,t===13){if(t=dd(r),t!==null){e.blockedOn=t,kd(e.priority,function(){wd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=na(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Yo=n,r.target.dispatchEvent(n),Yo=null}else return t=ls(r),t!==null&&sl(t),e.blockedOn=r,!1;t.shift()}return!0}function du(e,t,r){Is(e)&&r.delete(t)}function qp(){ra=!1,Mt!==null&&Is(Mt)&&(Mt=null),zt!==null&&Is(zt)&&(zt=null),Bt!==null&&Is(Bt)&&(Bt=null),Bn.forEach(du),Vn.forEach(du)}function fn(e,t){e.blockedOn===t&&(e.blockedOn=null,ra||(ra=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,qp)))}function Hn(e){function t(s){return fn(s,e)}if(0<xs.length){fn(xs[0],e);for(var r=1;r<xs.length;r++){var n=xs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Mt!==null&&fn(Mt,e),zt!==null&&fn(zt,e),Bt!==null&&fn(Bt,e),Bn.forEach(t),Vn.forEach(t),r=0;r<Lt.length;r++)n=Lt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Lt.length&&(r=Lt[0],r.blockedOn===null);)jd(r),r.blockedOn===null&&Lt.shift()}var Br=Et.ReactCurrentBatchConfig,Zs=!0;function Kp(e,t,r,n){var s=H,i=Br.transition;Br.transition=null;try{H=1,il(e,t,r,n)}finally{H=s,Br.transition=i}}function Qp(e,t,r,n){var s=H,i=Br.transition;Br.transition=null;try{H=4,il(e,t,r,n)}finally{H=s,Br.transition=i}}function il(e,t,r,n){if(Zs){var s=na(e,t,r,n);if(s===null)wo(e,t,n,ei,r),cu(e,n);else if(Gp(s,e,t,r,n))n.stopPropagation();else if(cu(e,n),t&4&&-1<Wp.indexOf(e)){for(;s!==null;){var i=ls(s);if(i!==null&&xd(i),i=na(e,t,r,n),i===null&&wo(e,t,n,ei,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else wo(e,t,n,null,r)}}var ei=null;function na(e,t,r,n){if(ei=null,e=tl(n),e=ur(e),e!==null)if(t=wr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=dd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ei=e,null}function Sd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($p()){case rl:return 1;case md:return 4;case Ys:case Up:return 16;case gd:return 536870912;default:return 16}default:return 16}}var Ut=null,ol=null,Ds=null;function bd(){if(Ds)return Ds;var e,t=ol,r=t.length,n,s="value"in Ut?Ut.value:Ut.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Ds=s.slice(e,1<n?1-n:void 0)}function Ms(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ws(){return!0}function hu(){return!1}function ze(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ws:hu,this.isPropagationStopped=hu,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),t}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=ze(nn),as=te({},nn,{view:0,detail:0}),Jp=ze(as),co,ho,pn,Ci=te({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pn&&(pn&&e.type==="mousemove"?(co=e.screenX-pn.screenX,ho=e.screenY-pn.screenY):ho=co=0,pn=e),co)},movementY:function(e){return"movementY"in e?e.movementY:ho}}),fu=ze(Ci),Yp=te({},Ci,{dataTransfer:0}),Xp=ze(Yp),Zp=te({},as,{relatedTarget:0}),fo=ze(Zp),em=te({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),tm=ze(em),rm=te({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nm=ze(rm),sm=te({},nn,{data:0}),pu=ze(sm),im={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},om={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},am={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=am[e])?!!t[e]:!1}function ll(){return lm}var um=te({},as,{key:function(e){if(e.key){var t=im[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?om[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ll,charCode:function(e){return e.type==="keypress"?Ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cm=ze(um),dm=te({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=ze(dm),hm=te({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ll}),fm=ze(hm),pm=te({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),mm=ze(pm),gm=te({},Ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vm=ze(gm),ym=[9,13,27,32],ul=kt&&"CompositionEvent"in window,Pn=null;kt&&"documentMode"in document&&(Pn=document.documentMode);var xm=kt&&"TextEvent"in window&&!Pn,Ed=kt&&(!ul||Pn&&8<Pn&&11>=Pn),gu=" ",vu=!1;function Nd(e,t){switch(e){case"keyup":return ym.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function wm(e,t){switch(e){case"compositionend":return Cd(t);case"keypress":return t.which!==32?null:(vu=!0,gu);case"textInput":return e=t.data,e===gu&&vu?null:e;default:return null}}function _m(e,t){if(Pr)return e==="compositionend"||!ul&&Nd(e,t)?(e=bd(),Ds=ol=Ut=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ed&&t.locale!=="ko"?null:t.data;default:return null}}var km={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!km[e.type]:t==="textarea"}function Pd(e,t,r,n){od(n),t=ti(t,"onChange"),0<t.length&&(r=new al("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tn=null,Wn=null;function jm(e){Md(e,0)}function Pi(e){var t=Rr(e);if(Zc(t))return e}function Sm(e,t){if(e==="change")return t}var Td=!1;if(kt){var po;if(kt){var mo="oninput"in document;if(!mo){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),mo=typeof xu.oninput=="function"}po=mo}else po=!1;Td=po&&(!document.documentMode||9<document.documentMode)}function wu(){Tn&&(Tn.detachEvent("onpropertychange",Fd),Wn=Tn=null)}function Fd(e){if(e.propertyName==="value"&&Pi(Wn)){var t=[];Pd(t,Wn,e,tl(e)),cd(jm,t)}}function bm(e,t,r){e==="focusin"?(wu(),Tn=t,Wn=r,Tn.attachEvent("onpropertychange",Fd)):e==="focusout"&&wu()}function Em(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pi(Wn)}function Nm(e,t){if(e==="click")return Pi(t)}function Cm(e,t){if(e==="input"||e==="change")return Pi(t)}function Pm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ot=typeof Object.is=="function"?Object.is:Pm;function Gn(e,t){if(ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Do.call(t,s)||!ot(e[s],t[s]))return!1}return!0}function _u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ku(e,t){var r=_u(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_u(r)}}function Rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Od(){for(var e=window,t=Ks();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ks(e.document)}return t}function cl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tm(e){var t=Od(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Rd(r.ownerDocument.documentElement,r)){if(n!==null&&cl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=ku(r,i);var o=ku(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fm=kt&&"documentMode"in document&&11>=document.documentMode,Tr=null,sa=null,Fn=null,ia=!1;function ju(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ia||Tr==null||Tr!==Ks(n)||(n=Tr,"selectionStart"in n&&cl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fn&&Gn(Fn,n)||(Fn=n,n=ti(sa,"onSelect"),0<n.length&&(t=new al("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Tr)))}function _s(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fr={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},go={},Ld={};kt&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function Ti(e){if(go[e])return go[e];if(!Fr[e])return e;var t=Fr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ld)return go[e]=t[r];return e}var Ad=Ti("animationend"),$d=Ti("animationiteration"),Ud=Ti("animationstart"),Id=Ti("transitionend"),Dd=new Map,Su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){Dd.set(e,t),xr(t,[e])}for(var vo=0;vo<Su.length;vo++){var yo=Su[vo],Rm=yo.toLowerCase(),Om=yo[0].toUpperCase()+yo.slice(1);Yt(Rm,"on"+Om)}Yt(Ad,"onAnimationEnd");Yt($d,"onAnimationIteration");Yt(Ud,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(Id,"onTransitionEnd");Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lm=new Set("cancel close invalid load scroll toggle".split(" ").concat(bn));function bu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Rp(n,t,void 0,e),e.currentTarget=null}function Md(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;bu(s,l,c),i=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;bu(s,l,c),i=u}}}if(Js)throw e=ea,Js=!1,ea=null,e}function K(e,t){var r=t[ca];r===void 0&&(r=t[ca]=new Set);var n=e+"__bubble";r.has(n)||(zd(t,e,2,!1),r.add(n))}function xo(e,t,r){var n=0;t&&(n|=4),zd(r,e,n,t)}var ks="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[ks]){e[ks]=!0,Kc.forEach(function(r){r!=="selectionchange"&&(Lm.has(r)||xo(r,!1,e),xo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ks]||(t[ks]=!0,xo("selectionchange",!1,t))}}function zd(e,t,r,n){switch(Sd(t)){case 1:var s=Kp;break;case 4:s=Qp;break;default:s=il}r=s.bind(null,t,r,e),s=void 0,!Zo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function wo(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ur(l),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}l=l.parentNode}}n=n.return}cd(function(){var c=i,d=tl(r),h=[];e:{var p=Dd.get(e);if(p!==void 0){var v=al,x=e;switch(e){case"keypress":if(Ms(r)===0)break e;case"keydown":case"keyup":v=cm;break;case"focusin":x="focus",v=fo;break;case"focusout":x="blur",v=fo;break;case"beforeblur":case"afterblur":v=fo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=fm;break;case Ad:case $d:case Ud:v=tm;break;case Id:v=mm;break;case"scroll":v=Jp;break;case"wheel":v=vm;break;case"copy":case"cut":case"paste":v=nm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=mu}var _=(t&4)!==0,w=!_&&e==="scroll",m=_?p!==null?p+"Capture":null:p;_=[];for(var f=c,g;f!==null;){g=f;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,m!==null&&(k=zn(f,m),k!=null&&_.push(Kn(f,k,g)))),w)break;f=f.return}0<_.length&&(p=new v(p,x,null,r,d),h.push({event:p,listeners:_}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&r!==Yo&&(x=r.relatedTarget||r.fromElement)&&(ur(x)||x[jt]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=c,x=x?ur(x):null,x!==null&&(w=wr(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(_=fu,k="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(_=mu,k="onPointerLeave",m="onPointerEnter",f="pointer"),w=v==null?p:Rr(v),g=x==null?p:Rr(x),p=new _(k,f+"leave",v,r,d),p.target=w,p.relatedTarget=g,k=null,ur(d)===c&&(_=new _(m,f+"enter",x,r,d),_.target=g,_.relatedTarget=w,k=_),w=k,v&&x)t:{for(_=v,m=x,f=0,g=_;g;g=jr(g))f++;for(g=0,k=m;k;k=jr(k))g++;for(;0<f-g;)_=jr(_),f--;for(;0<g-f;)m=jr(m),g--;for(;f--;){if(_===m||m!==null&&_===m.alternate)break t;_=jr(_),m=jr(m)}_=null}else _=null;v!==null&&Eu(h,p,v,_,!1),x!==null&&w!==null&&Eu(h,w,x,_,!0)}}e:{if(p=c?Rr(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var j=Sm;else if(yu(p))if(Td)j=Cm;else{j=Em;var N=bm}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=Nm);if(j&&(j=j(e,c))){Pd(h,j,r,d);break e}N&&N(e,p,c),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Go(p,"number",p.value)}switch(N=c?Rr(c):window,e){case"focusin":(yu(N)||N.contentEditable==="true")&&(Tr=N,sa=c,Fn=null);break;case"focusout":Fn=sa=Tr=null;break;case"mousedown":ia=!0;break;case"contextmenu":case"mouseup":case"dragend":ia=!1,ju(h,r,d);break;case"selectionchange":if(Fm)break;case"keydown":case"keyup":ju(h,r,d)}var S;if(ul)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Pr?Nd(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Ed&&r.locale!=="ko"&&(Pr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Pr&&(S=bd()):(Ut=d,ol="value"in Ut?Ut.value:Ut.textContent,Pr=!0)),N=ti(c,E),0<N.length&&(E=new pu(E,e,null,r,d),h.push({event:E,listeners:N}),S?E.data=S:(S=Cd(r),S!==null&&(E.data=S)))),(S=xm?wm(e,r):_m(e,r))&&(c=ti(c,"onBeforeInput"),0<c.length&&(d=new pu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=S))}Md(h,t)})}function Kn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ti(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zn(e,r),i!=null&&n.unshift(Kn(e,i,s)),i=zn(e,t),i!=null&&n.push(Kn(e,i,s))),e=e.return}return n}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=zn(r,i),u!=null&&o.unshift(Kn(r,u,l))):s||(u=zn(r,i),u!=null&&o.push(Kn(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Am=/\r\n?/g,$m=/\u0000|\uFFFD/g;function Nu(e){return(typeof e=="string"?e:""+e).replace(Am,`
`).replace($m,"")}function js(e,t,r){if(t=Nu(t),Nu(e)!==t&&r)throw Error(C(425))}function ri(){}var oa=null,aa=null;function la(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ua=typeof setTimeout=="function"?setTimeout:void 0,Um=typeof clearTimeout=="function"?clearTimeout:void 0,Cu=typeof Promise=="function"?Promise:void 0,Im=typeof queueMicrotask=="function"?queueMicrotask:typeof Cu<"u"?function(e){return Cu.resolve(null).then(e).catch(Dm)}:ua;function Dm(e){setTimeout(function(){throw e})}function _o(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Hn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Hn(t)}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sn=Math.random().toString(36).slice(2),dt="__reactFiber$"+sn,Qn="__reactProps$"+sn,jt="__reactContainer$"+sn,ca="__reactEvents$"+sn,Mm="__reactListeners$"+sn,zm="__reactHandles$"+sn;function ur(e){var t=e[dt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jt]||r[dt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Pu(e);e!==null;){if(r=e[dt])return r;e=Pu(e)}return t}e=r,r=e.parentNode}return null}function ls(e){return e=e[dt]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Fi(e){return e[Qn]||null}var da=[],Or=-1;function Xt(e){return{current:e}}function Q(e){0>Or||(e.current=da[Or],da[Or]=null,Or--)}function q(e,t){Or++,da[Or]=e.current,e.current=t}var Jt={},we=Xt(Jt),Te=Xt(!1),pr=Jt;function qr(e,t){var r=e.type.contextTypes;if(!r)return Jt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(e){return e=e.childContextTypes,e!=null}function ni(){Q(Te),Q(we)}function Tu(e,t,r){if(we.current!==Jt)throw Error(C(168));q(we,t),q(Te,r)}function Bd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,bp(e)||"Unknown",s));return te({},r,n)}function si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jt,pr=we.current,q(we,e),q(Te,Te.current),!0}function Fu(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=Bd(e,t,pr),n.__reactInternalMemoizedMergedChildContext=e,Q(Te),Q(we),q(we,e)):Q(Te),q(Te,r)}var yt=null,Ri=!1,ko=!1;function Vd(e){yt===null?yt=[e]:yt.push(e)}function Bm(e){Ri=!0,Vd(e)}function Zt(){if(!ko&&yt!==null){ko=!0;var e=0,t=H;try{var r=yt;for(H=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yt=null,Ri=!1}catch(s){throw yt!==null&&(yt=yt.slice(e+1)),pd(rl,Zt),s}finally{H=t,ko=!1}}return null}var Lr=[],Ar=0,ii=null,oi=0,He=[],We=0,mr=null,xt=1,wt="";function sr(e,t){Lr[Ar++]=oi,Lr[Ar++]=ii,ii=e,oi=t}function Hd(e,t,r){He[We++]=xt,He[We++]=wt,He[We++]=mr,mr=e;var n=xt;e=wt;var s=32-st(n)-1;n&=~(1<<s),r+=1;var i=32-st(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,xt=1<<32-st(t)+s|r<<s|n,wt=i+e}else xt=1<<i|r<<s|n,wt=e}function dl(e){e.return!==null&&(sr(e,1),Hd(e,1,0))}function hl(e){for(;e===ii;)ii=Lr[--Ar],Lr[Ar]=null,oi=Lr[--Ar],Lr[Ar]=null;for(;e===mr;)mr=He[--We],He[We]=null,wt=He[--We],He[We]=null,xt=He[--We],He[We]=null}var Ie=null,$e=null,Y=!1,nt=null;function Wd(e,t){var r=Ge(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ru(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,$e=Vt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mr!==null?{id:xt,overflow:wt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ge(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ie=e,$e=null,!0):!1;default:return!1}}function ha(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fa(e){if(Y){var t=$e;if(t){var r=t;if(!Ru(e,t)){if(ha(e))throw Error(C(418));t=Vt(r.nextSibling);var n=Ie;t&&Ru(e,t)?Wd(n,r):(e.flags=e.flags&-4097|2,Y=!1,Ie=e)}}else{if(ha(e))throw Error(C(418));e.flags=e.flags&-4097|2,Y=!1,Ie=e}}}function Ou(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function Ss(e){if(e!==Ie)return!1;if(!Y)return Ou(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!la(e.type,e.memoizedProps)),t&&(t=$e)){if(ha(e))throw Gd(),Error(C(418));for(;t;)Wd(e,t),t=Vt(t.nextSibling)}if(Ou(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$e=Vt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=Ie?Vt(e.stateNode.nextSibling):null;return!0}function Gd(){for(var e=$e;e;)e=Vt(e.nextSibling)}function Kr(){$e=Ie=null,Y=!1}function fl(e){nt===null?nt=[e]:nt.push(e)}var Vm=Et.ReactCurrentBatchConfig;function mn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function bs(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lu(e){var t=e._init;return t(e._payload)}function qd(e){function t(m,f){if(e){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function r(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function n(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=qt(m,f),m.index=0,m.sibling=null,m}function i(m,f,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,f,g,k){return f===null||f.tag!==6?(f=Po(g,m.mode,k),f.return=m,f):(f=s(f,g),f.return=m,f)}function u(m,f,g,k){var j=g.type;return j===Cr?d(m,f,g.props.children,k,g.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ft&&Lu(j)===f.type)?(k=s(f,g.props),k.ref=mn(m,f,g),k.return=m,k):(k=qs(g.type,g.key,g.props,null,m.mode,k),k.ref=mn(m,f,g),k.return=m,k)}function c(m,f,g,k){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=To(g,m.mode,k),f.return=m,f):(f=s(f,g.children||[]),f.return=m,f)}function d(m,f,g,k,j){return f===null||f.tag!==7?(f=fr(g,m.mode,k,j),f.return=m,f):(f=s(f,g),f.return=m,f)}function h(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Po(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ps:return g=qs(f.type,f.key,f.props,null,m.mode,g),g.ref=mn(m,null,f),g.return=m,g;case Nr:return f=To(f,m.mode,g),f.return=m,f;case Ft:var k=f._init;return h(m,k(f._payload),g)}if(jn(f)||cn(f))return f=fr(f,m.mode,g,null),f.return=m,f;bs(m,f)}return null}function p(m,f,g,k){var j=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:l(m,f,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ps:return g.key===j?u(m,f,g,k):null;case Nr:return g.key===j?c(m,f,g,k):null;case Ft:return j=g._init,p(m,f,j(g._payload),k)}if(jn(g)||cn(g))return j!==null?null:d(m,f,g,k,null);bs(m,g)}return null}function v(m,f,g,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(g)||null,l(f,m,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ps:return m=m.get(k.key===null?g:k.key)||null,u(f,m,k,j);case Nr:return m=m.get(k.key===null?g:k.key)||null,c(f,m,k,j);case Ft:var N=k._init;return v(m,f,g,N(k._payload),j)}if(jn(k)||cn(k))return m=m.get(g)||null,d(f,m,k,j,null);bs(f,k)}return null}function x(m,f,g,k){for(var j=null,N=null,S=f,E=f=0,P=null;S!==null&&E<g.length;E++){S.index>E?(P=S,S=null):P=S.sibling;var F=p(m,S,g[E],k);if(F===null){S===null&&(S=P);break}e&&S&&F.alternate===null&&t(m,S),f=i(F,f,E),N===null?j=F:N.sibling=F,N=F,S=P}if(E===g.length)return r(m,S),Y&&sr(m,E),j;if(S===null){for(;E<g.length;E++)S=h(m,g[E],k),S!==null&&(f=i(S,f,E),N===null?j=S:N.sibling=S,N=S);return Y&&sr(m,E),j}for(S=n(m,S);E<g.length;E++)P=v(S,m,E,g[E],k),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?E:P.key),f=i(P,f,E),N===null?j=P:N.sibling=P,N=P);return e&&S.forEach(function(ie){return t(m,ie)}),Y&&sr(m,E),j}function _(m,f,g,k){var j=cn(g);if(typeof j!="function")throw Error(C(150));if(g=j.call(g),g==null)throw Error(C(151));for(var N=j=null,S=f,E=f=0,P=null,F=g.next();S!==null&&!F.done;E++,F=g.next()){S.index>E?(P=S,S=null):P=S.sibling;var ie=p(m,S,F.value,k);if(ie===null){S===null&&(S=P);break}e&&S&&ie.alternate===null&&t(m,S),f=i(ie,f,E),N===null?j=ie:N.sibling=ie,N=ie,S=P}if(F.done)return r(m,S),Y&&sr(m,E),j;if(S===null){for(;!F.done;E++,F=g.next())F=h(m,F.value,k),F!==null&&(f=i(F,f,E),N===null?j=F:N.sibling=F,N=F);return Y&&sr(m,E),j}for(S=n(m,S);!F.done;E++,F=g.next())F=v(S,m,E,F.value,k),F!==null&&(e&&F.alternate!==null&&S.delete(F.key===null?E:F.key),f=i(F,f,E),N===null?j=F:N.sibling=F,N=F);return e&&S.forEach(function(T){return t(m,T)}),Y&&sr(m,E),j}function w(m,f,g,k){if(typeof g=="object"&&g!==null&&g.type===Cr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ps:e:{for(var j=g.key,N=f;N!==null;){if(N.key===j){if(j=g.type,j===Cr){if(N.tag===7){r(m,N.sibling),f=s(N,g.props.children),f.return=m,m=f;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ft&&Lu(j)===N.type){r(m,N.sibling),f=s(N,g.props),f.ref=mn(m,N,g),f.return=m,m=f;break e}r(m,N);break}else t(m,N);N=N.sibling}g.type===Cr?(f=fr(g.props.children,m.mode,k,g.key),f.return=m,m=f):(k=qs(g.type,g.key,g.props,null,m.mode,k),k.ref=mn(m,f,g),k.return=m,m=k)}return o(m);case Nr:e:{for(N=g.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){r(m,f.sibling),f=s(f,g.children||[]),f.return=m,m=f;break e}else{r(m,f);break}else t(m,f);f=f.sibling}f=To(g,m.mode,k),f.return=m,m=f}return o(m);case Ft:return N=g._init,w(m,f,N(g._payload),k)}if(jn(g))return x(m,f,g,k);if(cn(g))return _(m,f,g,k);bs(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(r(m,f.sibling),f=s(f,g),f.return=m,m=f):(r(m,f),f=Po(g,m.mode,k),f.return=m,m=f),o(m)):r(m,f)}return w}var Qr=qd(!0),Kd=qd(!1),ai=Xt(null),li=null,$r=null,pl=null;function ml(){pl=$r=li=null}function gl(e){var t=ai.current;Q(ai),e._currentValue=t}function pa(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vr(e,t){li=e,pl=$r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function Qe(e){var t=e._currentValue;if(pl!==e)if(e={context:e,memoizedValue:t,next:null},$r===null){if(li===null)throw Error(C(308));$r=e,li.dependencies={lanes:0,firstContext:e}}else $r=$r.next=e;return t}var cr=null;function vl(e){cr===null?cr=[e]:cr.push(e)}function Qd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,vl(t)):(r.next=s.next,s.next=r),t.interleaved=r,St(e,n)}function St(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Rt=!1;function yl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ht(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,B&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,St(e,r)}return s=n.interleaved,s===null?(t.next=t,vl(n)):(t.next=s.next,s.next=t),n.interleaved=t,St(e,r)}function zs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,nl(e,r)}}function Au(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ui(e,t,r,n){var s=e.updateQueue;Rt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,l=i;do{var p=l.lane,v=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,_=l;switch(p=t,v=r,_.tag){case 1:if(x=_.payload,typeof x=="function"){h=x.call(v,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,p=typeof x=="function"?x.call(v,h,p):x,p==null)break e;h=te({},h,p);break e;case 2:Rt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vr|=o,e.lanes=o,e.memoizedState=h}}function $u(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var us={},ft=Xt(us),Jn=Xt(us),Yn=Xt(us);function dr(e){if(e===us)throw Error(C(174));return e}function xl(e,t){switch(q(Yn,t),q(Jn,e),q(ft,us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ko(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ko(t,e)}Q(ft),q(ft,t)}function Jr(){Q(ft),Q(Jn),Q(Yn)}function Yd(e){dr(Yn.current);var t=dr(ft.current),r=Ko(t,e.type);t!==r&&(q(Jn,e),q(ft,r))}function wl(e){Jn.current===e&&(Q(ft),Q(Jn))}var X=Xt(0);function ci(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=[];function _l(){for(var e=0;e<jo.length;e++)jo[e]._workInProgressVersionPrimary=null;jo.length=0}var Bs=Et.ReactCurrentDispatcher,So=Et.ReactCurrentBatchConfig,gr=0,Z=null,oe=null,ce=null,di=!1,Rn=!1,Xn=0,Hm=0;function ge(){throw Error(C(321))}function kl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ot(e[r],t[r]))return!1;return!0}function jl(e,t,r,n,s,i){if(gr=i,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bs.current=e===null||e.memoizedState===null?Km:Qm,e=r(n,s),Rn){i=0;do{if(Rn=!1,Xn=0,25<=i)throw Error(C(301));i+=1,ce=oe=null,t.updateQueue=null,Bs.current=Jm,e=r(n,s)}while(Rn)}if(Bs.current=hi,t=oe!==null&&oe.next!==null,gr=0,ce=oe=Z=null,di=!1,t)throw Error(C(300));return e}function Sl(){var e=Xn!==0;return Xn=0,e}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?Z.memoizedState=ce=e:ce=ce.next=e,ce}function Je(){if(oe===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=ce===null?Z.memoizedState:ce.next;if(t!==null)ce=t,oe=e;else{if(e===null)throw Error(C(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ce===null?Z.memoizedState=ce=e:ce=ce.next=e}return ce}function Zn(e,t){return typeof t=="function"?t(e):t}function bo(e){var t=Je(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=oe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((gr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,o=n):u=u.next=h,Z.lanes|=d,vr|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=l,ot(n,t.memoizedState)||(Pe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Z.lanes|=i,vr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Eo(e){var t=Je(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ot(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Xd(){}function Zd(e,t){var r=Z,n=Je(),s=t(),i=!ot(n.memoizedState,s);if(i&&(n.memoizedState=s,Pe=!0),n=n.queue,bl(rh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ce!==null&&ce.memoizedState.tag&1){if(r.flags|=2048,es(9,th.bind(null,r,n,s,t),void 0,null),de===null)throw Error(C(349));gr&30||eh(r,t,s)}return s}function eh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function th(e,t,r,n){t.value=r,t.getSnapshot=n,nh(t)&&sh(e)}function rh(e,t,r){return r(function(){nh(t)&&sh(e)})}function nh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ot(e,r)}catch{return!0}}function sh(e){var t=St(e,1);t!==null&&it(t,e,1,-1)}function Uu(e){var t=ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:e},t.queue=e,e=e.dispatch=qm.bind(null,Z,e),[t.memoizedState,e]}function es(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ih(){return Je().memoizedState}function Vs(e,t,r,n){var s=ct();Z.flags|=e,s.memoizedState=es(1|t,r,void 0,n===void 0?null:n)}function Oi(e,t,r,n){var s=Je();n=n===void 0?null:n;var i=void 0;if(oe!==null){var o=oe.memoizedState;if(i=o.destroy,n!==null&&kl(n,o.deps)){s.memoizedState=es(t,r,i,n);return}}Z.flags|=e,s.memoizedState=es(1|t,r,i,n)}function Iu(e,t){return Vs(8390656,8,e,t)}function bl(e,t){return Oi(2048,8,e,t)}function oh(e,t){return Oi(4,2,e,t)}function ah(e,t){return Oi(4,4,e,t)}function lh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uh(e,t,r){return r=r!=null?r.concat([e]):null,Oi(4,4,lh.bind(null,t,e),r)}function El(){}function ch(e,t){var r=Je();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function dh(e,t){var r=Je();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hh(e,t,r){return gr&21?(ot(r,t)||(r=vd(),Z.lanes|=r,vr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=r)}function Wm(e,t){var r=H;H=r!==0&&4>r?r:4,e(!0);var n=So.transition;So.transition={};try{e(!1),t()}finally{H=r,So.transition=n}}function fh(){return Je().memoizedState}function Gm(e,t,r){var n=Gt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ph(e))mh(t,r);else if(r=Qd(e,t,r,n),r!==null){var s=ke();it(r,e,n,s),gh(r,t,n)}}function qm(e,t,r){var n=Gt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ph(e))mh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,ot(l,o)){var u=t.interleaved;u===null?(s.next=s,vl(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=Qd(e,t,s,n),r!==null&&(s=ke(),it(r,e,n,s),gh(r,t,n))}}function ph(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function mh(e,t){Rn=di=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function gh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,nl(e,r)}}var hi={readContext:Qe,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Km={readContext:Qe,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:Qe,useEffect:Iu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Vs(4194308,4,lh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var r=ct();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ct();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Gm.bind(null,Z,e),[n.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:Uu,useDebugValue:El,useDeferredValue:function(e){return ct().memoizedState=e},useTransition:function(){var e=Uu(!1),t=e[0];return e=Wm.bind(null,e[1]),ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Z,s=ct();if(Y){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),de===null)throw Error(C(349));gr&30||eh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Iu(rh.bind(null,n,i,e),[e]),n.flags|=2048,es(9,th.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ct(),t=de.identifierPrefix;if(Y){var r=wt,n=xt;r=(n&~(1<<32-st(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Hm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qm={readContext:Qe,useCallback:ch,useContext:Qe,useEffect:bl,useImperativeHandle:uh,useInsertionEffect:oh,useLayoutEffect:ah,useMemo:dh,useReducer:bo,useRef:ih,useState:function(){return bo(Zn)},useDebugValue:El,useDeferredValue:function(e){var t=Je();return hh(t,oe.memoizedState,e)},useTransition:function(){var e=bo(Zn)[0],t=Je().memoizedState;return[e,t]},useMutableSource:Xd,useSyncExternalStore:Zd,useId:fh,unstable_isNewReconciler:!1},Jm={readContext:Qe,useCallback:ch,useContext:Qe,useEffect:bl,useImperativeHandle:uh,useInsertionEffect:oh,useLayoutEffect:ah,useMemo:dh,useReducer:Eo,useRef:ih,useState:function(){return Eo(Zn)},useDebugValue:El,useDeferredValue:function(e){var t=Je();return oe===null?t.memoizedState=e:hh(t,oe.memoizedState,e)},useTransition:function(){var e=Eo(Zn)[0],t=Je().memoizedState;return[e,t]},useMutableSource:Xd,useSyncExternalStore:Zd,useId:fh,unstable_isNewReconciler:!1};function et(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ma(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Li={isMounted:function(e){return(e=e._reactInternals)?wr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ke(),s=Gt(e),i=_t(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ht(e,i,s),t!==null&&(it(t,e,s,n),zs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ke(),s=Gt(e),i=_t(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ht(e,i,s),t!==null&&(it(t,e,s,n),zs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ke(),n=Gt(e),s=_t(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ht(e,s,n),t!==null&&(it(t,e,n,r),zs(t,e,n))}};function Du(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Gn(r,n)||!Gn(s,i):!0}function vh(e,t,r){var n=!1,s=Jt,i=t.contextType;return typeof i=="object"&&i!==null?i=Qe(i):(s=Fe(t)?pr:we.current,n=t.contextTypes,i=(n=n!=null)?qr(e,s):Jt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Li,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Mu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Li.enqueueReplaceState(t,t.state,null)}function ga(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},yl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Qe(i):(i=Fe(t)?pr:we.current,s.context=qr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ma(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Li.enqueueReplaceState(s,s.state,null),ui(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yr(e,t){try{var r="",n=t;do r+=Sp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function No(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function va(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ym=typeof WeakMap=="function"?WeakMap:Map;function yh(e,t,r){r=_t(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){pi||(pi=!0,Na=n),va(e,t)},r}function xh(e,t,r){r=_t(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){va(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){va(e,t),typeof n!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function zu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ym;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=dg.bind(null,e,t,r),t.then(e,e))}function Bu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_t(-1,1),t.tag=2,Ht(r,t,1))),r.lanes|=1),e)}var Xm=Et.ReactCurrentOwner,Pe=!1;function _e(e,t,r,n){t.child=e===null?Kd(t,null,r,n):Qr(t,e.child,r,n)}function Hu(e,t,r,n,s){r=r.render;var i=t.ref;return Vr(t,s),n=jl(e,t,r,n,i,s),r=Sl(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(Y&&r&&dl(t),t.flags|=1,_e(e,t,n,s),t.child)}function Wu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Ll(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,wh(e,t,i,n,s)):(e=qs(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Gn,r(o,n)&&e.ref===t.ref)return bt(e,t,s)}return t.flags|=1,e=qt(i,n),e.ref=t.ref,e.return=t,t.child=e}function wh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Gn(i,n)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,bt(e,t,s)}return ya(e,t,r,n,s)}function _h(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Ir,Ae),Ae|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(Ir,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,q(Ir,Ae),Ae|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,q(Ir,Ae),Ae|=n;return _e(e,t,s,r),t.child}function kh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ya(e,t,r,n,s){var i=Fe(r)?pr:we.current;return i=qr(t,i),Vr(t,s),r=jl(e,t,r,n,i,s),n=Sl(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(Y&&n&&dl(t),t.flags|=1,_e(e,t,r,s),t.child)}function Gu(e,t,r,n,s){if(Fe(r)){var i=!0;si(t)}else i=!1;if(Vr(t,s),t.stateNode===null)Hs(e,t),vh(t,r,n),ga(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Qe(c):(c=Fe(r)?pr:we.current,c=qr(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==c)&&Mu(t,o,n,c),Rt=!1;var p=t.memoizedState;o.state=p,ui(t,n,o,s),u=t.memoizedState,l!==n||p!==u||Te.current||Rt?(typeof d=="function"&&(ma(t,r,d,n),u=t.memoizedState),(l=Rt||Du(t,r,l,n,p,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Jd(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:et(t.type,l),o.props=c,h=t.pendingProps,p=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Qe(u):(u=Fe(r)?pr:we.current,u=qr(t,u));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==u)&&Mu(t,o,n,u),Rt=!1,p=t.memoizedState,o.state=p,ui(t,n,o,s);var x=t.memoizedState;l!==h||p!==x||Te.current||Rt?(typeof v=="function"&&(ma(t,r,v,n),x=t.memoizedState),(c=Rt||Du(t,r,c,n,p,x,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return xa(e,t,r,n,i,s)}function xa(e,t,r,n,s,i){kh(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Fu(t,r,!1),bt(e,t,i);n=t.stateNode,Xm.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Qr(t,e.child,null,i),t.child=Qr(t,null,l,i)):_e(e,t,l,i),t.memoizedState=n.state,s&&Fu(t,r,!0),t.child}function jh(e){var t=e.stateNode;t.pendingContext?Tu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tu(e,t.context,!1),xl(e,t.containerInfo)}function qu(e,t,r,n,s){return Kr(),fl(s),t.flags|=256,_e(e,t,r,n),t.child}var wa={dehydrated:null,treeContext:null,retryLane:0};function _a(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sh(e,t,r){var n=t.pendingProps,s=X.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),q(X,s&1),e===null)return fa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ui(o,n,0,null),e=fr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_a(r),t.memoizedState=wa,e):Nl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Zm(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=qt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=qt(l,i):(i=fr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?_a(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=wa,n}return i=e.child,e=i.sibling,n=qt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Nl(e,t){return t=Ui({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Es(e,t,r,n){return n!==null&&fl(n),Qr(t,e.child,null,r),e=Nl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zm(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=No(Error(C(422))),Es(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ui({mode:"visible",children:n.children},s,0,null),i=fr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Qr(t,e.child,null,o),t.child.memoizedState=_a(o),t.memoizedState=wa,i);if(!(t.mode&1))return Es(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(C(419)),n=No(i,n,void 0),Es(e,t,o,n)}if(l=(o&e.childLanes)!==0,Pe||l){if(n=de,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,St(e,s),it(n,e,s,-1))}return Ol(),n=No(Error(C(421))),Es(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=hg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,$e=Vt(s.nextSibling),Ie=t,Y=!0,nt=null,e!==null&&(He[We++]=xt,He[We++]=wt,He[We++]=mr,xt=e.id,wt=e.overflow,mr=t),t=Nl(t,n.children),t.flags|=4096,t)}function Ku(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),pa(e.return,t,r)}function Co(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function bh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(_e(e,t,n.children,r),n=X.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ku(e,r,t);else if(e.tag===19)Ku(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(q(X,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ci(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Co(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ci(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Co(t,!0,r,null,i);break;case"together":Co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=qt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function eg(e,t,r){switch(t.tag){case 3:jh(t),Kr();break;case 5:Yd(t);break;case 1:Fe(t.type)&&si(t);break;case 4:xl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;q(ai,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(q(X,X.current&1),t.flags|=128,null):r&t.child.childLanes?Sh(e,t,r):(q(X,X.current&1),e=bt(e,t,r),e!==null?e.sibling:null);q(X,X.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(X,X.current),n)break;return null;case 22:case 23:return t.lanes=0,_h(e,t,r)}return bt(e,t,r)}var Eh,ka,Nh,Ch;Eh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ka=function(){};Nh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,dr(ft.current);var i=null;switch(r){case"input":s=Ho(e,s),n=Ho(e,n),i=[];break;case"select":s=te({},s,{value:void 0}),n=te({},n,{value:void 0}),i=[];break;case"textarea":s=qo(e,s),n=qo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ri)}Qo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Dn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Dn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&K("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Ch=function(e,t,r,n){r!==n&&(t.flags|=4)};function gn(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function tg(e,t,r){var n=t.pendingProps;switch(hl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(t),null;case 1:return Fe(t.type)&&ni(),ve(t),null;case 3:return n=t.stateNode,Jr(),Q(Te),Q(we),_l(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ss(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(Ta(nt),nt=null))),ka(e,t),ve(t),null;case 5:wl(t);var s=dr(Yn.current);if(r=t.type,e!==null&&t.stateNode!=null)Nh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return ve(t),null}if(e=dr(ft.current),Ss(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[dt]=t,n[Qn]=i,e=(t.mode&1)!==0,r){case"dialog":K("cancel",n),K("close",n);break;case"iframe":case"object":case"embed":K("load",n);break;case"video":case"audio":for(s=0;s<bn.length;s++)K(bn[s],n);break;case"source":K("error",n);break;case"img":case"image":case"link":K("error",n),K("load",n);break;case"details":K("toggle",n);break;case"input":nu(n,i),K("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},K("invalid",n);break;case"textarea":iu(n,i),K("invalid",n)}Qo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&js(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&js(n.textContent,l,e),s=["children",""+l]):Dn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&K("scroll",n)}switch(r){case"input":ms(n),su(n,i,!0);break;case"textarea":ms(n),ou(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ri)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[dt]=t,e[Qn]=n,Eh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Jo(r,n),r){case"dialog":K("cancel",e),K("close",e),s=n;break;case"iframe":case"object":case"embed":K("load",e),s=n;break;case"video":case"audio":for(s=0;s<bn.length;s++)K(bn[s],e);s=n;break;case"source":K("error",e),s=n;break;case"img":case"image":case"link":K("error",e),K("load",e),s=n;break;case"details":K("toggle",e),s=n;break;case"input":nu(e,n),s=Ho(e,n),K("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=te({},n,{value:void 0}),K("invalid",e);break;case"textarea":iu(e,n),s=qo(e,n),K("invalid",e);break;default:s=n}Qo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?id(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&nd(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Mn(e,u):typeof u=="number"&&Mn(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Dn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&K("scroll",e):u!=null&&Ya(e,i,u,o))}switch(r){case"input":ms(e),su(e,n,!1);break;case"textarea":ms(e),ou(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Qt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Dr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Dr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ri)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ve(t),null;case 6:if(e&&t.stateNode!=null)Ch(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=dr(Yn.current),dr(ft.current),Ss(t)){if(n=t.stateNode,r=t.memoizedProps,n[dt]=t,(i=n.nodeValue!==r)&&(e=Ie,e!==null))switch(e.tag){case 3:js(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&js(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dt]=t,t.stateNode=n}return ve(t),null;case 13:if(Q(X),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&$e!==null&&t.mode&1&&!(t.flags&128))Gd(),Kr(),t.flags|=98560,i=!1;else if(i=Ss(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[dt]=t}else Kr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ve(t),i=!1}else nt!==null&&(Ta(nt),nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?ae===0&&(ae=3):Ol())),t.updateQueue!==null&&(t.flags|=4),ve(t),null);case 4:return Jr(),ka(e,t),e===null&&qn(t.stateNode.containerInfo),ve(t),null;case 10:return gl(t.type._context),ve(t),null;case 17:return Fe(t.type)&&ni(),ve(t),null;case 19:if(Q(X),i=t.memoizedState,i===null)return ve(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)gn(i,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ci(e),o!==null){for(t.flags|=128,gn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return q(X,X.current&1|2),t.child}e=e.sibling}i.tail!==null&&ne()>Xr&&(t.flags|=128,n=!0,gn(i,!1),t.lanes=4194304)}else{if(!n)if(e=ci(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Y)return ve(t),null}else 2*ne()-i.renderingStartTime>Xr&&r!==1073741824&&(t.flags|=128,n=!0,gn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ne(),t.sibling=null,r=X.current,q(X,n?r&1|2:r&1),t):(ve(t),null);case 22:case 23:return Rl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ae&1073741824&&(ve(t),t.subtreeFlags&6&&(t.flags|=8192)):ve(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function rg(e,t){switch(hl(t),t.tag){case 1:return Fe(t.type)&&ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jr(),Q(Te),Q(we),_l(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wl(t),null;case 13:if(Q(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Kr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(X),null;case 4:return Jr(),null;case 10:return gl(t.type._context),null;case 22:case 23:return Rl(),null;case 24:return null;default:return null}}var Ns=!1,ye=!1,ng=typeof WeakSet=="function"?WeakSet:Set,O=null;function Ur(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(e,t,n)}else r.current=null}function ja(e,t,r){try{r()}catch(n){re(e,t,n)}}var Qu=!1;function sg(e,t){if(oa=Zs,e=Od(),cl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===e)break t;if(p===r&&++c===s&&(l=o),p===i&&++d===n&&(u=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(aa={focusedElem:e,selectionRange:r},Zs=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var _=x.memoizedProps,w=x.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?_:et(t.type,_),w);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(k){re(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return x=Qu,Qu=!1,x}function On(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ja(t,r,i)}s=s.next}while(s!==n)}}function Ai(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Sa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ph(e){var t=e.alternate;t!==null&&(e.alternate=null,Ph(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dt],delete t[Qn],delete t[ca],delete t[Mm],delete t[zm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Th(e){return e.tag===5||e.tag===3||e.tag===4}function Ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ba(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ri));else if(n!==4&&(e=e.child,e!==null))for(ba(e,t,r),e=e.sibling;e!==null;)ba(e,t,r),e=e.sibling}function Ea(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ea(e,t,r),e=e.sibling;e!==null;)Ea(e,t,r),e=e.sibling}var he=null,tt=!1;function Ct(e,t,r){for(r=r.child;r!==null;)Fh(e,t,r),r=r.sibling}function Fh(e,t,r){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Ni,r)}catch{}switch(r.tag){case 5:ye||Ur(r,t);case 6:var n=he,s=tt;he=null,Ct(e,t,r),he=n,tt=s,he!==null&&(tt?(e=he,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(tt?(e=he,r=r.stateNode,e.nodeType===8?_o(e.parentNode,r):e.nodeType===1&&_o(e,r),Hn(e)):_o(he,r.stateNode));break;case 4:n=he,s=tt,he=r.stateNode.containerInfo,tt=!0,Ct(e,t,r),he=n,tt=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ja(r,t,o),s=s.next}while(s!==n)}Ct(e,t,r);break;case 1:if(!ye&&(Ur(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){re(r,t,l)}Ct(e,t,r);break;case 21:Ct(e,t,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,Ct(e,t,r),ye=n):Ct(e,t,r);break;default:Ct(e,t,r)}}function Yu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ng),t.forEach(function(n){var s=fg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Xe(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:he=l.stateNode,tt=!1;break e;case 3:he=l.stateNode.containerInfo,tt=!0;break e;case 4:he=l.stateNode.containerInfo,tt=!0;break e}l=l.return}if(he===null)throw Error(C(160));Fh(i,o,s),he=null,tt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){re(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rh(t,e),t=t.sibling}function Rh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xe(t,e),lt(e),n&4){try{On(3,e,e.return),Ai(3,e)}catch(_){re(e,e.return,_)}try{On(5,e,e.return)}catch(_){re(e,e.return,_)}}break;case 1:Xe(t,e),lt(e),n&512&&r!==null&&Ur(r,r.return);break;case 5:if(Xe(t,e),lt(e),n&512&&r!==null&&Ur(r,r.return),e.flags&32){var s=e.stateNode;try{Mn(s,"")}catch(_){re(e,e.return,_)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ed(s,i),Jo(l,o);var c=Jo(l,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?id(s,h):d==="dangerouslySetInnerHTML"?nd(s,h):d==="children"?Mn(s,h):Ya(s,d,h,c)}switch(l){case"input":Wo(s,i);break;case"textarea":td(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Dr(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Dr(s,!!i.multiple,i.defaultValue,!0):Dr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qn]=i}catch(_){re(e,e.return,_)}}break;case 6:if(Xe(t,e),lt(e),n&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(_){re(e,e.return,_)}}break;case 3:if(Xe(t,e),lt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hn(t.containerInfo)}catch(_){re(e,e.return,_)}break;case 4:Xe(t,e),lt(e);break;case 13:Xe(t,e),lt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Tl=ne())),n&4&&Yu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ye=(c=ye)||d,Xe(t,e),ye=c):Xe(t,e),lt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(h=O=d;O!==null;){switch(p=O,v=p.child,p.tag){case 0:case 11:case 14:case 15:On(4,p,p.return);break;case 1:Ur(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(_){re(n,r,_)}}break;case 5:Ur(p,p.return);break;case 22:if(p.memoizedState!==null){Zu(h);continue}}v!==null?(v.return=p,O=v):Zu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=sd("display",o))}catch(_){re(e,e.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){re(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xe(t,e),lt(e),n&4&&Yu(e);break;case 21:break;default:Xe(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Th(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Mn(s,""),n.flags&=-33);var i=Ju(e);Ea(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Ju(e);ba(e,l,o);break;default:throw Error(C(161))}}catch(u){re(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ig(e,t,r){O=e,Oh(e)}function Oh(e,t,r){for(var n=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ns;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||ye;l=Ns;var c=ye;if(Ns=o,(ye=u)&&!c)for(O=s;O!==null;)o=O,u=o.child,o.tag===22&&o.memoizedState!==null?ec(s):u!==null?(u.return=o,O=u):ec(s);for(;i!==null;)O=i,Oh(i),i=i.sibling;O=s,Ns=l,ye=c}Xu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Xu(e)}}function Xu(e){for(;O!==null;){var t=O;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||Ai(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:et(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$u(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$u(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Hn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}ye||t.flags&512&&Sa(t)}catch(p){re(t,t.return,p)}}if(t===e){O=null;break}if(r=t.sibling,r!==null){r.return=t.return,O=r;break}O=t.return}}function Zu(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var r=t.sibling;if(r!==null){r.return=t.return,O=r;break}O=t.return}}function ec(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ai(4,t)}catch(u){re(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){re(t,s,u)}}var i=t.return;try{Sa(t)}catch(u){re(t,i,u)}break;case 5:var o=t.return;try{Sa(t)}catch(u){re(t,o,u)}}}catch(u){re(t,t.return,u)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var og=Math.ceil,fi=Et.ReactCurrentDispatcher,Cl=Et.ReactCurrentOwner,qe=Et.ReactCurrentBatchConfig,B=0,de=null,se=null,pe=0,Ae=0,Ir=Xt(0),ae=0,ts=null,vr=0,$i=0,Pl=0,Ln=null,Ne=null,Tl=0,Xr=1/0,gt=null,pi=!1,Na=null,Wt=null,Cs=!1,It=null,mi=0,An=0,Ca=null,Ws=-1,Gs=0;function ke(){return B&6?ne():Ws!==-1?Ws:Ws=ne()}function Gt(e){return e.mode&1?B&2&&pe!==0?pe&-pe:Vm.transition!==null?(Gs===0&&(Gs=vd()),Gs):(e=H,e!==0||(e=window.event,e=e===void 0?16:Sd(e.type)),e):1}function it(e,t,r,n){if(50<An)throw An=0,Ca=null,Error(C(185));os(e,r,n),(!(B&2)||e!==de)&&(e===de&&(!(B&2)&&($i|=r),ae===4&&At(e,pe)),Re(e,n),r===1&&B===0&&!(t.mode&1)&&(Xr=ne()+500,Ri&&Zt()))}function Re(e,t){var r=e.callbackNode;Vp(e,t);var n=Xs(e,e===de?pe:0);if(n===0)r!==null&&uu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&uu(r),t===1)e.tag===0?Bm(tc.bind(null,e)):Vd(tc.bind(null,e)),Im(function(){!(B&6)&&Zt()}),r=null;else{switch(yd(n)){case 1:r=rl;break;case 4:r=md;break;case 16:r=Ys;break;case 536870912:r=gd;break;default:r=Ys}r=zh(r,Lh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Lh(e,t){if(Ws=-1,Gs=0,B&6)throw Error(C(327));var r=e.callbackNode;if(Hr()&&e.callbackNode!==r)return null;var n=Xs(e,e===de?pe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gi(e,n);else{t=n;var s=B;B|=2;var i=$h();(de!==e||pe!==t)&&(gt=null,Xr=ne()+500,hr(e,t));do try{ug();break}catch(l){Ah(e,l)}while(!0);ml(),fi.current=i,B=s,se!==null?t=0:(de=null,pe=0,t=ae)}if(t!==0){if(t===2&&(s=ta(e),s!==0&&(n=s,t=Pa(e,s))),t===1)throw r=ts,hr(e,0),At(e,n),Re(e,ne()),r;if(t===6)At(e,n);else{if(s=e.current.alternate,!(n&30)&&!ag(s)&&(t=gi(e,n),t===2&&(i=ta(e),i!==0&&(n=i,t=Pa(e,i))),t===1))throw r=ts,hr(e,0),At(e,n),Re(e,ne()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:ir(e,Ne,gt);break;case 3:if(At(e,n),(n&130023424)===n&&(t=Tl+500-ne(),10<t)){if(Xs(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ke(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ua(ir.bind(null,e,Ne,gt),t);break}ir(e,Ne,gt);break;case 4:if(At(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-st(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*og(n/1960))-n,10<n){e.timeoutHandle=ua(ir.bind(null,e,Ne,gt),n);break}ir(e,Ne,gt);break;case 5:ir(e,Ne,gt);break;default:throw Error(C(329))}}}return Re(e,ne()),e.callbackNode===r?Lh.bind(null,e):null}function Pa(e,t){var r=Ln;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=gi(e,t),e!==2&&(t=Ne,Ne=r,t!==null&&Ta(t)),e}function Ta(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function ag(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ot(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function At(e,t){for(t&=~Pl,t&=~$i,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function tc(e){if(B&6)throw Error(C(327));Hr();var t=Xs(e,0);if(!(t&1))return Re(e,ne()),null;var r=gi(e,t);if(e.tag!==0&&r===2){var n=ta(e);n!==0&&(t=n,r=Pa(e,n))}if(r===1)throw r=ts,hr(e,0),At(e,t),Re(e,ne()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ir(e,Ne,gt),Re(e,ne()),null}function Fl(e,t){var r=B;B|=1;try{return e(t)}finally{B=r,B===0&&(Xr=ne()+500,Ri&&Zt())}}function yr(e){It!==null&&It.tag===0&&!(B&6)&&Hr();var t=B;B|=1;var r=qe.transition,n=H;try{if(qe.transition=null,H=1,e)return e()}finally{H=n,qe.transition=r,B=t,!(B&6)&&Zt()}}function Rl(){Ae=Ir.current,Q(Ir)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Um(r)),se!==null)for(r=se.return;r!==null;){var n=r;switch(hl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ni();break;case 3:Jr(),Q(Te),Q(we),_l();break;case 5:wl(n);break;case 4:Jr();break;case 13:Q(X);break;case 19:Q(X);break;case 10:gl(n.type._context);break;case 22:case 23:Rl()}r=r.return}if(de=e,se=e=qt(e.current,null),pe=Ae=t,ae=0,ts=null,Pl=$i=vr=0,Ne=Ln=null,cr!==null){for(t=0;t<cr.length;t++)if(r=cr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}cr=null}return e}function Ah(e,t){do{var r=se;try{if(ml(),Bs.current=hi,di){for(var n=Z.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}di=!1}if(gr=0,ce=oe=Z=null,Rn=!1,Xn=0,Cl.current=null,r===null||r.return===null){ae=1,ts=t,se=null;break}e:{var i=e,o=r.return,l=r,u=t;if(t=pe,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Bu(o);if(v!==null){v.flags&=-257,Vu(v,o,l,i,t),v.mode&1&&zu(i,c,t),t=v,u=c;var x=t.updateQueue;if(x===null){var _=new Set;_.add(u),t.updateQueue=_}else x.add(u);break e}else{if(!(t&1)){zu(i,c,t),Ol();break e}u=Error(C(426))}}else if(Y&&l.mode&1){var w=Bu(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Vu(w,o,l,i,t),fl(Yr(u,l));break e}}i=u=Yr(u,l),ae!==4&&(ae=2),Ln===null?Ln=[i]:Ln.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=yh(i,u,t);Au(i,m);break e;case 1:l=u;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Wt===null||!Wt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=xh(i,l,t);Au(i,k);break e}}i=i.return}while(i!==null)}Ih(r)}catch(j){t=j,se===r&&r!==null&&(se=r=r.return);continue}break}while(!0)}function $h(){var e=fi.current;return fi.current=hi,e===null?hi:e}function Ol(){(ae===0||ae===3||ae===2)&&(ae=4),de===null||!(vr&268435455)&&!($i&268435455)||At(de,pe)}function gi(e,t){var r=B;B|=2;var n=$h();(de!==e||pe!==t)&&(gt=null,hr(e,t));do try{lg();break}catch(s){Ah(e,s)}while(!0);if(ml(),B=r,fi.current=n,se!==null)throw Error(C(261));return de=null,pe=0,ae}function lg(){for(;se!==null;)Uh(se)}function ug(){for(;se!==null&&!Lp();)Uh(se)}function Uh(e){var t=Mh(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?Ih(e):se=t,Cl.current=null}function Ih(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=rg(r,t),r!==null){r.flags&=32767,se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,se=null;return}}else if(r=tg(r,t,Ae),r!==null){se=r;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ae===0&&(ae=5)}function ir(e,t,r){var n=H,s=qe.transition;try{qe.transition=null,H=1,cg(e,t,r,n)}finally{qe.transition=s,H=n}return null}function cg(e,t,r,n){do Hr();while(It!==null);if(B&6)throw Error(C(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Hp(e,i),e===de&&(se=de=null,pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cs||(Cs=!0,zh(Ys,function(){return Hr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qe.transition,qe.transition=null;var o=H;H=1;var l=B;B|=4,Cl.current=null,sg(e,r),Rh(r,e),Tm(aa),Zs=!!oa,aa=oa=null,e.current=r,ig(r),Ap(),B=l,H=o,qe.transition=i}else e.current=r;if(Cs&&(Cs=!1,It=e,mi=s),i=e.pendingLanes,i===0&&(Wt=null),Ip(r.stateNode),Re(e,ne()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(pi)throw pi=!1,e=Na,Na=null,e;return mi&1&&e.tag!==0&&Hr(),i=e.pendingLanes,i&1?e===Ca?An++:(An=0,Ca=e):An=0,Zt(),null}function Hr(){if(It!==null){var e=yd(mi),t=qe.transition,r=H;try{if(qe.transition=null,H=16>e?16:e,It===null)var n=!1;else{if(e=It,It=null,mi=0,B&6)throw Error(C(331));var s=B;for(B|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:On(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var p=d.sibling,v=d.return;if(Ph(d),d===c){O=null;break}if(p!==null){p.return=v,O=p;break}O=v}}}var x=i.alternate;if(x!==null){var _=x.child;if(_!==null){x.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:On(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var f=e.current;for(O=f;O!==null;){o=O;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,O=g;else e:for(o=f;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ai(9,l)}}catch(j){re(l,l.return,j)}if(l===o){O=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,O=k;break e}O=l.return}}if(B=s,Zt(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Ni,e)}catch{}n=!0}return n}finally{H=r,qe.transition=t}}return!1}function rc(e,t,r){t=Yr(r,t),t=yh(e,t,1),e=Ht(e,t,1),t=ke(),e!==null&&(os(e,1,t),Re(e,t))}function re(e,t,r){if(e.tag===3)rc(e,e,r);else for(;t!==null;){if(t.tag===3){rc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wt===null||!Wt.has(n))){e=Yr(r,e),e=xh(t,e,1),t=Ht(t,e,1),e=ke(),t!==null&&(os(t,1,e),Re(t,e));break}}t=t.return}}function dg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&r,de===e&&(pe&r)===r&&(ae===4||ae===3&&(pe&130023424)===pe&&500>ne()-Tl?hr(e,0):Pl|=r),Re(e,t)}function Dh(e,t){t===0&&(e.mode&1?(t=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):t=1);var r=ke();e=St(e,t),e!==null&&(os(e,t,r),Re(e,r))}function hg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Dh(e,r)}function fg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),Dh(e,r)}var Mh;Mh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Pe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Pe=!1,eg(e,t,r);Pe=!!(e.flags&131072)}else Pe=!1,Y&&t.flags&1048576&&Hd(t,oi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Hs(e,t),e=t.pendingProps;var s=qr(t,we.current);Vr(t,r),s=jl(null,t,n,e,s,r);var i=Sl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(n)?(i=!0,si(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yl(t),s.updater=Li,t.stateNode=s,s._reactInternals=t,ga(t,n,e,r),t=xa(null,t,n,!0,i,r)):(t.tag=0,Y&&i&&dl(t),_e(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=mg(n),e=et(n,e),s){case 0:t=ya(null,t,n,e,r);break e;case 1:t=Gu(null,t,n,e,r);break e;case 11:t=Hu(null,t,n,e,r);break e;case 14:t=Wu(null,t,n,et(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:et(n,s),ya(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:et(n,s),Gu(e,t,n,s,r);case 3:e:{if(jh(t),e===null)throw Error(C(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Jd(e,t),ui(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Yr(Error(C(423)),t),t=qu(e,t,n,r,s);break e}else if(n!==s){s=Yr(Error(C(424)),t),t=qu(e,t,n,r,s);break e}else for($e=Vt(t.stateNode.containerInfo.firstChild),Ie=t,Y=!0,nt=null,r=Kd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kr(),n===s){t=bt(e,t,r);break e}_e(e,t,n,r)}t=t.child}return t;case 5:return Yd(t),e===null&&fa(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,la(n,s)?o=null:i!==null&&la(n,i)&&(t.flags|=32),kh(e,t),_e(e,t,o,r),t.child;case 6:return e===null&&fa(t),null;case 13:return Sh(e,t,r);case 4:return xl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qr(t,null,n,r):_e(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:et(n,s),Hu(e,t,n,s,r);case 7:return _e(e,t,t.pendingProps,r),t.child;case 8:return _e(e,t,t.pendingProps.children,r),t.child;case 12:return _e(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,q(ai,n._currentValue),n._currentValue=o,i!==null)if(ot(i.value,o)){if(i.children===s.children&&!Te.current){t=bt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=_t(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),pa(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),pa(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Vr(t,r),s=Qe(s),n=n(s),t.flags|=1,_e(e,t,n,r),t.child;case 14:return n=t.type,s=et(n,t.pendingProps),s=et(n.type,s),Wu(e,t,n,s,r);case 15:return wh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:et(n,s),Hs(e,t),t.tag=1,Fe(n)?(e=!0,si(t)):e=!1,Vr(t,r),vh(t,n,s),ga(t,n,s,r),xa(null,t,n,!0,e,r);case 19:return bh(e,t,r);case 22:return _h(e,t,r)}throw Error(C(156,t.tag))};function zh(e,t){return pd(e,t)}function pg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,r,n){return new pg(e,t,r,n)}function Ll(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mg(e){if(typeof e=="function")return Ll(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Za)return 11;if(e===el)return 14}return 2}function qt(e,t){var r=e.alternate;return r===null?(r=Ge(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qs(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Ll(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Cr:return fr(r.children,s,i,t);case Xa:o=8,s|=8;break;case Mo:return e=Ge(12,r,t,s|2),e.elementType=Mo,e.lanes=i,e;case zo:return e=Ge(13,r,t,s),e.elementType=zo,e.lanes=i,e;case Bo:return e=Ge(19,r,t,s),e.elementType=Bo,e.lanes=i,e;case Yc:return Ui(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qc:o=10;break e;case Jc:o=9;break e;case Za:o=11;break e;case el:o=14;break e;case Ft:o=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Ge(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function fr(e,t,r,n){return e=Ge(7,e,n,t),e.lanes=r,e}function Ui(e,t,r,n){return e=Ge(22,e,n,t),e.elementType=Yc,e.lanes=r,e.stateNode={isHidden:!1},e}function Po(e,t,r){return e=Ge(6,e,null,t),e.lanes=r,e}function To(e,t,r){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gg(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uo(0),this.expirationTimes=uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Al(e,t,r,n,s,i,o,l,u){return e=new gg(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ge(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yl(i),e}function vg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Bh(e){if(!e)return Jt;e=e._reactInternals;e:{if(wr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(Fe(r))return Bd(e,r,t)}return t}function Vh(e,t,r,n,s,i,o,l,u){return e=Al(r,n,!0,e,s,i,o,l,u),e.context=Bh(null),r=e.current,n=ke(),s=Gt(r),i=_t(n,s),i.callback=t??null,Ht(r,i,s),e.current.lanes=s,os(e,s,n),Re(e,n),e}function Ii(e,t,r,n){var s=t.current,i=ke(),o=Gt(s);return r=Bh(r),t.context===null?t.context=r:t.pendingContext=r,t=_t(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ht(s,t,o),e!==null&&(it(e,s,o,i),zs(e,s,o)),o}function vi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function $l(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function yg(){return null}var Hh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ul(e){this._internalRoot=e}Di.prototype.render=Ul.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Ii(e,t,null,null)};Di.prototype.unmount=Ul.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){Ii(null,e,null,null)}),t[jt]=null}};function Di(e){this._internalRoot=e}Di.prototype.unstable_scheduleHydration=function(e){if(e){var t=_d();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Lt.length&&t!==0&&t<Lt[r].priority;r++);Lt.splice(r,0,e),r===0&&jd(e)}};function Il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sc(){}function xg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=vi(o);i.call(c)}}var o=Vh(t,n,e,0,null,!1,!1,"",sc);return e._reactRootContainer=o,e[jt]=o.current,qn(e.nodeType===8?e.parentNode:e),yr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=vi(u);l.call(c)}}var u=Al(e,0,!1,null,null,!1,!1,"",sc);return e._reactRootContainer=u,e[jt]=u.current,qn(e.nodeType===8?e.parentNode:e),yr(function(){Ii(t,u,r,n)}),u}function zi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=vi(o);l.call(u)}}Ii(t,o,e,s)}else o=xg(r,t,e,s,n);return vi(o)}xd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sn(t.pendingLanes);r!==0&&(nl(t,r|1),Re(t,ne()),!(B&6)&&(Xr=ne()+500,Zt()))}break;case 13:yr(function(){var n=St(e,1);if(n!==null){var s=ke();it(n,e,1,s)}}),$l(e,1)}};sl=function(e){if(e.tag===13){var t=St(e,134217728);if(t!==null){var r=ke();it(t,e,134217728,r)}$l(e,134217728)}};wd=function(e){if(e.tag===13){var t=Gt(e),r=St(e,t);if(r!==null){var n=ke();it(r,e,t,n)}$l(e,t)}};_d=function(){return H};kd=function(e,t){var r=H;try{return H=e,t()}finally{H=r}};Xo=function(e,t,r){switch(t){case"input":if(Wo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Fi(n);if(!s)throw Error(C(90));Zc(n),Wo(n,s)}}}break;case"textarea":td(e,r);break;case"select":t=r.value,t!=null&&Dr(e,!!r.multiple,t,!1)}};ld=Fl;ud=yr;var wg={usingClientEntryPoint:!1,Events:[ls,Rr,Fi,od,ad,Fl]},vn={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_g={bundleType:vn.bundleType,version:vn.version,rendererPackageName:vn.rendererPackageName,rendererConfig:vn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hd(e),e===null?null:e.stateNode},findFiberByHostInstance:vn.findFiberByHostInstance||yg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ps.isDisabled&&Ps.supportsFiber)try{Ni=Ps.inject(_g),ht=Ps}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wg;Me.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Il(t))throw Error(C(200));return vg(e,t,null,r)};Me.createRoot=function(e,t){if(!Il(e))throw Error(C(299));var r=!1,n="",s=Hh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Al(e,1,!1,null,null,r,!1,n,s),e[jt]=t.current,qn(e.nodeType===8?e.parentNode:e),new Ul(t)};Me.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=hd(t),e=e===null?null:e.stateNode,e};Me.flushSync=function(e){return yr(e)};Me.hydrate=function(e,t,r){if(!Mi(t))throw Error(C(200));return zi(null,e,t,!0,r)};Me.hydrateRoot=function(e,t,r){if(!Il(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Hh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Vh(t,null,e,1,r??null,s,!1,i,o),e[jt]=t.current,qn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Di(t)};Me.render=function(e,t,r){if(!Mi(t))throw Error(C(200));return zi(null,e,t,!1,r)};Me.unmountComponentAtNode=function(e){if(!Mi(e))throw Error(C(40));return e._reactRootContainer?(yr(function(){zi(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};Me.unstable_batchedUpdates=Fl;Me.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Mi(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return zi(e,t,r,!1,n)};Me.version="18.3.1-next-f1338f8080-20240426";function Wh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wh)}catch(e){console.error(e)}}Wh(),Wc.exports=Me;var kg=Wc.exports,Gh,ic=kg;Gh=ic.createRoot,ic.hydrateRoot;class cs{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const jg=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},fe={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:jg()},Dl=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},Sg=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=Dl(e);fe.publicKey=r.publicKey,fe.blockHeadless=r.blockHeadless,fe.storageProvider=r.storageProvider,fe.blockList=r.blockList,fe.limitRate=r.limitRate,fe.origin=r.origin||t},qh=async(e,t,r={})=>{const n=await fetch(fe.origin+e,{method:"POST",headers:r,body:t}),s=await n.text(),i=new cs(n.status,s);if(n.ok)return i;throw i},Kh=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},bg=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Qh=e=>e.webdriver||!e.languages||e.languages.length===0,Jh=()=>new cs(451,"Unavailable For Headless Browser"),Eg=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},Ng=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},Cg=(e,t)=>e instanceof FormData?e.get(t):e[t],Yh=(e,t)=>{if(Ng(e))return!1;Eg(e.list,e.watchVariable);const r=Cg(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},Xh=()=>new cs(403,"Forbidden"),Pg=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},Tg=async(e,t,r)=>{const n=Number(await r.get(e)||0);return t-Date.now()+n},Zh=async(e,t,r)=>{if(!t.throttle||!r)return!1;Pg(t.throttle,t.id);const n=t.id||e;return await Tg(n,t.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},ef=()=>new cs(429,"Too Many Requests"),Fg=async(e,t,r,n)=>{const s=Dl(n),i=s.publicKey||fe.publicKey,o=s.blockHeadless||fe.blockHeadless,l=s.storageProvider||fe.storageProvider,u={...fe.blockList,...s.blockList},c={...fe.limitRate,...s.limitRate};return o&&Qh(navigator)?Promise.reject(Jh()):(Kh(i,e,t),bg(r),r&&Yh(u,r)?Promise.reject(Xh()):await Zh(location.pathname,c,l)?Promise.reject(ef()):qh("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},Rg=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Og=e=>typeof e=="string"?document.querySelector(e):e,Lg=async(e,t,r,n)=>{const s=Dl(n),i=s.publicKey||fe.publicKey,o=s.blockHeadless||fe.blockHeadless,l=fe.storageProvider||s.storageProvider,u={...fe.blockList,...s.blockList},c={...fe.limitRate,...s.limitRate};if(o&&Qh(navigator))return Promise.reject(Jh());const d=Og(r);Kh(i,e,t),Rg(d);const h=new FormData(d);return Yh(u,h)?Promise.reject(Xh()):await Zh(location.pathname,c,l)?Promise.reject(ef()):(h.append("lib_version","4.4.1"),h.append("service_id",e),h.append("template_id",t),h.append("user_id",i),qh("/api/v1.0/email/send-form",h))},Bi={init:Sg,send:Fg,sendForm:Lg,EmailJSResponseStatus:cs};/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rs.apply(this,arguments)}var Dt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dt||(Dt={}));const oc="popstate";function Ag(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Fa("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:yi(s)}return Ug(t,r,null,e)}function ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $g(){return Math.random().toString(36).substr(2,8)}function ac(e,t){return{usr:e.state,key:e.key,idx:t}}function Fa(e,t,r,n){return r===void 0&&(r=null),rs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?on(t):t,{state:r,key:t&&t.key||n||$g()})}function yi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function on(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ug(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Dt.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(rs({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Dt.Pop;let w=d(),m=w==null?null:w-c;c=w,u&&u({action:l,location:_.location,delta:m})}function p(w,m){l=Dt.Push;let f=Fa(_.location,w,m);c=d()+1;let g=ac(f,c),k=_.createHref(f);try{o.pushState(g,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(k)}i&&u&&u({action:l,location:_.location,delta:1})}function v(w,m){l=Dt.Replace;let f=Fa(_.location,w,m);c=d();let g=ac(f,c),k=_.createHref(f);o.replaceState(g,"",k),i&&u&&u({action:l,location:_.location,delta:0})}function x(w){let m=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof w=="string"?w:yi(w);return f=f.replace(/ $/,"%20"),ee(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let _={get action(){return l},get location(){return e(s,o)},listen(w){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(oc,h),u=w,()=>{s.removeEventListener(oc,h),u=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let m=x(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:v,go(w){return o.go(w)}};return _}var lc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lc||(lc={}));function Ig(e,t,r){return r===void 0&&(r="/"),Dg(e,t,r,!1)}function Dg(e,t,r,n){let s=typeof t=="string"?on(t):t,i=Zr(s.pathname||"/",r);if(i==null)return null;let o=rf(e);Mg(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=Yg(i);l=Qg(o[u],c,n)}return l}function rf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(ee(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Kt([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(ee(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),rf(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:qg(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of nf(i.path))s(i,o,u)}),t}function nf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=nf(n.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function Mg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Kg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zg=/^:[\w-]+$/,Bg=3,Vg=2,Hg=1,Wg=10,Gg=-2,uc=e=>e==="*";function qg(e,t){let r=e.split("/"),n=r.length;return r.some(uc)&&(n+=Gg),t&&(n+=Vg),r.filter(s=>!uc(s)).reduce((s,i)=>s+(zg.test(i)?Bg:i===""?Hg:Wg),n)}function Kg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Qg(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=xi({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=xi({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Kt([i,h.pathname]),pathnameBase:t0(Kt([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Kt([i,h.pathnameBase]))}return o}function xi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Jg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:p,isOptional:v}=d;if(p==="*"){let _=l[h]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const x=l[h];return v&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Jg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),tf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Yg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Xg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?on(e):e;return{pathname:r?r.startsWith("/")?r:Zg(r,t):t,search:r0(n),hash:n0(s)}}function Zg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Fo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function e0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ml(e,t){let r=e0(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zl(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=on(e):(s=rs({},e),ee(!s.pathname||!s.pathname.includes("?"),Fo("?","pathname","search",s)),ee(!s.pathname||!s.pathname.includes("#"),Fo("#","pathname","hash",s)),ee(!s.search||!s.search.includes("#"),Fo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let u=Xg(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Kt=e=>e.join("/").replace(/\/\/+/g,"/"),t0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),r0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,n0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function s0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sf=["post","put","patch","delete"];new Set(sf);const i0=["get",...sf];new Set(i0);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(this,arguments)}const Vi=y.createContext(null),of=y.createContext(null),Nt=y.createContext(null),Hi=y.createContext(null),mt=y.createContext({outlet:null,matches:[],isDataRoute:!1}),af=y.createContext(null);function o0(e,t){let{relative:r}=t===void 0?{}:t;an()||ee(!1);let{basename:n,navigator:s}=y.useContext(Nt),{hash:i,pathname:o,search:l}=Wi(e,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:Kt([n,o])),s.createHref({pathname:u,search:l,hash:i})}function an(){return y.useContext(Hi)!=null}function er(){return an()||ee(!1),y.useContext(Hi).location}function lf(e){y.useContext(Nt).static||y.useLayoutEffect(e)}function tr(){let{isDataRoute:e}=y.useContext(mt);return e?k0():a0()}function a0(){an()||ee(!1);let e=y.useContext(Vi),{basename:t,future:r,navigator:n}=y.useContext(Nt),{matches:s}=y.useContext(mt),{pathname:i}=er(),o=JSON.stringify(Ml(s,r.v7_relativeSplatPath)),l=y.useRef(!1);return lf(()=>{l.current=!0}),y.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let h=zl(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Kt([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}const l0=y.createContext(null);function u0(e){let t=y.useContext(mt).outlet;return t&&y.createElement(l0.Provider,{value:e},t)}function c0(){let{matches:e}=y.useContext(mt),t=e[e.length-1];return t?t.params:{}}function Wi(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(Nt),{matches:s}=y.useContext(mt),{pathname:i}=er(),o=JSON.stringify(Ml(s,n.v7_relativeSplatPath));return y.useMemo(()=>zl(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function d0(e,t){return h0(e,t)}function h0(e,t,r,n){an()||ee(!1);let{navigator:s}=y.useContext(Nt),{matches:i}=y.useContext(mt),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=er(),d;if(t){var h;let w=typeof t=="string"?on(t):t;u==="/"||(h=w.pathname)!=null&&h.startsWith(u)||ee(!1),d=w}else d=c;let p=d.pathname||"/",v=p;if(u!=="/"){let w=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=Ig(e,{pathname:v}),_=v0(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Kt([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Kt([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&_?y.createElement(Hi.Provider,{value:{location:ns({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Dt.Pop}},_):_}function f0(){let e=_0(),t=s0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:s},r):null,null)}const p0=y.createElement(f0,null);class m0 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(mt.Provider,{value:this.props.routeContext},y.createElement(af.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g0(e){let{routeContext:t,match:r,children:n}=e,s=y.useContext(Vi);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(mt.Provider,{value:t},n)}function v0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ee(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:v}=r,x=h.route.loader&&p[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let v,x=!1,_=null,w=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,_=h.route.errorElement||p0,u&&(c<0&&p===0?(x=!0,w=null):c===p&&(x=!0,w=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,p+1)),f=()=>{let g;return v?g=_:x?g=w:h.route.Component?g=y.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,y.createElement(g0,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(m0,{location:r.location,revalidation:r.revalidation,component:_,error:v,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var uf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uf||{}),wi=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(wi||{});function y0(e){let t=y.useContext(Vi);return t||ee(!1),t}function x0(e){let t=y.useContext(of);return t||ee(!1),t}function w0(e){let t=y.useContext(mt);return t||ee(!1),t}function cf(e){let t=w0(),r=t.matches[t.matches.length-1];return r.route.id||ee(!1),r.route.id}function _0(){var e;let t=y.useContext(af),r=x0(wi.UseRouteError),n=cf(wi.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function k0(){let{router:e}=y0(uf.UseNavigateStable),t=cf(wi.UseNavigateStable),r=y.useRef(!1);return lf(()=>{r.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ns({fromRouteId:t},i)))},[e,t])}const cc={};function j0(e,t){cc[t]||(cc[t]=!0,console.warn(t))}const dc=(e,t,r)=>j0(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function S0(e,t){(e==null?void 0:e.v7_startTransition)===void 0&&dc("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(e==null?void 0:e.v7_relativeSplatPath)===void 0&&!t&&dc("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function b0(e){let{to:t,replace:r,state:n,relative:s}=e;an()||ee(!1);let{future:i,static:o}=y.useContext(Nt),{matches:l}=y.useContext(mt),{pathname:u}=er(),c=tr(),d=zl(t,Ml(l,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(d);return y.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function E0(e){return u0(e.context)}function Ze(e){ee(!1)}function N0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Dt.Pop,navigator:i,static:o=!1,future:l}=e;an()&&ee(!1);let u=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:u,navigator:i,static:o,future:ns({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof n=="string"&&(n=on(n));let{pathname:d="/",search:h="",hash:p="",state:v=null,key:x="default"}=n,_=y.useMemo(()=>{let w=Zr(d,u);return w==null?null:{location:{pathname:w,search:h,hash:p,state:v,key:x},navigationType:s}},[u,d,h,p,v,x,s]);return _==null?null:y.createElement(Nt.Provider,{value:c},y.createElement(Hi.Provider,{children:r,value:_}))}function C0(e){let{children:t,location:r}=e;return d0(Ra(t),r)}new Promise(()=>{});function Ra(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,s)=>{if(!y.isValidElement(n))return;let i=[...t,s];if(n.type===y.Fragment){r.push.apply(r,Ra(n.props.children,i));return}n.type!==Ze&&ee(!1),!n.props.index||!n.props.children||ee(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ra(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(this,arguments)}function df(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function P0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T0(e,t){return e.button===0&&(!t||t==="_self")&&!P0(e)}const F0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],R0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],O0="6";try{window.__reactRouterVersion=O0}catch{}const L0=y.createContext({isTransitioning:!1}),A0="startTransition",hc=dp[A0];function $0(e){let{basename:t,children:r,future:n,window:s}=e,i=y.useRef();i.current==null&&(i.current=Ag({window:s,v5Compat:!0}));let o=i.current,[l,u]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=y.useCallback(h=>{c&&hc?hc(()=>u(h)):u(h)},[u,c]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>S0(n),[n]),y.createElement(N0,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const U0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=y.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:h}=t,p=df(t,F0),{basename:v}=y.useContext(Nt),x,_=!1;if(typeof c=="string"&&I0.test(c)&&(x=c,U0))try{let g=new URL(window.location.href),k=c.startsWith("//")?new URL(g.protocol+c):new URL(c),j=Zr(k.pathname,v);k.origin===g.origin&&j!=null?c=j+k.search+k.hash:_=!0}catch{}let w=o0(c,{relative:s}),m=M0(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:h});function f(g){n&&n(g),g.defaultPrevented||m(g)}return y.createElement("a",_i({},p,{href:x||w,onClick:_||i?n:f,ref:r,target:u}))}),Oa=y.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:c,children:d}=t,h=df(t,R0),p=Wi(u,{relative:h.relative}),v=er(),x=y.useContext(of),{navigator:_,basename:w}=y.useContext(Nt),m=x!=null&&z0(p)&&c===!0,f=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,g=v.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(g=g.toLowerCase(),k=k?k.toLowerCase():null,f=f.toLowerCase()),k&&w&&(k=Zr(k,w)||k);const j=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let N=g===f||!o&&g.startsWith(f)&&g.charAt(j)==="/",S=k!=null&&(k===f||!o&&k.startsWith(f)&&k.charAt(f.length)==="/"),E={isActive:N,isPending:S,isTransitioning:m},P=N?n:void 0,F;typeof i=="function"?F=i(E):F=[i,N?"active":null,S?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let ie=typeof l=="function"?l(E):l;return y.createElement(Ue,_i({},h,{"aria-current":P,className:F,ref:r,style:ie,to:u,viewTransition:c}),typeof d=="function"?d(E):d)});var La;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(La||(La={}));var fc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fc||(fc={}));function D0(e){let t=y.useContext(Vi);return t||ee(!1),t}function M0(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,u=tr(),c=er(),d=Wi(e,{relative:o});return y.useCallback(h=>{if(T0(h,r)){h.preventDefault();let p=n!==void 0?n:yi(c)===yi(d);u(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,u,d,n,s,r,e,i,o,l])}function z0(e,t){t===void 0&&(t={});let r=y.useContext(L0);r==null&&ee(!1);let{basename:n}=D0(La.useViewTransitionState),s=Wi(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Zr(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Zr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return xi(s.pathname,o)!=null||xi(s.pathname,i)!=null}const B0="modulepreload",V0=function(e){return"/"+e},pc={},en=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=V0(u),u in pc)return;pc[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":B0,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},H0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>en(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Bl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class W0 extends Bl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class G0 extends Bl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class q0 extends Bl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Aa;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Aa||(Aa={}));var K0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class Q0{constructor(t,{headers:r={},customFetch:n,region:s=Aa.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=H0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return K0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(l["x-region"]=u);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(x=>{throw new W0(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new G0(d);if(!d.ok)throw new q0(d);let p=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield d.json():p==="application/octet-stream"?v=yield d.blob():p==="text/event-stream"?v=d:p==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var Ce={},Vl={},Gi={},ds={},qi={},Ki={},J0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tn=J0();const Y0=tn.fetch,hf=tn.fetch.bind(tn),ff=tn.Headers,X0=tn.Request,Z0=tn.Response,ln=Object.freeze(Object.defineProperty({__proto__:null,Headers:ff,Request:X0,Response:Z0,default:hf,fetch:Y0},Symbol.toStringTag,{value:"Module"})),ev=Qf(ln);var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});let tv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Qi.default=tv;var pf=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ki,"__esModule",{value:!0});const rv=pf(ev),nv=pf(Qi);let sv=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=rv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,u;let c=null,d=null,h=null,p=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await i.text();try{c=JSON.parse(_),Array.isArray(c)&&i.status===404&&(d=[],c=null,p=200,v="OK")}catch{i.status===404&&_===""?(p=204,v="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,p=200,v="OK"),c&&this.shouldThrowOnError)throw new nv.default(c)}return{error:c,data:d,count:h,status:p,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}};Ki.default=sv;var iv=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qi,"__esModule",{value:!0});const ov=iv(Ki);let av=class extends ov.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};qi.default=av;var lv=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ds,"__esModule",{value:!0});const uv=lv(qi);let cv=class extends uv.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ds.default=cv;var dv=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gi,"__esModule",{value:!0});const yn=dv(ds);let hv=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new yn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new yn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new yn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Gi.default=hv;var Ji={},Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.version=void 0;Yi.version="0.0.0-automated";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.DEFAULT_HEADERS=void 0;const fv=Yi;Ji.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fv.version}`};var mf=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vl,"__esModule",{value:!0});const pv=mf(Gi),mv=mf(ds),gv=Ji;let vv=class gf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},gv.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new pv.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new gf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new mv.default({method:o,url:l,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Vl.default=vv;var un=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const vf=un(Vl);Ce.PostgrestClient=vf.default;const yf=un(Gi);Ce.PostgrestQueryBuilder=yf.default;const xf=un(ds);Ce.PostgrestFilterBuilder=xf.default;const wf=un(qi);Ce.PostgrestTransformBuilder=wf.default;const _f=un(Ki);Ce.PostgrestBuilder=_f.default;const kf=un(Qi);Ce.PostgrestError=kf.default;var yv=Ce.default={PostgrestClient:vf.default,PostgrestQueryBuilder:yf.default,PostgrestFilterBuilder:xf.default,PostgrestTransformBuilder:wf.default,PostgrestBuilder:_f.default,PostgrestError:kf.default};const{PostgrestClient:xv,PostgrestQueryBuilder:fw,PostgrestFilterBuilder:pw,PostgrestTransformBuilder:mw,PostgrestBuilder:gw,PostgrestError:vw}=yv,wv="2.11.2",_v={"X-Client-Info":`realtime-js/${wv}`},kv="1.0.0",jf=1e4,jv=1e3;var Wr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wr||(Wr={}));var Le;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Le||(Le={}));var rt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rt||(rt={}));var $a;(function(e){e.websocket="websocket"})($a||($a={}));var ar;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ar||(ar={}));class Sv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const u=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class Sf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(G||(G={}));const mc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=bv(o,e,t,s),i),{})},bv=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?bf(i,o):Ua(o)},bf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Pv(t,r)}switch(e){case G.bool:return Ev(t);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return Nv(t);case G.json:case G.jsonb:return Cv(t);case G.timestamp:return Tv(t);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return Ua(t);default:return Ua(t)}},Ua=e=>e,Ev=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Nv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Cv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Pv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>bf(t,l))}return e},Tv=e=>typeof e=="string"?e.replace(" ","T"):e,Ef=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ro{constructor(t,r,n={},s=jf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gc||(gc={}));class $n{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$n.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=$n.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=$n.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const p=d.map(w=>w.presence_ref),v=h.map(w=>w.presence_ref),x=d.filter(w=>v.indexOf(w.presence_ref)<0),_=h.filter(w=>p.indexOf(w.presence_ref)<0);x.length>0&&(l[c]=x),_.length>0&&(u[c]=_)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const h=t[l].map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0);t[l].unshift(...p)}n(l,d,u)}),this.map(o,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vc||(vc={}));var yc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yc||(yc={}));var vt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vt||(vt={}));class Hl{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ro(this,rt.join,this.params,this.timeout),this.rejoinTimer=new Sf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new $n(this),this.broadcastEndpointURL=Ef(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(vt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(vt.CLOSED));const u={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(vt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,x=[];for(let _=0;_<v;_++){const w=p[_],{filter:{event:m,schema:f,table:g,filter:k}}=w,j=d&&d[_];if(j&&j.event===m&&j.schema===f&&j.table===g&&j.filter===k)x.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),t==null||t(vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(vt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Le.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Ro(this,rt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ro(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=rt;if(n&&[l,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,_,w;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(_=v.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(v=>v.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var x,_,w,m,f,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const k=v.id,j=(x=v.filter)===null||x===void 0?void 0:x.event;return k&&((_=r.ids)===null||_===void 0?void 0:_.includes(k))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const k=(f=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return k==="*"||k===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:_,table:w,commit_timestamp:m,type:f,errors:g}=x;p=Object.assign(Object.assign({},{schema:_,table:w,commit_timestamp:m,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(x))}v.callback(p,n)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Hl.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rt.close,{},t)}_onError(t){this._on(rt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=mc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=mc(t.columns,t.old_record)),r}}const Fv=()=>{},Rv=typeof WebSocket<"u",Ov=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lv{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=_v,this.params={},this.timeout=jf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Fv,this.conn=null,this.sendBuffer=[],this.serializer=new Sv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>en(async()=>{const{default:u}=await Promise.resolve().then(()=>ln);return{default:u}},void 0).then(({default:u})=>u(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${$a.websocket}`,this.httpEndpoint=Ef(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Sf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Rv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Av(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),en(async()=>{const{default:t}=await import("./browser-BdDOd01A.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kv}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wr.connecting:return ar.Connecting;case Wr.open:return ar.Open;case Wr.closing:return ar.Closing;default:return ar.Closed}}isConnected(){return this.connectionState()===ar.Open}channel(t,r={config:{}}){const n=new Hl(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(rt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(jv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(rt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Ov],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Av{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Wr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Wl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $v extends Wl{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ia extends Wl{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Uv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const Nf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>en(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Iv=()=>Uv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield en(()=>Promise.resolve().then(()=>ln),void 0)).Response:Response}),Da=e=>{if(Array.isArray(e))return e.map(r=>Da(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Da(n)}),t};var _r=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const Oo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dv=(e,t,r)=>_r(void 0,void 0,void 0,function*(){const n=yield Iv();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new $v(Oo(s),e.status||500))}).catch(s=>{t(new Ia(Oo(s),s))}):t(new Ia(Oo(e),e))}),Mv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function hs(e,t,r,n,s,i){return _r(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Mv(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>Dv(u,l,n))})})}function ki(e,t,r,n){return _r(this,void 0,void 0,function*(){return hs(e,"GET",t,r,n)})}function Ot(e,t,r,n,s){return _r(this,void 0,void 0,function*(){return hs(e,"POST",t,n,s,r)})}function zv(e,t,r,n,s){return _r(this,void 0,void 0,function*(){return hs(e,"PUT",t,n,s,r)})}function Bv(e,t,r,n){return _r(this,void 0,void 0,function*(){return hs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Cf(e,t,r,n,s){return _r(this,void 0,void 0,function*(){return hs(e,"DELETE",t,n,s,r)})}var Ee=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const Vv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hv{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Nf(s)}uploadOrUpdate(t,r,n,s){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},xc),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:xc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:d}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(u){if(ue(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return Ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ot(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Wl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield Ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ee(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ot(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ee(this,void 0,void 0,function*(){try{const s=yield Ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}download(t,r){return Ee(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ki(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ue(l))return{data:null,error:l};throw l}})}info(t){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ki(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Da(n),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}exists(t){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Bv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ue(n)&&n instanceof Ia){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield Cf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ee(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Vv),r),{prefix:t||""});return{data:yield Ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Wv="2.7.1",Gv={"X-Client-Info":`storage-js/${Wv}`};var Sr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class qv{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Gv),r),this.fetch=Nf(n)}listBuckets(){return Sr(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ue(t))return{data:null,error:t};throw t}})}getBucket(t){return Sr(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Sr(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Sr(this,void 0,void 0,function*(){try{return{data:yield zv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Sr(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Sr(this,void 0,void 0,function*(){try{return{data:yield Cf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}}class Kv extends qv{constructor(t,r={},n){super(t,r,n)}from(t){return new Hv(this.url,this.headers,t,this.fetch)}}const Qv="2.48.1";let En="";typeof Deno<"u"?En="deno":typeof document<"u"?En="web":typeof navigator<"u"&&navigator.product==="ReactNative"?En="react-native":En="node";const Jv={"X-Client-Info":`supabase-js-${En}/${Qv}`},Yv={headers:Jv},Xv={schema:"public"},Zv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ey={};var ty=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const ry=e=>{let t;return e?t=e:typeof fetch>"u"?t=hf:t=fetch,(...r)=>t(...r)},ny=()=>typeof Headers>"u"?ff:Headers,sy=(e,t,r)=>{const n=ry(r),s=ny();return(i,o)=>ty(void 0,void 0,void 0,function*(){var l;const u=(l=yield t())!==null&&l!==void 0?l:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var iy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};function oy(e){return e.replace(/\/$/,"")}function ay(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:u,global:c}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>iy(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Pf="2.67.3",ly="http://localhost:9999",uy="supabase.auth.token",cy={"X-Client-Info":`gotrue-js/${Pf}`},wc=10,Ma="X-Supabase-Api-Version",Tf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function dy(e){return Math.round(Date.now()/1e3)+e}function hy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ut=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},Un=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function fy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Ff=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>en(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},py=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Rf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ts=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Fs=async(e,t)=>{await e.removeItem(t)};function my(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,o,l,u,c,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),n=o<<2|l>>4,s=(l&15)<<4|u>>2,i=(u&3)<<6|c,r=r+String.fromCharCode(n),u!=64&&s!=0&&(r=r+String.fromCharCode(s)),c!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class Xi{constructor(){this.promise=new Xi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Xi.promiseConstructor=Promise;function _c(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(my(n))}async function gy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function yy(e){return("0"+e.toString(16)).substr(-2)}function xy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,yy).join("")}async function wy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function _y(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ky(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await wy(e);return _y(r)}async function br(e,t,r=!1){const n=xy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Rf(e,`${t}-code-verifier`,s);const i=await ky(n);return[i,n===i?"plain":"s256"]}const jy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sy(e){const t=e.headers.get(Ma);if(!t||!t.match(jy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Gl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class by extends Gl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ey(e){return D(e)&&e.name==="AuthApiError"}class Of extends Gl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class kr extends Gl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Pt extends kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ny(e){return D(e)&&e.name==="AuthSessionMissingError"}class Lo extends kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rs extends kr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Os extends kr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cy(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}class kc extends kr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class za extends kr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ao(e){return D(e)&&e.name==="AuthRetryableFetchError"}class jc extends kr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var Py=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const or=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ty=[502,503,504];async function Sc(e){var t;if(!py(e))throw new za(or(e),0);if(Ty.includes(e.status))throw new za(or(e),e.status);let r;try{r=await e.json()}catch(i){throw new Of(or(i),i)}let n;const s=Sy(e);if(s&&s.getTime()>=Tf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new jc(or(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Pt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new jc(or(r),e.status,r.weak_password.reasons);throw new by(or(r),e.status||500,n)}const Fy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ma]||(i[Ma]=Tf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Ry(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Ry(e,t,r,n,s,i){const o=Fy(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(u){throw console.error(u),new za(or(u),0)}if(l.ok||await Sc(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await Sc(u)}}function Tt(e){var t;let r=null;$y(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=dy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function bc(e){const t=Tt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $t(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Oy(e){return{data:e,error:null}}function Ly(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Py(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function Ay(e){return e}function $y(e){return e.access_token&&e.refresh_token&&e.expires_in}var Uy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Iy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ff(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$t})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Uy(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ly,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(D(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$t})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ay});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(x=>{const _=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);c[`${w}Page`]=_}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$t})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:$t})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:$t})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}const Dy={getItem:e=>Un()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Un()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Un()&&globalThis.localStorage.removeItem(e)}};function Ec(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function My(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Er={debug:!!(globalThis&&Un()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zy extends Lf{}async function By(e,t,r){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Er.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}My();const Vy={url:ly,storageKey:uy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},xn=30*1e3,Nc=3;async function Cc(e,t,r){return await r()}class ss{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ss.nextInstanceID,ss.nextInstanceID+=1,this.instanceID>0&&ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Vy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Iy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ff(s.fetch),this.lock=s.lock||Cc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ut()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=By:this.lock=Cc,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Un()?this.storage=Dy:(this.memoryStorage={},this.storage=Ec(this.memoryStorage)):(this.memoryStorage={},this.storage=Ec(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Pf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=fy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ut()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Cy(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return D(r)?{error:r}:{error:new Of("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Tt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await br(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:x},xform:Tt})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Tt})}else throw new Rs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bc})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bc})}else throw new Rs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Lo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Ts(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Tt});if(await Fs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Lo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Tt}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Lo}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await br(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Rs("You must provide either an email or phone number.")}catch(l){if(D(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Tt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await br(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Oy})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Pt;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(D(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Rs("You must provide either an email or phone number and a type")}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$t}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:$t})})}catch(r){if(D(r))return Ny(r)&&(await this._removeSession(),await Fs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Pt;const o=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await br(this.storage,this.storageKey));const{data:c,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:$t});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return _c(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const o=_c(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(D(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Pt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ut())throw new Os("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Os(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Os("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new kc("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!o||!c)throw new Os("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;u&&(p=parseInt(u));const v=p-d;v*1e3<=xn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const x=p-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,d);const{data:_,error:w}=await this._getUser(i);if(w)throw w;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(D(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ts(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Ey(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Fs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=hy(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await br(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,u,c,d;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ut()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(D(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await vy(async s=>(s>0&&await gy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ao(i)&&Date.now()+o-n<xn})}catch(n){if(this._debug(r,"error",n),D(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ut()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ts(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+wc;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${wc}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Ao(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Xi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),D(i)){const o={session:null,error:i};return Ao(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Rf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Fs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/xn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xn}ms, refresh threshold is ${Nc} ticks`),s<=Nc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Lf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await br(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}}ss.nextInstanceID=0;const Hy=ss;class Wy extends Hy{constructor(t){super(t)}}var Gy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class qy{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=oy(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Xv,realtime:ey,auth:Object.assign(Object.assign({},Zv),{storageKey:u}),global:Yv},d=ay(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=sy(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new xv(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Q0(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Kv(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Gy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wy({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Lv(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ky=(e,t,r)=>new qy(e,t,r),Qy="https://jtltfipzywkiiejzjeps.supabase.co",Jy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp0bHRmaXB6eXdraWllanpqZXBzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkzNTcyOTEsImV4cCI6MjA1NDkzMzI5MX0.MDmhiT0lTHQKZasU3KK0eoj7FgGXxgew9cX5jFYMDJ8",L=Ky(Qy,Jy,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit",storage:window.localStorage},global:{headers:{"x-client-info":"gamefolio-web"}},realtime:{params:{eventsPerSecond:1}}}),Af="service_3f55bob",Yy="template_j1jbhgf",Xy="template_reset_password",Zy="FtrYgNxdMshCmw506";Bi.init({publicKey:Zy});async function $f(e,t){try{const r=await Bi.send(Af,Yy,{to_email:e,confirmation_link:t,subject:"Welcome to Gamefolio - Please Verify Your Email",user_email:e,site_name:"Gamefolio",support_email:"support@gamefolio.com",company_name:"Gamefolio",company_address:"Gaming Street 123, Esports City",verification_message:`
          Welcome to Gamefolio! We're excited to have you join our gaming community.
          
          To start sharing your gaming moments, please verify your email address by clicking the button below.
          
          Important: You won't be able to upload clips or interact with other users until your email is verified.
        `,verification_button_text:"Verify Email Address",verification_note:"This link will expire in 24 hours. If you did not create this account, please ignore this email.",logo_url:"https://i.imgur.com/YourLogoURL.png",primary_color:"#9FE64F",background_color:"#000000",text_color:"#FFFFFF",accent_color:"#8FD63F",social_links:{twitter:"https://twitter.com/gamefolio",discord:"https://discord.gg/gamefolio",twitch:"https://twitch.tv/gamefolio"}});if(r.status===200)return r;throw new Error("Failed to send email")}catch(r){throw console.error("Failed to send confirmation email:",r),r}}async function ex(e){try{const t=await Bi.send(Af,Xy,{to_email:e,subject:"Reset Your Gamefolio Password",user_email:e,site_name:"Gamefolio",support_email:"support@gamefolio.com",company_name:"Gamefolio",company_address:"Gaming Street 123, Esports City",reset_message:`
          We received a request to reset your password. Click the button below to choose a new password.
          
          If you didn't request a password reset, you can safely ignore this email. Your password will not be changed.
        `,reset_button_text:"Reset Password",reset_note:"This link will expire in 24 hours for security reasons.",logo_url:"https://i.imgur.com/YourLogoURL.png",primary_color:"#9FE64F",background_color:"#000000",text_color:"#FFFFFF",accent_color:"#8FD63F"});if(t.status===200)return t;throw new Error("Failed to send password reset email")}catch(t){throw console.error("Failed to send password reset email:",t),t}}function Zi(e,t,r){console.error(`Auth Error (${e}):`,{message:t.message,code:t.code,status:t.status,details:r,timestamp:new Date().toISOString()})}async function tx(e,t){const r=`${window.location.origin}/`;try{const{data:n,error:s}=await L.auth.signUp({email:e,password:t,options:{emailRedirectTo:r,data:{email_confirmed:!1}}});if(s)throw s.message.includes("already registered")?new Error("An account with this email already exists"):s;if(!(n!=null&&n.user))throw new Error("Signup failed. Please try again.");return await $f(e,r),{data:n,emailConfirmationRequired:!0}}catch(n){throw n.status===429?new Error("Too many requests. Please wait a few minutes and try again."):(Zi("signup",n,{email:e,redirectUrl:r}),new Error(n.message||"Failed to create account. Please try again."))}}async function rx(e,t){try{if(e.includes("@")){const{data:n,error:s}=await L.auth.signInWithPassword({email:e,password:t});if(!s)return n;if(s.message!=="Invalid login credentials")throw s}else{const{data:n,error:s}=await L.from("users_with_roles").select("id, email").eq("username",e).single();if(s)throw s.code==="PGRST116"?new Error("Invalid username or password"):s;const{data:i,error:o}=await L.auth.signInWithPassword({email:n.email,password:t});if(o)throw o.message==="Invalid login credentials"?new Error("Invalid username or password"):o.message==="Email not confirmed"?new Error("Please verify your email before signing in"):o;return i}throw new Error("Invalid email or password")}catch(r){throw r.status===429?new Error("Too many requests. Please wait a few minutes and try again."):(Zi("signin",r,{identifier:e}),new Error(r.message||"Failed to sign in. Please try again."))}}async function nx(){try{const{error:e}=await L.auth.signOut();if(e)throw e}catch(e){throw Zi("signout",e),new Error("Failed to sign out. Please try again.")}}async function sx(e){try{const{error:t}=await L.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(t)throw t;return await ex(e),{success:!0}}catch(t){throw t.status===429?new Error("Too many requests. Please wait a few minutes and try again."):(Zi("reset-password",t,{email:e}),new Error(t.message||"Failed to send password reset email. Please try again."))}}function ix(e){return L.auth.onAuthStateChange((t,r)=>{e(r)})}const Uf=y.createContext({session:null,loading:!0});function ox({children:e}){const[t,r]=y.useState(null),[n,s]=y.useState(!0),i=!1;return y.useEffect(()=>{const{data:{subscription:o}}=ix(async l=>{r(l),s(!1)});return()=>{o.unsubscribe()}},[]),y.useEffect(()=>{async function o(){}o()},[i,t]),a.jsx(Uf.Provider,{value:{session:t,loading:n},children:e})}function rr(){return y.useContext(Uf)}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ax={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),$=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...c},d)=>y.createElement("svg",{ref:d,...ax,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${lx(e)}`,l].join(" "),...c},[...t.map(([h,p])=>y.createElement(h,p)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=$("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=$("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=$("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=$("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=$("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=$("BellDot",[["path",{d:"M19.4 14.9C20.2 16.4 21 17 21 17H3s3-2 3-9c0-3.3 2.7-6 6-6 .7 0 1.3.1 1.9.3",key:"xcehk"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["circle",{cx:"18",cy:"8",r:"3",key:"1g0gzu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=$("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=$("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=$("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=$("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=$("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=$("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=$("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=$("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=$("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=$("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=$("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=$("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=$("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=$("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=$("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=$("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=$("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=$("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=$("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=$("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=$("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=$("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=$("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=$("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=$("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=$("Stamp",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z",key:"1sy9ra"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13",key:"cnxgux"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=$("TowerControl",[["path",{d:"M18.2 12.27 20 6H4l1.8 6.27a1 1 0 0 0 .95.73h10.5a1 1 0 0 0 .96-.73Z",key:"1pledb"}],["path",{d:"M8 13v9",key:"hmv0ci"}],["path",{d:"M16 22v-9",key:"ylnf1u"}],["path",{d:"m9 6 1 7",key:"dpdgam"}],["path",{d:"m15 6-1 7",key:"ls7zgu"}],["path",{d:"M12 6V2",key:"1pj48d"}],["path",{d:"M13 2h-2",key:"mj6ths"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=$("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=$("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=$("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=$("Twitch",[["path",{d:"M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7",key:"c0yzno"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=$("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=$("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=$("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=$("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=$("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=$("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=$("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=$("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Fc=[{colors:["9FE64F"],sides:1,texture:0},{colors:["9FE64F"],sides:2,texture:1},{colors:["9FE64F"],sides:3,texture:2},{colors:["9FE64F"],sides:1,texture:3},{colors:["9FE64F"],sides:2,texture:4},{colors:["9FE64F"],sides:3,texture:5},{colors:["9FE64F"],sides:1,texture:6},{colors:["9FE64F"],sides:2,texture:7},{colors:["9FE64F"],sides:3,texture:8},{colors:["9FE64F"],sides:1,texture:9},{colors:["9FE64F"],sides:2,texture:10},{colors:["9FE64F"],sides:3,texture:11}];function Rx(e){const r=e.split("").reduce((n,s)=>n+s.charCodeAt(0),0)%Fc.length;return Fc[r]}function Ox(e){const t=Rx(e);return`https://api.dicebear.com/7.x/bottts/svg?${new URLSearchParams({seed:e,backgroundColor:t.colors[0],primaryColor:"000000",sides:t.sides.toString(),texture:t.texture.toString()}).toString()}`}function Ql(e){return e.avatar_url||Ox(e.username)}const wn=new Map,In=[{id:"valorant",name:"Valorant"},{id:"csgo",name:"Counter-Strike 2"},{id:"apex",name:"Apex Legends"},{id:"fortnite",name:"Fortnite"},{id:"warzone",name:"Call of Duty: Warzone"},{id:"lol",name:"League of Legends"},{id:"dota2",name:"Dota 2"},{id:"overwatch2",name:"Overwatch 2"},{id:"minecraft",name:"Minecraft"},{id:"gtav",name:"Grand Theft Auto V"},{id:"elden-ring",name:"Elden Ring"},{id:"cyberpunk",name:"Cyberpunk 2077"},{id:"baldurs-gate-3",name:"Baldur's Gate 3"},{id:"starfield",name:"Starfield"},{id:"diablo4",name:"Diablo IV"},{id:"wow",name:"World of Warcraft"},{id:"destiny2",name:"Destiny 2"},{id:"r6siege",name:"Rainbow Six Siege"},{id:"fifa24",name:"FIFA 24"},{id:"nba2k24",name:"NBA 2K24"},{id:"rocket-league",name:"Rocket League"},{id:"roblox",name:"Roblox"},{id:"among-us",name:"Among Us"},{id:"genshin-impact",name:"Genshin Impact"},{id:"palworld",name:"Palworld"}],Lx="1prd13igz7pgbesbcr6kvj03ttlhj6",Ax="fdt04z82yfd64fnm57qmvgpa6n4xu6";async function Ha(e){try{const t=e.trim()?`https://api.twitch.tv/helix/search/categories?query=${encodeURIComponent(e)}`:"https://api.twitch.tv/helix/games/top?first=20",r=await fetch(t,{headers:{"Client-ID":Lx,Authorization:`Bearer ${Ax}`}});if(!r.ok)throw new Error(`Twitch API error: ${r.status} ${r.statusText}`);return(await r.json()).data.map(i=>{var o;return{id:i.id,name:i.name,cover:(o=i.box_art_url)==null?void 0:o.replace("{width}","400").replace("{height}","600")}})}catch(t){throw console.error("Error fetching games from Twitch:",t),t}}async function Wf(e){if(!e.trim())try{return await Ha("")}catch(r){return console.error("Error getting top games, using fallback:",r),In.slice(0,20)}const t=e.toLowerCase();if(wn.has(t))return wn.get(t)||[];try{try{const i=await Ha(e);if(i.length>0)return wn.set(t,i),i}catch(i){console.error("Twitch API search failed, falling back to database:",i)}const{data:r,error:n}=await L.from("games").select("*").ilike("name",`%${e}%`).limit(20);if(!n&&r&&r.length>0)return wn.set(t,r),r;const s=In.filter(i=>i.name.toLowerCase().includes(e.toLowerCase()));return wn.set(t,s),s}catch(r){return console.error("Error searching games:",r),In.filter(s=>s.name.toLowerCase().includes(e.toLowerCase()))}}function $x(){return[...In]}async function Ux(e=20){try{return(await Ha("")).slice(0,e)}catch(t){return console.error("Error fetching top games:",t),In.slice(0,e)}}function Ix({onSelect:e,selectedGame:t}){const[r,n]=y.useState(t||""),[s,i]=y.useState([]),[o,l]=y.useState(!1),[u,c]=y.useState(!1),d=y.useRef(null);y.useEffect(()=>{const v=x=>{d.current&&!d.current.contains(x.target)&&c(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),y.useEffect(()=>{const x=setTimeout(async()=>{if(!r.trim()){i([]);return}l(!0);try{const _=await Wf(r);i(_)}catch(_){console.error("Error searching games:",_),i([])}finally{l(!1)}},300);return()=>clearTimeout(x)},[r]);const h=v=>{n(v.name),e(v.name),c(!1)},p=()=>{n(""),e(""),i([])};return a.jsxs("div",{ref:d,className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx(to,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",value:r,onChange:v=>{n(v.target.value),c(!0)},onFocus:()=>c(!0),placeholder:"Search for a game...",className:"w-full bg-gray-800 text-white pl-10 pr-10 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"}),r&&a.jsx("button",{onClick:p,className:"absolute right-3 top-2.5 text-gray-400 hover:text-white",children:a.jsx(pt,{className:"h-5 w-5"})})]}),u&&(r||o)&&a.jsx("div",{className:"absolute z-50 w-full mt-2 bg-gray-900 rounded-lg shadow-lg border border-gray-800 max-h-60 overflow-y-auto",children:o?a.jsx("div",{className:"p-4 text-center",children:a.jsx(xe,{className:"w-6 h-6 animate-spin text-[#9FE64F] mx-auto"})}):s.length>0?a.jsx("ul",{className:"py-2",children:s.map(v=>a.jsx("li",{children:a.jsx("button",{onClick:()=>h(v),className:"w-full px-4 py-2 text-left hover:bg-gray-800 text-white",children:v.name})},v.id))}):r?a.jsx("div",{className:"p-4 text-center text-gray-400",children:"No games found"}):null})]})}function Dx({onClose:e}){const[t,r]=y.useState(!1),[n,s]=y.useState(null),[i,o]=y.useState(""),[l,u]=y.useState(""),[c,d]=y.useState({feed:!0,gamefolio:!1}),[h,p]=y.useState(!1),[v,x]=y.useState(0),[_,w]=y.useState(null),[m,f]=y.useState([]),[g,k]=y.useState(0),[j,N]=y.useState(null),S=y.useRef(null),E=y.useRef(null),P=y.useRef(null),F=I=>{I.preventDefault(),I.stopPropagation(),I.type==="dragenter"||I.type==="dragover"?r(!0):I.type==="dragleave"&&r(!1)},ie=I=>{var A;I.preventDefault(),I.stopPropagation(),r(!1);const b=(A=I.dataTransfer.files)==null?void 0:A[0];b&&b.type.startsWith("video/")&&(s(b),R(b))},T=I=>{var A;const b=(A=I.target.files)==null?void 0:A[0];b&&b.type.startsWith("video/")&&(s(b),R(b))},R=async I=>{const b=document.createElement("video"),A=document.createElement("canvas"),U=A.getContext("2d");if(!U)return;b.src=URL.createObjectURL(I),await b.load(),await new Promise(Ye=>{b.onloadedmetadata=Ye}),A.width=b.videoWidth,A.height=b.videoHeight;const W=[b.duration*.25,b.duration*.5,b.duration*.75],J=[];for(const Ye of W){b.currentTime=Ye,await new Promise(at=>{b.onseeked=at}),U.drawImage(b,0,0,A.width,A.height);const be=await new Promise(at=>{A.toBlob(le=>at(le),"image/jpeg",.7)});J.push({url:URL.createObjectURL(be),blob:be,timestamp:Ye})}f(J),URL.revokeObjectURL(b.src)},V=I=>{var A;const b=(A=I.target.files)==null?void 0:A[0];b&&b.type.startsWith("image/")&&(N(b),k(-1))},Be=I=>{d(b=>{const A={...b,[I]:!b[I]};return!A.feed&&!A.gamefolio?b:A})},Oe=async I=>{if(I.preventDefault(),!(!n||!i||!l))try{p(!0),w(null),x(0);const{data:{user:b}}=await L.auth.getUser();if(!b)throw new Error("User not authenticated");const{data:A,error:U}=await L.from("user_profiles").select("username").eq("user_id",b.id).single();if(U)throw U;if(!A.username)throw new Error("Please set your username before uploading clips");const W=`${b.id}/${Date.now()}-${n.name}`,{error:J}=await L.storage.from("clips").upload(W,n,{contentType:n.type,cacheControl:"3600",onUploadProgress:le=>{const Ve=le.loaded/le.total*100;x(Ve)}});if(J)throw J;const{data:{publicUrl:Ye}}=L.storage.from("clips").getPublicUrl(W);let be=null;if(g===-1&&j){const le=`${b.id}/${Date.now()}-thumbnail.jpg`,{error:Ve}=await L.storage.from("clips").upload(le,j,{contentType:"image/jpeg",cacheControl:"3600"});if(Ve)throw Ve;const{data:{publicUrl:no}}=L.storage.from("clips").getPublicUrl(le);be=no}else if(g>=0&&m[g]){const le=`${b.id}/${Date.now()}-thumbnail.jpg`,{error:Ve}=await L.storage.from("clips").upload(le,m[g].blob,{contentType:"image/jpeg",cacheControl:"3600"});if(Ve)throw Ve;const{data:{publicUrl:no}}=L.storage.from("clips").getPublicUrl(le);be=no}const{error:at}=await L.from("clips").insert({user_id:b.id,title:i,game:l,video_url:Ye,thumbnail_url:be,visibility:c.feed?"public":"private"}).single();if(at)throw at;e()}catch(b){w(b instanceof Error?b.message:"Failed to upload clip")}finally{p(!1)}};return y.useEffect(()=>()=>{m.forEach(I=>URL.revokeObjectURL(I.url))},[m]),a.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-2xl w-full p-6 relative",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:h,children:a.jsx(pt,{className:"w-6 h-6"})}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Upload Clip"}),_&&a.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500",children:_}),a.jsxs("form",{onSubmit:Oe,className:"space-y-6",children:[a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center ${t?"border-[#9FE64F] bg-[#9FE64F]/10":"border-gray-600"}`,onDragEnter:F,onDragLeave:F,onDragOver:F,onDrop:ie,children:[n?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"aspect-video relative",children:a.jsx("video",{ref:E,src:URL.createObjectURL(n),className:"w-full h-full object-contain rounded",controls:!0,children:"Your browser does not support the video tag."})}),a.jsx("p",{className:"text-white",children:n.name}),a.jsx("button",{type:"button",onClick:()=>{s(null),f([]),E.current&&URL.revokeObjectURL(E.current.src)},className:"text-sm text-red-400 hover:text-red-300",disabled:h,children:"Remove"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx(Hf,{className:"w-12 h-12 mx-auto text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white mb-2",children:"Drag and drop your clip here, or"}),a.jsx("button",{type:"button",onClick:()=>{var I;return(I=S.current)==null?void 0:I.click()},className:"text-[#9FE64F] hover:text-[#8FD63F]",disabled:h,children:"browse files"})]}),a.jsx("p",{className:"text-sm text-gray-400",children:"Maximum file size: 500MB"})]}),a.jsx("input",{ref:S,type:"file",accept:"video/*",onChange:T,className:"hidden",disabled:h})]}),m.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"block text-sm font-medium text-white",children:"Choose Thumbnail"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:m.map((I,b)=>a.jsx("button",{type:"button",onClick:()=>k(b),className:`aspect-video relative rounded-lg overflow-hidden ${g===b?"ring-2 ring-[#9FE64F]":""}`,children:a.jsx("img",{src:I.url,alt:`Thumbnail option ${b+1}`,className:"w-full h-full object-cover"})},b))}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{type:"button",onClick:()=>{var I;return(I=P.current)==null?void 0:I.click()},className:`flex items-center space-x-2 px-4 py-2 rounded-lg ${g===-1?"bg-[#9FE64F] text-black":"bg-gray-800 text-gray-400 hover:text-white"}`,children:[a.jsx(xx,{className:"w-4 h-4"}),a.jsx("span",{children:"Upload Custom Thumbnail"})]}),j&&a.jsx("span",{className:"text-sm text-gray-400",children:j.name})]}),a.jsx("input",{ref:P,type:"file",accept:"image/*",onChange:V,className:"hidden"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-white mb-2",children:"Title"}),a.jsx("input",{id:"title",type:"text",value:i,onChange:I=>o(I.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",placeholder:"Enter a title for your clip",disabled:h})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"game",className:"block text-sm font-medium text-white mb-2",children:"Game"}),a.jsx(Ix,{onSelect:u,selectedGame:l})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Share to"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{type:"button",onClick:()=>Be("feed"),className:`p-4 rounded-lg border-2 transition-colors ${c.feed?"border-[#9FE64F] bg-[#9FE64F]/10":"border-gray-700 hover:border-[#9FE64F]"}`,children:[a.jsx(yx,{className:"w-6 h-6 mx-auto mb-2 text-[#9FE64F]"}),a.jsx("div",{className:"text-white font-medium",children:"Clips Feed"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Share with everyone"})]}),a.jsxs("button",{type:"button",onClick:()=>Be("gamefolio"),className:`p-4 rounded-lg border-2 transition-colors ${c.gamefolio?"border-[#9FE64F] bg-[#9FE64F]/10":"border-gray-700 hover:border-[#9FE64F]"}`,children:[a.jsx(Kl,{className:"w-6 h-6 mx-auto mb-2 text-[#9FE64F]"}),a.jsx("div",{className:"text-white font-medium",children:"My Gamefolio"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Add to your profile"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 rounded-lg text-white hover:bg-gray-800",disabled:h,children:"Cancel"}),a.jsx("button",{type:"submit",disabled:!n||!i||!l||h||!c.feed&&!c.gamefolio,className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:h?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-16 h-3 bg-black/20 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-black transition-all duration-300",style:{width:`${v}%`}})}),a.jsxs("span",{children:[Math.round(v),"%"]})]}):a.jsx("span",{children:"Upload"})})]})]})]})})}function Mx({onClose:e,onBack:t}){const[r,n]=y.useState(""),[s,i]=y.useState(!1),[o,l]=y.useState(null),[u,c]=y.useState(!1),d=async h=>{if(h.preventDefault(),!!r){i(!0),l(null);try{await sx(r),c(!0)}catch(p){l(p instanceof Error?p.message:"Failed to send reset email")}finally{i(!1)}}};return a.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:a.jsx(pt,{className:"w-6 h-6"})}),a.jsxs("button",{onClick:t,className:"absolute top-4 left-4 text-gray-400 hover:text-white flex items-center space-x-1",children:[a.jsx(cx,{className:"w-5 h-5"}),a.jsx("span",{children:"Back"})]}),a.jsxs("div",{className:"text-center mb-6 pt-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reset Your Password"}),a.jsx("p",{className:"text-gray-400",children:"Enter your email address and we'll send you instructions to reset your password."})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500",children:o}),u?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mb-6 p-4 bg-[#9FE64F]/10 border border-[#9FE64F] rounded-lg text-[#9FE64F]",children:"Check your email for password reset instructions."}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:"Close"})]}):a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsx("div",{children:a.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:h=>n(h.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",disabled:s,required:!0})}),a.jsx("button",{type:"submit",disabled:s||!r,className:"w-full bg-[#9FE64F] hover:bg-[#8FD63F] text-black font-medium py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:s?a.jsxs(a.Fragment,{children:[a.jsx(xe,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:"Sending..."})]}):a.jsx("span",{children:"Send Reset Instructions"})})]})]})})}const Ls=[{regex:/.{8,}/,text:"At least 8 characters long"},{regex:/[A-Z]/,text:"Contains at least one uppercase letter"},{regex:/[a-z]/,text:"Contains at least one lowercase letter"},{regex:/[0-9]/,text:"Contains at least one number"},{regex:/[^A-Za-z0-9]/,text:"Contains at least one special character"}],_n=60;function Jl({onClose:e,defaultMode:t="login"}){const[r,n]=y.useState(t),[s,i]=y.useState(""),[o,l]=y.useState(""),[u,c]=y.useState(""),[d,h]=y.useState(""),[p,v]=y.useState(!1),[x,_]=y.useState(!1),[w,m]=y.useState(!1),[f,g]=y.useState(!1),[k,j]=y.useState(null),[N,S]=y.useState(0),E=Ls.filter(R=>R.regex.test(u)).length,P=u===d;lr.useEffect(()=>{let R;return N>0&&(R=window.setInterval(()=>{S(V=>V-1)},1e3)),()=>{R&&clearInterval(R)}},[N]);const F=()=>r==="login"?!0:u.length<8?(j("Password must be at least 8 characters long"),!1):Ls.every(R=>R.regex.test(u))?u!==d?(j("Passwords do not match"),!1):!0:(j("Password does not meet all requirements"),!1),ie=async R=>{if(R.preventDefault(),j(null),!!F()){if(N>0){j(`Please wait ${N} seconds before trying again`);return}m(!0);try{r==="signup"?(await tx(o,u),n("check-email")):(await rx(s,u),e())}catch(V){V instanceof Error?V.message.includes("rate limit")||V.message.includes("Too many signup attempts")?(S(_n),j(`Too many attempts. Please wait ${_n} seconds before trying again.`)):j(V.message):j("Authentication failed")}finally{m(!1)}}},T=async()=>{if(N>0){j(`Please wait ${N} seconds before requesting another email`);return}g(!0),j(null);try{await $f(o,`${window.location.origin}/confirm?email=${encodeURIComponent(o)}`),S(_n)}catch(R){R instanceof Error?R.message.includes("rate limit")?(S(_n),j(`Too many attempts. Please wait ${_n} seconds before trying again.`)):j(R.message):j("Failed to resend confirmation email")}finally{g(!1)}};return r==="forgot-password"?a.jsx(Mx,{onClose:e,onBack:()=>n("login")}):r==="check-email"?a.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:a.jsx(pt,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#9FE64F]/20 rounded-full flex items-center justify-center mx-auto",children:a.jsx(Mf,{className:"w-6 h-6 text-[#9FE64F]"})}),a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Check Your Email"}),a.jsxs("p",{className:"text-gray-400",children:["We've sent a verification link to ",a.jsx("span",{className:"text-white",children:o}),". Please check your email and click the link to verify your account."]}),k&&a.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500 text-sm",children:k}),a.jsxs("div",{className:"pt-4 space-y-4",children:[a.jsx("button",{onClick:T,disabled:f||N>0,className:"text-[#9FE64F] hover:text-[#8FD63F] font-medium flex items-center justify-center space-x-2 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:f?a.jsxs(a.Fragment,{children:[a.jsx(xe,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:"Resending..."})]}):N>0?a.jsxs(a.Fragment,{children:[a.jsx(Ba,{className:"w-4 h-4"}),a.jsxs("span",{children:["Resend in ",N,"s"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ba,{className:"w-4 h-4"}),a.jsx("span",{children:"Resend verification email"})]})}),a.jsx("button",{onClick:()=>n("login"),className:"text-gray-400 hover:text-white",children:"Back to Sign In"})]})]})]})}):a.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:w,children:a.jsx(pt,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:r==="login"?"Welcome Back":"Create Account"}),a.jsx("p",{className:"text-gray-400",children:r==="login"?"Sign in to your Gamefolio account":"Join Gamefolio and start sharing your gaming moments"})]}),k&&a.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500",children:k}),a.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[r==="login"?a.jsx("div",{children:a.jsx("input",{type:"text",placeholder:"Email or Username",value:s,onChange:R=>i(R.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",disabled:w||N>0,required:!0})}):a.jsx("div",{children:a.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:R=>l(R.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",disabled:w||N>0,required:!0})}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:p?"text":"password",placeholder:"Password",value:u,onChange:R=>c(R.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",disabled:w||N>0,required:!0}),a.jsx("button",{type:"button",onClick:()=>v(!p),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:p?a.jsx(Pc,{className:"w-5 h-5"}):a.jsx(ji,{className:"w-5 h-5"})})]}),r==="signup"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:x?"text":"password",placeholder:"Confirm Password",value:d,onChange:R=>h(R.target.value),className:`w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F] ${d&&!P?"border-red-500":""}`,disabled:w||N>0,required:!0}),a.jsx("button",{type:"button",onClick:()=>_(!x),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:x?a.jsx(Pc,{className:"w-5 h-5"}):a.jsx(ji,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Password Requirements:"}),a.jsx("div",{className:"space-y-1",children:Ls.map((R,V)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:R.regex.test(u)?"text-green-500":"text-gray-500",children:R.regex.test(u)?"✓":"○"}),a.jsx("span",{className:`text-sm ${R.regex.test(u)?"text-green-500":"text-gray-400"}`,children:R.text})]},V))})]}),d&&!P&&a.jsx("p",{className:"text-sm text-red-500",children:"Passwords do not match"})]}),r==="login"&&a.jsx("div",{className:"text-right",children:a.jsx("button",{type:"button",onClick:()=>n("forgot-password"),className:"text-sm text-[#9FE64F] hover:text-[#8FD63F]",children:"Forgot password?"})}),a.jsx("button",{type:"submit",disabled:w||N>0||r==="signup"&&(!P||E<Ls.length),className:"w-full bg-[#9FE64F] hover:bg-[#8FD63F] text-black font-medium py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:w?a.jsxs(a.Fragment,{children:[a.jsx(xe,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:r==="login"?"Signing in...":"Creating account..."})]}):N>0?a.jsxs("span",{children:["Please wait ",N,"s"]}):a.jsx("span",{children:r==="login"?"Sign In":"Create Account"})})]}),a.jsx("p",{className:"text-gray-400 text-sm text-center mt-6",children:r==="login"?a.jsxs(a.Fragment,{children:["Don't have an account?"," ",a.jsx("button",{onClick:()=>{n("signup"),j(null),c(""),h("")},className:"text-[#9FE64F] hover:text-[#8FD63F] font-medium",disabled:w,children:"Sign up"})]}):a.jsxs(a.Fragment,{children:["Already have an account?"," ",a.jsx("button",{onClick:()=>{n("login"),j(null),c(""),h("")},className:"text-[#9FE64F] hover:text-[#8FD63F] font-medium",disabled:w,children:"Sign in"})]})})]})})}function zx({isOpen:e,onClose:t}){const[r,n]=y.useState([]),[s,i]=y.useState(!0),[o,l]=y.useState(null);y.useEffect(()=>{e&&u()},[e]);async function u(){try{i(!0),l(null);const{data:{user:d}}=await L.auth.getUser();if(!d)return;const{data:h,error:p}=await L.from("notifications").select(`
          *,
          actor:users_with_roles!actor_id (
            username,
            avatar_url
          )
        `).eq("user_id",d.id).order("created_at",{ascending:!1}).limit(20);if(p)throw p;if(n(h||[]),h&&h.length>0){const{error:v}=await L.from("notifications").update({read:!0}).eq("user_id",d.id).in("id",h.map(x=>x.id));v&&console.error("Error marking notifications as read:",v)}}catch(d){console.error("Error loading notifications:",d),l("Failed to load notifications")}finally{i(!1)}}const c=d=>{switch(d){case"like":return a.jsx(ql,{className:"w-4 h-4 text-[#9FE64F]"});case"comment":return a.jsx(eo,{className:"w-4 h-4 text-[#9FE64F]"});case"follow":return a.jsx(Px,{className:"w-4 h-4 text-[#9FE64F]"});case"mention":return a.jsx(dx,{className:"w-4 h-4 text-[#9FE64F]"});default:return a.jsx(px,{className:"w-4 h-4 text-[#9FE64F]"})}};return e?a.jsxs("div",{className:"absolute right-0 mt-2 w-[400px] bg-gray-900 rounded-lg shadow-lg border border-gray-800 overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-800",children:a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Notifications"})}),s?a.jsx("div",{className:"p-8 flex justify-center",children:a.jsx(xe,{className:"w-6 h-6 animate-spin text-[#9FE64F]"})}):o?a.jsxs("div",{className:"p-4 text-center text-red-500",children:[o,a.jsx("button",{onClick:u,className:"text-[#9FE64F] hover:text-[#8FD63F] block mx-auto mt-2",children:"Try Again"})]}):r.length===0?a.jsx("div",{className:"p-8 text-center text-gray-400",children:"No notifications yet"}):a.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:r.map(d=>{var h;return a.jsxs("div",{className:`p-4 hover:bg-gray-800 transition-colors flex items-start space-x-3 ${d.read?"":"bg-[#9FE64F]/5"}`,children:[a.jsx("div",{className:"flex-shrink-0",children:d.actor?a.jsx(Ue,{to:`/@${d.actor.username}`,children:a.jsx("img",{src:Ql({username:d.actor.username,avatar_url:d.actor.avatar_url}),alt:d.actor.username,className:"w-10 h-10 rounded-full"})}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-[#9FE64F]/20 flex items-center justify-center",children:c(d.type)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("p",{className:"text-sm text-white",children:[d.actor&&a.jsx(Ue,{to:`/@${d.actor.username}`,className:"font-medium hover:text-[#9FE64F]",children:d.actor.username})," ",d.message]}),a.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap ml-2",children:new Date(d.createdAt).toLocaleDateString()})]}),((h=d.data)==null?void 0:h.clipId)&&a.jsx(Ue,{to:`/clip/${d.data.clipId}`,className:"mt-2 text-sm text-gray-400 hover:text-[#9FE64F] block truncate",children:d.title})]})]},d.id)})})]}):null}function Bx(){const{session:e}=rr(),[t,r]=y.useState(!1),[n,s]=y.useState(!1),[i,o]=y.useState(!1),[l,u]=y.useState(!1),[c,d]=y.useState(0),[h,p]=y.useState(null),[v,x]=y.useState(null),_=y.useRef(null),w=y.useRef(null),m=tr();y.useEffect(()=>{function S(E){_.current&&!_.current.contains(E.target)&&r(!1),w.current&&!w.current.contains(E.target)&&u(!1)}return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),y.useEffect(()=>{if(e!=null&&e.user){f();const S=L.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.user.id}`},()=>{g()}).subscribe();return g(),()=>{L.removeChannel(S)}}},[e]);async function f(){if(e!=null&&e.user)try{const{data:S,error:E}=await L.from("user_profiles").select("username, avatar_url").eq("user_id",e.user.id).single();if(E)throw E;p((S==null?void 0:S.username)||null),x((S==null?void 0:S.avatar_url)||null)}catch(S){console.error("Error loading user profile:",S)}}async function g(){if(e!=null&&e.user)try{const{count:S,error:E}=await L.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",e.user.id).eq("read",!1);if(E)throw E;d(S||0)}catch(S){console.error("Error loading unread count:",S)}}const k=S=>{m(S),r(!1)},j=()=>{e?s(!0):o(!0)},N=async()=>{try{await nx(),r(!1),m("/")}catch(S){console.error("Error signing out:",S)}};return a.jsxs(a.Fragment,{children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 bg-black/95 border-b border-gray-800 z-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[a.jsxs(Ue,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[a.jsx("div",{className:"bg-[#9FE64F] w-8 h-8 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-black font-bold text-xl",children:"G"})}),a.jsx("span",{className:"text-white font-bold text-xl",children:"Gamefolio"})]}),a.jsx("div",{className:"flex-1 max-w-xs mx-8",children:a.jsxs("div",{className:"relative",children:[a.jsx(to,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search clips...",className:"w-full bg-gray-900 text-white pl-10 pr-4 py-2 rounded-full border border-gray-700 focus:outline-none focus:border-[#9FE64F]"})]})}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("button",{className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black font-medium px-4 py-2 rounded-full flex items-center space-x-2",onClick:j,children:[a.jsx(Hf,{className:"w-5 h-5"}),a.jsx("span",{children:"Upload"})]}),e?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",ref:w,children:[a.jsxs("button",{className:"text-gray-400 hover:text-white relative",onClick:()=>u(!l),children:[a.jsx(fx,{className:"w-6 h-6"}),c>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-[#9FE64F] text-black text-xs w-4 h-4 rounded-full flex items-center justify-center",children:c>9?"9+":c})]}),a.jsx(zx,{isOpen:l,onClose:()=>u(!1)})]}),a.jsxs("div",{className:"relative",ref:_,children:[a.jsx("button",{className:"w-8 h-8 rounded-full overflow-hidden ring-2 ring-transparent hover:ring-[#9FE64F] transition-all",onClick:()=>r(!t),children:a.jsx("img",{src:v||Ql({username:h||e.user.email||"user",avatar_url:null}),alt:"Profile",className:"w-full h-full object-cover"})}),t&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-gray-900 rounded-lg shadow-lg py-1 border border-gray-800",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-gray-800",children:[a.jsx("p",{className:"text-sm font-medium text-white",children:h||"Set up username"}),a.jsx("p",{className:"text-xs text-gray-400 truncate",children:e.user.email})]}),a.jsxs(Ue,{to:h?`/@${h}`:"/account",onClick:()=>r(!1),className:"w-full px-4 py-2 text-sm text-white hover:bg-gray-800 flex items-center space-x-2",children:[a.jsx(Kl,{className:"w-4 h-4"}),a.jsx("span",{children:"My Profile"})]}),a.jsxs("button",{onClick:()=>k("/account/settings"),className:"w-full px-4 py-2 text-sm text-white hover:bg-gray-800 flex items-center space-x-2",children:[a.jsx(zf,{className:"w-4 h-4"}),a.jsx("span",{children:"Settings"})]}),a.jsx("div",{className:"border-t border-gray-800 mt-1",children:a.jsxs("button",{onClick:N,className:"w-full px-4 py-2 text-sm text-red-400 hover:bg-gray-800 flex items-center space-x-2",children:[a.jsx(_x,{className:"w-4 h-4"}),a.jsx("span",{children:"Sign Out"})]})})]})]})]}):a.jsx("button",{onClick:()=>o(!0),className:"text-white hover:text-[#9FE64F]",children:"Sign In"})]})]})}),n&&a.jsx(Dx,{onClose:()=>s(!1)}),i&&a.jsx(Jl,{onClose:()=>o(!1)})]})}function Vx(){return a.jsx("div",{className:"fixed top-16 left-0 right-0 h-12 bg-gray-900 border-b border-gray-800 z-40",children:a.jsxs("div",{className:"max-w-7xl mx-auto h-full px-4 flex items-center space-x-6",children:[a.jsxs(Oa,{to:"/",className:({isActive:e})=>`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${e?"bg-[#9FE64F] text-black font-medium":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[a.jsx(Df,{className:"w-5 h-5"}),a.jsx("span",{children:"Home"})]}),a.jsxs(Oa,{to:"/explore",className:({isActive:e})=>`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${e?"bg-[#9FE64F] text-black font-medium":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[a.jsx(vx,{className:"w-5 h-5"}),a.jsx("span",{children:"Explore"})]})]})})}function Hx({clip:e,onClose:t}){const{session:r}=rr(),[n,s]=y.useState([]),[i,o]=y.useState(""),[l,u]=y.useState(!1),[c,d]=y.useState(e.likes),[h,p]=y.useState(!1),[v,x]=y.useState(!1),[_,w]=y.useState(null),[m,f]=y.useState(!1),g=P=>`https://api.dicebear.com/7.x/initials/svg?seed=${P}&backgroundColor=9FE64F&textColor=000000`;y.useEffect(()=>{k(),r&&j()},[e.id,r]),y.useEffect(()=>{const P=F=>{F.key==="Escape"&&t()};return window.addEventListener("keydown",P),()=>{window.removeEventListener("keydown",P)}},[t]);async function k(){try{const{data:P,error:F}=await L.from("comments").select(`
          id,
          content,
          created_at,
          users_with_roles!user_id (
            username,
            avatar_url
          )
        `).eq("clip_id",e.id).order("created_at",{ascending:!0});if(F)throw F;s(P||[])}catch(P){console.error("Error loading comments:",P)}}async function j(){if(r)try{const{data:P,error:F}=await L.from("likes").select("id").eq("clip_id",e.id).eq("user_id",r.user.id).maybeSingle();if(F&&F.code!=="PGRST116")throw F;u(!!P)}catch(P){console.error("Error checking like status:",P)}}async function N(){if(!r){x(!0);return}try{if(l){const{error:P}=await L.from("likes").delete().eq("clip_id",e.id).eq("user_id",r.user.id);if(P)throw P;u(!1),d(F=>F-1)}else{const{error:P}=await L.from("likes").insert({clip_id:e.id,user_id:r.user.id});if(P)throw P.message.includes("confirmed")?new Error("Please verify your email before liking clips"):P;u(!0),d(F=>F+1)}}catch(P){console.error("Error toggling like:",P),w(P instanceof Error?P.message:"Failed to like clip")}}async function S(P){if(P.preventDefault(),!r){x(!0);return}if(i.trim()){p(!0),w(null);try{const{error:F}=await L.from("comments").insert({clip_id:e.id,user_id:r.user.id,content:i.trim()});if(F)throw F.message.includes("confirmed")?new Error("Please verify your email before commenting"):F;o(""),k()}catch(F){console.error("Error posting comment:",F),w(F instanceof Error?F.message:"Failed to post comment")}finally{p(!1)}}}const E=async()=>{try{const P=`${window.location.origin}/@${e.username}/clips/${e.id}`;navigator.share?await navigator.share({title:e.title,text:`Check out this clip by ${e.username}`,url:P}):(await navigator.clipboard.writeText(P),f(!0),setTimeout(()=>f(!1),2e3));const{error:F}=await L.from("clips").update({shares:e.shares+1}).eq("id",e.id);if(F)throw F}catch(P){P instanceof Error&&P.name!=="AbortError"&&(console.error("Error sharing clip:",P),w("Failed to share clip"))}};return a.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-300",children:a.jsx(pt,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex w-full max-w-7xl h-[80vh] mx-4",children:[a.jsx("div",{className:"flex-1 bg-black",children:a.jsx("div",{className:"relative h-full",children:a.jsxs("video",{src:e.videoUrl,poster:e.thumbnail,controls:!0,autoPlay:!0,playsInline:!0,preload:"auto",className:"w-full h-full object-contain",children:[a.jsx("source",{src:e.videoUrl,type:"video/mp4"}),"Your browser does not support the video tag."]})})}),a.jsxs("div",{className:"w-[400px] bg-gray-900 flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-800",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx(Ue,{to:`/@${e.username}`,children:a.jsx("img",{src:e.userAvatar||g(e.username),alt:e.username,className:"w-10 h-10 rounded-full hover:ring-2 hover:ring-[#9FE64F] transition-all"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:e.title}),a.jsx(Ue,{to:`/@${e.username}`,className:"text-sm text-gray-400 hover:text-[#9FE64F] transition-colors",children:e.username})]})]}),a.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Playing ",e.game," • ",new Date(e.createdAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[_&&a.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500 text-sm mb-4",children:_}),n.map(P=>a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(Ue,{to:`/@${P.users_with_roles.username}`,children:a.jsx("img",{src:P.users_with_roles.avatar_url||g(P.users_with_roles.username),alt:P.users_with_roles.username,className:"w-8 h-8 rounded-full hover:ring-2 hover:ring-[#9FE64F] transition-all"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm",children:[a.jsx(Ue,{to:`/@${P.users_with_roles.username}`,className:"font-medium text-white hover:text-[#9FE64F] transition-colors",children:P.users_with_roles.username}),a.jsx("span",{className:"text-gray-400 ml-2",children:P.content})]}),a.jsx("div",{className:"flex items-center space-x-3 mt-1 text-xs text-gray-500",children:a.jsx("span",{children:new Date(P.created_at).toLocaleDateString()})})]})]},P.id))]}),a.jsxs("div",{className:"p-4 border-t border-gray-800",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:N,className:`flex items-center space-x-1 ${l?"text-[#9FE64F]":"text-white hover:text-gray-300"}`,children:[a.jsx(ql,{className:`w-6 h-6 ${l?"fill-current":""}`}),a.jsx("span",{children:c})]}),a.jsx("button",{className:"text-white hover:text-gray-300",children:a.jsx(eo,{className:"w-6 h-6"})}),a.jsxs("button",{onClick:E,className:"text-white hover:text-gray-300 relative",children:[a.jsx(Bf,{className:"w-6 h-6"}),m&&a.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1 bg-[#9FE64F] text-black text-sm rounded-full whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(wx,{className:"w-3 h-3"}),a.jsx("span",{children:"Link copied!"})]})})]})]})}),a.jsxs("form",{onSubmit:S,className:"flex items-center space-x-3",children:[a.jsx("input",{type:"text",value:i,onChange:P=>o(P.target.value),placeholder:"Add a comment...",className:"flex-1 bg-gray-800 text-white px-4 py-2 rounded-full text-sm focus:outline-none focus:ring-1 focus:ring-[#9FE64F]",disabled:h}),a.jsx("button",{type:"submit",disabled:h||!i.trim(),className:"text-[#9FE64F] hover:text-[#8FD63F] disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Sx,{className:"w-5 h-5"})})]})]})]})]}),v&&a.jsx(Jl,{onClose:()=>x(!1)})]})}function ro({clips:e}){const[t,r]=y.useState(null),n=s=>`https://api.dicebear.com/7.x/initials/svg?seed=${s}&backgroundColor=9FE64F&textColor=000000`;return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 px-4",children:e.map(s=>a.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"aspect-video relative group",children:[a.jsx("div",{className:"w-full h-full bg-gray-800",children:s.thumbnail?a.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover",loading:"eager",decoding:"async",fetchpriority:"high"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:a.jsx(Tc,{className:"w-12 h-12 text-gray-600"})})}),a.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsxs("button",{className:"bg-[#9FE64F] text-black px-6 py-3 rounded-full hover:bg-[#8FD63F] transition-colors flex items-center space-x-2",onClick:()=>r(s),children:[a.jsx(Tc,{className:"w-5 h-5"}),a.jsx("span",{children:"Watch Clip"})]})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx(Ue,{to:`/@${s.username}`,className:"flex-shrink-0",children:a.jsx("img",{src:s.userAvatar||n(s.username),alt:s.username,className:"w-8 h-8 rounded-full hover:ring-2 hover:ring-[#9FE64F] transition-all",loading:"eager",decoding:"async",width:"32",height:"32"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"font-medium text-white truncate",children:s.title}),a.jsx(Ue,{to:`/@${s.username}`,className:"text-sm text-gray-400 hover:text-[#9FE64F] transition-colors",children:s.username})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-gray-400 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{className:"flex items-center space-x-1 hover:text-white",children:[a.jsx(ql,{className:"w-4 h-4"}),a.jsx("span",{children:s.likes})]}),a.jsxs("button",{className:"flex items-center space-x-1 hover:text-white",children:[a.jsx(eo,{className:"w-4 h-4"}),a.jsx("span",{children:s.comments})]}),a.jsxs("button",{className:"flex items-center space-x-1 hover:text-white",children:[a.jsx(Bf,{className:"w-4 h-4"}),a.jsx("span",{children:s.shares})]})]}),a.jsx("span",{className:"text-xs truncate ml-2",children:s.game})]})]})]},s.id))}),t&&a.jsx(Hx,{clip:t,onClose:()=>r(null)})]})}function Wx(){const[e,t]=y.useState("day"),[r,n]=y.useState([]),[s,i]=y.useState(!0),[o,l]=y.useState(null),[u,c]=y.useState(0);y.useEffect(()=>{d()},[e,u]);async function d(){try{i(!0),l(null);const{data:v,error:x}=await L.from("clips_with_profiles").select(`
          id,
          user_id,
          title,
          game,
          video_url,
          thumbnail_url,
          likes,
          comments,
          shares,
          visibility,
          created_at,
          updated_at,
          username,
          avatar_url
        `).eq("visibility","public").order("created_at",{ascending:!1}).limit(12);if(x)throw x.code==="429"?new Error("Too many requests. Please try again in a few minutes."):x;if(!v){n([]);return}const _=v.map(w=>({id:w.id,userId:w.user_id,username:w.username||"Unknown User",userAvatar:w.avatar_url||p(w.username||"unknown"),title:w.title,videoUrl:w.video_url,thumbnail:w.thumbnail_url||"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=800",game:w.game,likes:w.likes||0,comments:w.comments||0,shares:w.shares||0,createdAt:w.created_at}));n(_)}catch(v){console.error("Error loading clips:",v),l(v instanceof Error?v.message:"Failed to load clips. Please try again.")}finally{i(!1)}}const h=()=>{c(v=>v+1)},p=v=>`https://api.dicebear.com/7.x/initials/svg?seed=${v}&backgroundColor=9FE64F&textColor=000000`;return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Top Clips"}),a.jsx("div",{className:"flex space-x-2",children:["day","week","month"].map(v=>a.jsx("button",{onClick:()=>t(v),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${e===v?"bg-[#9FE64F] text-black":"text-gray-400 hover:text-white"}`,children:v.charAt(0).toUpperCase()+v.slice(1)},v))})]}),s?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(xe,{className:"w-8 h-8 animate-spin text-[#9FE64F]"})}):o?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-red-500 mb-4",children:o}),a.jsxs("button",{onClick:h,className:"flex items-center space-x-2 mx-auto px-4 py-2 bg-[#9FE64F] text-black rounded-lg hover:bg-[#8FD63F] transition-colors",children:[a.jsx(jx,{className:"w-4 h-4"}),a.jsx("span",{children:"Try Again"})]})]}):r.length>0?a.jsx(ro,{clips:r}):a.jsx("div",{className:"text-center py-12 text-gray-400",children:a.jsx("p",{children:"No clips found. Be the first to upload!"})})]})}const As=["https://images.unsplash.com/photo-1542751371-adc38448a05e?w=400","https://images.unsplash.com/photo-1542751110-97427bbecf20?w=400","https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400"];function Gx(){const[e,t]=y.useState([]),[r,n]=y.useState(!0);y.useEffect(()=>{s()},[]);async function s(){try{n(!0);const{data:i,error:o}=await L.rpc("get_trending_games");if(o){const{data:u,error:c}=await L.from("clips").select("game").order("created_at",{ascending:!1});if(c)throw c;const d=u.reduce((p,v)=>(p[v.game]=(p[v.game]||0)+1,p),{}),h=Object.entries(d).sort(([,p],[,v])=>v-p).slice(0,4).map(([p,v],x)=>({id:x.toString(),name:p,thumbnail:As[x%As.length],activePlayers:Math.floor(Math.random()*2e5)+5e4,clipCount:v,trending:Math.floor(Math.random()*40)+10}));t(h);return}const l=i.map((u,c)=>({id:c.toString(),name:u.game,thumbnail:As[c%As.length],activePlayers:Math.floor(Math.random()*2e5)+5e4,clipCount:u.clip_count,trending:Math.floor(Math.random()*40)+10}));t(l)}catch(i){console.error("Error loading trending games:",i),t([])}finally{n(!1)}}return r?a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Trending Games"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(i=>a.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden animate-pulse",children:[a.jsx("div",{className:"aspect-video bg-gray-800"}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"h-4 bg-gray-800 rounded w-2/3 mb-3"}),a.jsx("div",{className:"h-4 bg-gray-800 rounded w-1/2"})]})]},i))})]}):e.length===0?a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Trending Games"}),a.jsx("div",{className:"text-center py-12 text-gray-400",children:a.jsx("p",{children:"No games found. Upload some clips to see trending games!"})})]}):a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Trending Games"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(i=>a.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden hover:ring-2 hover:ring-[#9FE64F] transition-all",children:[a.jsxs("div",{className:"aspect-video relative",children:[a.jsx("img",{src:i.thumbnail,alt:i.name,className:"w-full h-full object-cover"}),a.jsxs("div",{className:"absolute top-2 right-2 bg-[#9FE64F] text-black px-2 py-1 rounded-full text-sm font-medium flex items-center space-x-1",children:[a.jsx(Va,{className:"w-4 h-4"}),a.jsxs("span",{children:["+",i.trending,"%"]})]})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold text-white mb-3",children:i.name}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(bi,{className:"w-4 h-4"}),a.jsxs("span",{children:[(i.activePlayers/1e3).toFixed(1),"K"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Si,{className:"w-4 h-4"}),a.jsxs("span",{children:[(i.clipCount/1e3).toFixed(1),"K clips"]})]})]})]})]},i.id))})]})}function qx(){const{session:e}=rr(),[t,r]=lr.useState(!1);return a.jsxs("div",{className:"min-h-screen bg-black pt-20 pb-12",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[!e&&a.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 mb-12 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Welcome to Gamefolio"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Join our gaming community to share your best gaming moments and connect with other players."}),a.jsx("button",{onClick:()=>r(!0),className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-3 rounded-lg font-medium",children:"Get Started"})]}),a.jsxs("div",{className:"space-y-12",children:[a.jsx(Wx,{}),a.jsx(Gx,{})]})]}),t&&a.jsx(Jl,{onClose:()=>r(!1),defaultMode:"signup"})]})}const Rc=[{to:"/account",icon:Df,label:"My Gamefolio",end:!0},{to:"/account/leaderboard",icon:Si,label:"Leaderboard"},{to:"/account/profile",icon:Kl,label:"My Profile"},{to:"/account/settings",icon:zf,label:"Settings"}];function Kx(){const{session:e}=rr(),[t,r]=lr.useState(!1),[n,s]=lr.useState(!0),i=tr(),l=er().pathname==="/account";lr.useEffect(()=>{async function c(){if(!(e!=null&&e.user)){i("/");return}try{s(!0);const{data:d,error:h}=await L.from("user_roles").select("role").eq("user_id",e.user.id).single();h&&h.code!=="PGRST116"&&console.error("Error checking admin status:",h),r((d==null?void 0:d.role)==="admin")}catch(d){console.error("Error checking admin status:",d)}finally{s(!1)}}c()},[e,i]);const u=lr.useMemo(()=>t?[...Rc,{to:"/account/admin",icon:Vf,label:"Admin"}]:Rc,[t]);return a.jsxs("div",{className:"flex min-h-screen",children:[!l&&a.jsx("aside",{className:"w-64 bg-gray-900 border-r border-gray-800 fixed left-0 h-[calc(100vh-7rem)] top-28",children:a.jsx("nav",{className:"p-4",children:u.map(({to:c,icon:d,label:h,end:p})=>a.jsxs(Oa,{to:c,end:p,className:({isActive:v})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${v?"bg-[#9FE64F] text-black font-medium":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[a.jsx(d,{className:"w-5 h-5"}),a.jsx("span",{children:h})]},c))})}),a.jsx("main",{className:`flex-1 ${l?"":"ml-64"} p-8`,children:a.jsx(E0,{})})]})}function Qx({onClose:e}){return a.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:a.jsx(pt,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("img",{src:"https://i.imgur.com/YourLogoURL.png",alt:"Gamefolio",className:"h-12 w-auto mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Join Gamefolio"}),a.jsx("p",{className:"text-gray-400",children:"Want to build your own gaming portfolio? Sign up and start uploading your clips!"})]}),a.jsxs("form",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx("input",{type:"text",placeholder:"Username",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"})}),a.jsx("div",{children:a.jsx("input",{type:"email",placeholder:"Email",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"})}),a.jsx("div",{children:a.jsx("input",{type:"password",placeholder:"Password",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"})}),a.jsx("button",{type:"submit",className:"w-full bg-[#9FE64F] hover:bg-[#8FD63F] text-black font-medium py-3 rounded-lg transition-colors",children:"Sign Up"})]}),a.jsxs("p",{className:"text-gray-400 text-sm text-center mt-6",children:["Already have an account?"," ",a.jsx("button",{className:"text-[#9FE64F] hover:text-[#8FD63F] font-medium",children:"Log in"})]})]})})}const Io={kick:{icon:()=>a.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5 fill-current",children:a.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 5.524 4.477 10 10 10s10-4.476 10-10c0-5.523-4.477-10-10-10zm4.442 14.252l-3.37-3.37-2.137 2.138 3.369 3.369a1 1 0 01-1.414 1.414l-3.37-3.369-2.138 2.137a1 1 0 01-1.414-1.414l2.138-2.137-3.37-3.37a1 1 0 011.414-1.414l3.37 3.37 2.137-2.138-3.369-3.369a1 1 0 011.414-1.414l3.37 3.369 2.138-2.137a1 1 0 011.414 1.414l-2.138 2.137 3.37 3.37a1 1 0 01-1.414 1.414z"})}),baseUrl:"https://kick.com/",label:"Kick"},twitch:{icon:Nx,baseUrl:"https://twitch.tv/",label:"Twitch"},youtube:{icon:Fx,baseUrl:"https://youtube.com/",label:"YouTube"},twitter:{icon:Cx,baseUrl:"https://twitter.com/",label:"Twitter"},steam:{icon:bx,baseUrl:"https://steamcommunity.com/id/",label:"Steam"},playstation:{icon:Uo,baseUrl:"https://psnprofiles.com/",label:"PlayStation"},xbox:{icon:Uo,baseUrl:"https://account.xbox.com/profile?gamertag=",label:"Xbox"},nintendo:{icon:Uo,baseUrl:"#",label:"Nintendo"}};function Gf({user:e,isOwnProfile:t=!1}){const{session:r}=rr(),[n,s]=y.useState(!1),[i,o]=y.useState(!1),[l,u]=y.useState(e.bio),[c,d]=y.useState(e.socialLinks||{}),[h,p]=y.useState(!1),[v,x]=y.useState(null),_=()=>{s(!0)},w=async()=>{if(r){p(!0),x(null);try{const{error:f}=await L.from("user_profiles").update({bio:l,social_links:c}).eq("user_id",r.user.id);if(f)throw f;o(!1)}catch(f){console.error("Error updating profile:",f),x("Failed to update profile")}finally{p(!1)}}},m=async f=>{var k;const g=(k=f.target.files)==null?void 0:k[0];if(!(!g||!r)){p(!0),x(null);try{const j=g.name.split(".").pop(),N=`${r.user.id}/avatar.${j}`,{error:S}=await L.storage.from("avatars").upload(N,g,{upsert:!0});if(S)throw S;const{data:{publicUrl:E}}=L.storage.from("avatars").getPublicUrl(N),{error:P}=await L.from("user_profiles").update({avatar_url:E}).eq("user_id",r.user.id);if(P)throw P}catch(j){console.error("Error uploading avatar:",j),x("Failed to upload avatar")}finally{p(!1)}}};return a.jsxs("div",{className:"pt-20 pb-8 text-white",children:[a.jsxs("div",{className:"px-4",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-[#9FE64F]",children:a.jsx("img",{src:e.avatar||Ql({username:e.username,avatar_url:null}),alt:e.username,className:"w-full h-full object-cover"})}),t&&a.jsxs("label",{className:"absolute bottom-0 right-0 bg-[#9FE64F] p-2 rounded-full cursor-pointer hover:bg-[#8FD63F] transition-colors",children:[a.jsx(mx,{className:"w-5 h-5 text-black"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:m,disabled:h})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold",children:e.username}),a.jsx("div",{className:"flex items-center space-x-3",children:t?a.jsxs("button",{onClick:()=>o(!i),className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-full font-medium flex items-center space-x-2",disabled:h,children:[a.jsx(kx,{className:"w-4 h-4"}),a.jsx("span",{children:i?"Cancel":"Edit Profile"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:_,className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-full font-medium",children:"Follow"}),a.jsxs("button",{onClick:_,className:"border border-gray-600 hover:border-[#9FE64F] text-white px-6 py-2 rounded-full font-medium flex items-center space-x-2",children:[a.jsx(eo,{className:"w-4 h-4"}),a.jsx("span",{children:"Message"})]})]})})]}),i?a.jsxs("div",{className:"space-y-4",children:[a.jsx("textarea",{value:l,onChange:f=>u(f.target.value),placeholder:"Write something about yourself...",className:"w-full bg-gray-800 text-white p-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F] resize-none",rows:3}),v&&a.jsx("p",{className:"text-red-500 text-sm",children:v}),a.jsx("button",{onClick:w,disabled:h,className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-lg font-medium",children:h?"Saving...":"Save Changes"})]}):a.jsx("p",{className:"text-gray-400 mb-4",children:l}),a.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(bi,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:[e.followers.toLocaleString()," followers"]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(ux,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:[e.following.toLocaleString()," following"]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(ji,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:[e.views.toLocaleString()," views"]})]})]}),!i&&Object.entries(c).length>0&&a.jsx("div",{className:"mt-4 flex flex-wrap gap-3",children:Object.entries(c).map(([f,g])=>{if(!g||!Io[f])return null;const{icon:k,baseUrl:j,label:N}=Io[f];return a.jsxs("a",{href:`${j}${g}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-3 py-1 bg-gray-800 rounded-full text-sm hover:bg-[#9FE64F] hover:text-black transition-colors",children:[a.jsx(k,{className:"w-4 h-4"}),a.jsx("span",{children:N})]},f)})})]})]}),a.jsxs("div",{className:"mt-8 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Favorite Games"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.favoriteGames.map(f=>a.jsx("span",{className:"px-3 py-1 bg-gray-800 rounded-full text-sm hover:bg-[#9FE64F] hover:text-black transition-colors",children:f},f))})]}),i&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Gaming Profiles"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(Io).map(([f,{icon:g,label:k}])=>a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2 flex items-center space-x-2",children:[a.jsx(g,{className:"w-4 h-4"}),a.jsx("span",{children:k})]}),a.jsx("input",{type:"text",value:c[f]||"",onChange:j=>d({...c,[f]:j.target.value}),placeholder:`Your ${k} username`,className:"w-full bg-gray-800 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"})]},f))})]})]})]}),n&&a.jsx(Qx,{onClose:()=>s(!1)})]})}function Jx(){const{session:e}=rr(),[t,r]=y.useState("gamefolio"),[n,s]=y.useState([]),[i,o]=y.useState(!0),[l,u]=y.useState(null),[c,d]=y.useState(null);y.useEffect(()=>{e!=null&&e.user&&h()},[e]),y.useEffect(()=>{e!=null&&e.user&&p()},[t,e]);async function h(){try{const{data:x,error:_}=await L.from("users_with_roles").select("*").eq("id",e.user.id).single();if(_)throw _;d(x)}catch(x){console.error("Error loading user profile:",x)}}async function p(){if(e!=null&&e.user){o(!0),u(null);try{let x=L.from("clips_with_profiles").select(`
          id,
          user_id,
          title,
          game,
          video_url,
          thumbnail_url,
          likes,
          comments,
          shares,
          visibility,
          created_at,
          username,
          avatar_url
        `);if(t==="clips")x=x.eq("user_id",e.user.id).order("created_at",{ascending:!1});else if(t==="liked"){const{data:f,error:g}=await L.from("likes").select("clip_id").eq("user_id",e.user.id);if(g)throw g;const k=f.map(j=>j.clip_id);if(k.length===0){s([]);return}x=x.in("id",k).order("created_at",{ascending:!1})}const{data:_,error:w}=await x;if(w)throw w;const m=(_||[]).map(f=>({id:f.id,userId:f.user_id,username:f.username,userAvatar:f.avatar_url,title:f.title,videoUrl:f.video_url,thumbnail:f.thumbnail_url||"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=800",game:f.game,likes:f.likes||0,comments:f.comments||0,shares:f.shares||0,createdAt:f.created_at}));s(m)}catch(x){console.error("Error loading clips:",x),u("Failed to load clips")}finally{o(!1)}}}if(!c)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(xe,{className:"w-8 h-8 animate-spin text-[#9FE64F]"})});const v={id:c.id,username:c.username,avatar:c.avatar_url,bio:c.bio||"No bio yet",followers:c.followers||0,following:c.following||0,views:c.views||0,favoriteGames:c.favorite_games||[],socialLinks:c.social_links||{}};return a.jsxs("div",{children:[a.jsx(Gf,{user:v,isOwnProfile:!0}),a.jsxs("div",{className:"mt-8",children:[a.jsx("div",{className:"border-b border-gray-800 mb-8",children:a.jsxs("nav",{className:"flex space-x-8",children:[a.jsx("button",{onClick:()=>r("gamefolio"),className:`pb-4 ${t==="gamefolio"?"text-white border-b-2 border-[#9FE64F]":"text-gray-400 hover:text-white"}`,children:"My Gamefolio"}),a.jsx("button",{onClick:()=>r("clips"),className:`pb-4 ${t==="clips"?"text-white border-b-2 border-[#9FE64F]":"text-gray-400 hover:text-white"}`,children:"My Clips"}),a.jsx("button",{onClick:()=>r("liked"),className:`pb-4 ${t==="liked"?"text-white border-b-2 border-[#9FE64F]":"text-gray-400 hover:text-white"}`,children:"Liked"})]})}),i?a.jsx("div",{className:"text-center py-12",children:a.jsx(xe,{className:"w-8 h-8 animate-spin text-[#9FE64F] mx-auto"})}):l?a.jsxs("div",{className:"text-center py-12 text-red-500",children:[l,a.jsx("button",{onClick:p,className:"block mx-auto mt-4 text-[#9FE64F] hover:text-[#8FD63F]",children:"Try Again"})]}):n.length>0?a.jsx(ro,{clips:n}):a.jsx("div",{className:"text-center py-12 text-gray-400",children:t==="clips"?a.jsxs(a.Fragment,{children:[a.jsx("p",{children:"You haven't uploaded any clips yet."}),a.jsx("button",{className:"mt-4 bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-lg",children:"Upload Your First Clip"})]}):t==="liked"?a.jsxs(a.Fragment,{children:[a.jsx("p",{children:"You haven't liked any clips yet."}),a.jsx(Ue,{to:"/account/explore",className:"mt-4 inline-block bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-lg",children:"Explore Clips"})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{children:"Your Gamefolio is empty."}),a.jsx("button",{className:"mt-4 bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-lg",children:"Start Building Your Gamefolio"})]})})]})]})}function Yx(){return a.jsx("div",{children:a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Leaderboard"})})}function Xx(){return a.jsx("div",{children:a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Account Settings"})})}function Zx(){return a.jsx("div",{children:a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Settings"})})}function Oc(){var _;const[e,t]=y.useState(""),[r,n]=y.useState(null),[s,i]=y.useState([]),[o,l]=y.useState([]),[u,c]=y.useState(!0),[d,h]=y.useState(null),p=[{id:"fps",name:"FPS",icon:a.jsx(Si,{className:"w-4 h-4"}),games:["Valorant","Counter-Strike 2","Apex Legends","Call of Duty: Warzone","Rainbow Six Siege"]},{id:"moba",name:"MOBA",icon:a.jsx(Va,{className:"w-4 h-4"}),games:["League of Legends","Dota 2"]},{id:"battle-royale",name:"Battle Royale",icon:a.jsx(bi,{className:"w-4 h-4"}),games:["Fortnite","PUBG: BATTLEGROUNDS","Apex Legends"]},{id:"rpg",name:"RPG",icon:a.jsx($o,{className:"w-4 h-4"}),games:["Elden Ring","Baldur's Gate 3","Cyberpunk 2077","Starfield","Diablo IV"]}];y.useEffect(()=>{v()},[r,e]);async function v(){var w;try{c(!0),h(null);const{data:m,error:f}=await L.rpc("get_trending_games");if(f)throw f;const g=(m||[]).map((E,P)=>({name:E.game,clipCount:E.clip_count,activePlayers:Math.floor(Math.random()*2e5)+5e4,trending:Math.floor(Math.random()*40)+10,coverUrl:`https://images.unsplash.com/photo-${1550745165+P}?w=400`}));l(g);let k=L.from("clips_with_profiles").select("*").eq("visibility","public").order("created_at",{ascending:!1});if(r){const E=((w=p.find(P=>P.id===r))==null?void 0:w.games)||[];E.length>0&&(k=k.in("game",E))}e&&(k=k.ilike("game",`%${e}%`));const{data:j,error:N}=await k.limit(12);if(N)throw N;const S=(j||[]).map(E=>({id:E.id,userId:E.user_id,username:E.username,userAvatar:E.avatar_url||x(E.username),title:E.title,videoUrl:E.video_url,thumbnail:E.thumbnail_url||"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=800",game:E.game,likes:E.likes||0,comments:E.comments||0,shares:E.shares||0,createdAt:E.created_at}));i(S)}catch(m){console.error("Error loading explore data:",m),h(m instanceof Error?m.message:"Failed to load data")}finally{c(!1)}}const x=w=>`https://api.dicebear.com/7.x/initials/svg?seed=${w}&backgroundColor=9FE64F&textColor=000000`;return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col space-y-4",children:[a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(to,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",value:e,onChange:w=>t(w.target.value),placeholder:"Search games...",className:"w-full bg-gray-800 text-white pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"})]}),a.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[a.jsxs("button",{onClick:()=>n(null),className:`px-4 py-2 rounded-full whitespace-nowrap flex items-center space-x-2 ${r?"bg-gray-800 text-gray-400 hover:text-white":"bg-[#9FE64F] text-black"}`,children:[a.jsx($o,{className:"w-4 h-4"}),a.jsx("span",{children:"All Games"})]}),p.map(w=>a.jsxs("button",{onClick:()=>n(w.id),className:`px-4 py-2 rounded-full whitespace-nowrap flex items-center space-x-2 ${r===w.id?"bg-[#9FE64F] text-black":"bg-gray-800 text-gray-400 hover:text-white"}`,children:[w.icon,a.jsx("span",{children:w.name})]},w.id))]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Top Games"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:o.map(w=>a.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden hover:ring-2 hover:ring-[#9FE64F] transition-all",children:[a.jsxs("div",{className:"aspect-video relative",children:[a.jsx("img",{src:w.coverUrl,alt:w.name,className:"w-full h-full object-cover"}),a.jsxs("div",{className:"absolute top-2 right-2 bg-[#9FE64F] text-black px-2 py-1 rounded-full text-sm font-medium flex items-center space-x-1",children:[a.jsx(Va,{className:"w-4 h-4"}),a.jsxs("span",{children:["+",w.trending,"%"]})]})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold text-white mb-3",children:w.name}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(bi,{className:"w-4 h-4"}),a.jsxs("span",{children:[(w.activePlayers/1e3).toFixed(1),"K"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Si,{className:"w-4 h-4"}),a.jsxs("span",{children:[(w.clipCount/1e3).toFixed(1),"K clips"]})]})]})]})]},w.name))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:r?`Top ${(_=p.find(w=>w.id===r))==null?void 0:_.name} Clips`:e?"Search Results":"Top Clips"}),u?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-[#9FE64F] border-t-transparent rounded-full"})}):d?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-red-500",children:d}),a.jsx("button",{onClick:v,className:"mt-4 text-[#9FE64F] hover:text-[#8FD63F]",children:"Try Again"})]}):s.length>0?a.jsx(ro,{clips:s}):a.jsxs("div",{className:"text-center py-12 text-gray-400",children:[a.jsx($o,{className:"w-12 h-12 mx-auto mb-4"}),a.jsx("p",{children:"No clips found. Try a different search or category!"})]})]})]})}async function ew(e){try{const{data:t,error:r}=await L.from("user_roles").select("role").eq("user_id",e).single();if(r&&r.code!=="PGRST116")throw r;return(t==null?void 0:t.role)==="admin"}catch(t){return console.error("Error checking admin status:",t),!1}}function tw(){const e=tr(),[t,r]=y.useState(!0),[n,s]=y.useState(!1),[i,o]=y.useState([]),[l,u]=y.useState([]),[c,d]=y.useState("users"),[h,p]=y.useState({}),[v,x]=y.useState(null),[_,w]=y.useState({}),[m,f]=y.useState(null);y.useEffect(()=>{g()},[]),y.useEffect(()=>{n&&(c==="users"?k():j())},[n,c]);async function g(){try{r(!0);const{data:{user:T}}=await L.auth.getUser();if(!T){e("/");return}if(!await ew(T.id)){console.log("User is not an admin, redirecting"),e("/account");return}s(!0)}catch(T){console.error("Error checking admin status:",T),e("/account")}finally{r(!1)}}async function k(){try{x(null);const{data:T,error:R}=await L.from("users_with_roles").select("*").order("created_at",{ascending:!1});if(R)throw R;o(T||[])}catch(T){console.error("Error loading users:",T),x("Failed to load users")}}async function j(){try{x(null);const{data:T,error:R}=await L.from("clips").select(`
          id,
          title,
          game,
          created_at,
          thumbnail_url,
          video_url,
          user_profiles (username)
        `).order("created_at",{ascending:!1});if(R)throw R;u(T||[])}catch(T){console.error("Error loading clips:",T),x("Failed to load clips")}}async function N(T){try{w(b=>({...b,[T]:!0})),x(null);const R=i.filter(b=>b.role==="admin");if(R.length===1&&R[0].id===T)throw new Error("Cannot delete the last admin user");const{error:Be}=await L.from("user_roles").delete().eq("user_id",T);if(Be)throw Be;const{error:Oe}=await L.from("user_profiles").delete().eq("user_id",T);if(Oe)throw Oe;const{error:I}=await L.from("user_profiles").update({banned:!0,deleted_at:new Date().toISOString()}).eq("user_id",T);if(I)throw I;o(i.filter(b=>b.id!==T)),f(null)}catch(R){console.error("Error deleting user:",R),x(R instanceof Error?R.message:"Failed to delete user")}finally{w(R=>({...R,[T]:!1}))}}async function S(T,R){try{const V=R==="admin"?"user":"admin";if(V==="user"&&i.filter(I=>I.role==="admin").length<=1){x("Cannot remove the last admin user");return}const{error:Be}=await L.from("user_roles").upsert({user_id:T,role:V});if(Be)throw Be;o(i.map(Oe=>Oe.id===T?{...Oe,role:V}:Oe))}catch(V){console.error("Error updating user role:",V),x("Failed to update user role")}}async function E(T,R){if(confirm(R?"Are you sure you want to unban this user?":"Are you sure you want to ban this user?"))try{const{error:V}=await L.from("user_profiles").update({banned:!R}).eq("user_id",T);if(V)throw V;k()}catch(V){console.error("Error toggling user ban:",V),x("Failed to update user ban status")}}async function P(T){if(confirm("Are you sure you want to reset this user's onboarding status?"))try{const{error:R}=await L.from("user_profiles").update({onboarding_completed:!1,favorite_games:[]}).eq("user_id",T);if(R)throw R;k()}catch(R){console.error("Error resetting onboarding:",R),x("Failed to reset onboarding status")}}async function F(T,R){try{p(Be=>({...Be,[T]:!0}));const{error:V}=await L.auth.resetPasswordForEmail(R,{redirectTo:`${window.location.origin}/reset-password`});if(V)throw V;alert("Password reset email sent successfully")}catch(V){console.error("Error sending password reset:",V),x("Failed to send password reset email")}finally{p(V=>({...V,[T]:!1}))}}async function ie(T){if(confirm("Are you sure you want to delete this clip?"))try{const{error:R}=await L.from("clips").delete().eq("id",T);if(R)throw R;j()}catch(R){console.error("Error deleting clip:",R),x("Failed to delete clip")}}return t?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(xe,{className:"w-8 h-8 animate-spin text-[#9FE64F]"})}):n?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>d("users"),className:`px-4 py-2 rounded-lg ${c==="users"?"bg-[#9FE64F] text-black":"text-gray-400 hover:text-white"}`,children:"Users"}),a.jsx("button",{onClick:()=>d("clips"),className:`px-4 py-2 rounded-lg ${c==="clips"?"bg-[#9FE64F] text-black":"text-gray-400 hover:text-white"}`,children:"Clips"})]})]}),v&&a.jsxs("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-4 text-red-500",children:[v,a.jsx("button",{onClick:()=>{x(null),c==="users"?k():j()},className:"ml-2 text-white hover:text-red-300",children:"Retry"})]}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg max-w-md w-full",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Confirm User Deletion"}),a.jsxs("div",{className:"text-gray-400 mb-6",children:[a.jsx("p",{children:"Are you sure you want to delete this user? This action cannot be undone and will remove:"}),a.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-1",children:[a.jsx("li",{children:"User account and authentication data"}),a.jsx("li",{children:"Profile information"}),a.jsx("li",{children:"All uploaded clips and content"}),a.jsx("li",{children:"Comments and interactions"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 text-gray-400 hover:text-white",children:"Cancel"}),a.jsx("button",{onClick:()=>N(m),className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Delete User"})]})]})}),c==="users"?a.jsx("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-800",children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Joined"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-800",children:i.map(T=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("img",{className:"h-10 w-10 rounded-full",src:T.avatar_url||`https://api.dicebear.com/7.x/bottts/svg?seed=${T.username||T.email}`,alt:""})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-white",children:T.username||"No username"}),a.jsx("div",{className:"text-sm text-gray-400",children:T.email})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T.role==="admin"?"bg-[#9FE64F]/20 text-[#9FE64F]":"bg-gray-700 text-gray-300"}`,children:T.role||"user"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T.banned?"bg-red-500/20 text-red-500":"bg-green-500/20 text-green-500"}`,children:T.banned?"Banned":"Active"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:new Date(T.created_at).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-3",children:[a.jsx("button",{onClick:()=>S(T.id,T.role),className:"text-[#9FE64F] hover:text-[#8FD63F]",title:T.role==="admin"?"Remove admin":"Make admin",children:a.jsx(Vf,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>E(T.id,!!T.banned),className:T.banned?"text-green-500 hover:text-green-400":"text-red-500 hover:text-red-400",title:T.banned?"Unban user":"Ban user",children:T.banned?a.jsx(gx,{className:"w-5 h-5"}):a.jsx(hx,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>F(T.id,T.email),disabled:h[T.id],className:"text-gray-400 hover:text-white disabled:opacity-50",title:"Send password reset email",children:h[T.id]?a.jsx(xe,{className:"w-5 h-5 animate-spin"}):a.jsx(Mf,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>P(T.id),className:"text-gray-400 hover:text-white",title:"Reset onboarding",children:a.jsx(Ba,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>f(T.id),disabled:_[T.id]||T.role==="admin",className:"text-red-500 hover:text-red-400 disabled:opacity-50 disabled:cursor-not-allowed",title:T.role==="admin"?"Cannot delete admin users":"Delete user",children:_[T.id]?a.jsx(xe,{className:"w-5 h-5 animate-spin"}):a.jsx(Ex,{className:"w-5 h-5"})})]})]},T.id))})]})})}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(T=>a.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"aspect-video relative group",children:[a.jsx("img",{src:T.thumbnail_url||"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=800",alt:T.title,className:"w-full h-full object-cover"}),a.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center space-x-4",children:[a.jsx("a",{href:T.video_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-[#9FE64F] text-black rounded-full hover:bg-[#8FD63F]",children:a.jsx(ji,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>ie(T.id),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600",children:a.jsx(Tx,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-medium text-white mb-1",children:T.title}),a.jsxs("p",{className:"text-sm text-gray-400",children:["by ",T.user_profiles.username," • ",T.game]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(T.created_at).toLocaleDateString()})]})]},T.id))})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[a.jsx(If,{className:"w-16 h-16 text-red-500 mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"You don't have permission to access the admin panel."}),a.jsx("button",{onClick:()=>e("/account"),className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-lg",children:"Back to Account"})]})}function rw(){const{username:e}=c0(),t=tr(),[r,n]=y.useState(null),[s,i]=y.useState([]),[o,l]=y.useState(!0),[u,c]=y.useState(null);return y.useEffect(()=>{async function d(){if(e)try{const{data:h,error:p}=await L.from("users_with_roles").select(`
            id,
            username,
            avatar_url,
            bio,
            favorite_games,
            followers,
            following,
            views,
            social_links,
            onboarding_completed,
            banned
          `).eq("username",e).single();if(p)throw p;if(!h)throw new Error("User not found");n({id:h.id,username:h.username,avatar:h.avatar_url||null,bio:h.bio||"No bio yet",followers:h.followers||0,following:h.following||0,views:h.views||0,favoriteGames:h.favorite_games||[],socialLinks:h.social_links||{}});const{data:v,error:x}=await L.from("clips_with_profiles").select(`
            id,
            user_id,
            title,
            game,
            video_url,
            thumbnail_url,
            likes,
            comments,
            shares,
            visibility,
            created_at,
            username,
            avatar_url
          `).eq("user_id",h.id).eq("visibility","public").order("created_at",{ascending:!1});if(x)throw x;const _=(v||[]).map(w=>({id:w.id,userId:w.user_id,username:w.username,userAvatar:w.avatar_url,title:w.title,videoUrl:w.video_url,thumbnail:w.thumbnail_url||"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=800",game:w.game,likes:w.likes||0,comments:w.comments||0,shares:w.shares||0,createdAt:w.created_at}));i(_),document.title=`${h.username} - Gamefolio`}catch(h){console.error("Error loading user profile:",h),c("User not found"),t("/404")}finally{l(!1)}}d()},[e,t]),o?a.jsx("div",{className:"min-h-screen bg-black pt-20 flex items-center justify-center",children:a.jsx(xe,{className:"w-8 h-8 animate-spin text-[#9FE64F]"})}):u||!r?a.jsx("div",{className:"min-h-screen bg-black pt-20 text-center",children:a.jsx("p",{className:"text-red-500",children:u||"User not found"})}):a.jsxs("div",{className:"min-h-screen bg-black",children:[a.jsx(Gf,{user:r}),a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"mt-8",children:[a.jsx("div",{className:"border-b border-gray-800 mb-8",children:a.jsxs("nav",{className:"flex space-x-8",children:[a.jsx("button",{className:"text-white border-b-2 border-[#9FE64F] pb-4",children:"Clips"}),a.jsx("button",{className:"text-gray-400 hover:text-white pb-4",children:"Gaming Stats"}),a.jsx("button",{className:"text-gray-400 hover:text-white pb-4",children:"About"})]})}),a.jsx(ro,{clips:s})]})})]})}function nw({onComplete:e}){const t=tr(),[r,n]=y.useState([]),[s,i]=y.useState(""),[o,l]=y.useState([]),[u,c]=y.useState([]),[d,h]=y.useState(!1),[p,v]=y.useState(!1),[x,_]=y.useState(null),[w,m]=y.useState(null);y.useEffect(()=>{async function S(){try{const E=await Ux(30);c(E)}catch(E){console.error("Error loading top games:",E),m("Could not load top games. Using fallback list."),c($x())}}S()},[]),y.useEffect(()=>{const E=setTimeout(async()=>{if(!s.trim()){l([]);return}v(!0),m(null);try{const P=await Wf(s);l(P)}catch(P){console.error("Error searching games:",P),m("Game search failed. Try a different search term."),l([])}finally{v(!1)}},300);return()=>clearTimeout(E)},[s]);const f=s?u.filter(S=>S.name.toLowerCase().includes(s.toLowerCase())):u,g=s&&o.length>0?o:f,k=S=>{r.includes(S)?n(r.filter(E=>E!==S)):r.length<5&&n([...r,S])},j=async()=>{if(r.length<5){_("Please select 5 games");return}h(!0),_(null);try{const{data:{user:S}}=await L.auth.getUser();if(!S)throw new Error("No user found");const{error:E}=await L.from("user_profiles").update({favorite_games:r,onboarding_completed:!0}).eq("user_id",S.id);if(E)throw E;await L.rpc("create_activity_log",{p_user_id:S.id,p_action_type:"complete_onboarding",p_resource_type:"profile",p_resource_id:S.id,p_details:{favorite_games:r}}),e(),t("/account")}catch(S){console.error("Error completing onboarding:",S),_("Failed to complete onboarding. Please try again.")}finally{h(!1)}},N=()=>{i(""),l([]),m(null)};return a.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-2xl w-full p-6 relative",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Select Your Favorite Games"}),a.jsx("p",{className:"text-gray-400",children:"Choose 5 games you love to play or watch"})]}),x&&a.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500",children:x}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(to,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search games...",value:s,onChange:S=>i(S.target.value),className:"w-full bg-gray-800 text-white pl-10 pr-10 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]"}),s&&a.jsx("button",{onClick:N,className:"absolute right-3 top-2.5 text-gray-400 hover:text-white",children:a.jsx(pt,{className:"h-5 w-5"})})]}),p&&a.jsx("div",{className:"flex justify-center py-2",children:a.jsx(xe,{className:"w-6 h-6 animate-spin text-[#9FE64F]"})}),w&&a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-amber-400 bg-amber-400/10 p-2 rounded-lg",children:[a.jsx(If,{className:"w-4 h-4"}),a.jsx("span",{children:w})]}),a.jsx("div",{className:"flex flex-wrap gap-2 max-h-60 overflow-y-auto p-2",children:g.length>0?g.map(S=>a.jsx("button",{onClick:()=>k(S.name),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${r.includes(S.name)?"bg-[#9FE64F] text-black":"bg-gray-800 text-gray-400 hover:text-white"}`,disabled:r.length>=5&&!r.includes(S.name),children:S.name},S.id)):p?a.jsx("div",{className:"w-full text-center py-4 text-gray-400",children:"Searching..."}):a.jsx("div",{className:"w-full text-center py-4 text-gray-400",children:s?"No games found. Try a different search term.":"Loading games..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-400",children:["Selected ",r.length,"/5 games"]}),r.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(S=>a.jsxs("div",{className:"bg-[#9FE64F]/20 text-[#9FE64F] px-3 py-1 rounded-full text-sm flex items-center",children:[S,a.jsx("button",{onClick:()=>k(S),className:"ml-2 hover:text-white",children:a.jsx(pt,{className:"w-3 h-3"})})]},S))})]})]}),a.jsx("div",{className:"mt-8 flex justify-end",children:a.jsx("button",{onClick:j,disabled:d||r.length<5,className:"bg-[#9FE64F] hover:bg-[#8FD63F] text-black px-6 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:d?a.jsxs(a.Fragment,{children:[a.jsx(xe,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:"Saving..."})]}):a.jsx("span",{children:"Complete"})})})]})})}function sw({onComplete:e}){tr();const[t,r]=y.useState(""),[n,s]=y.useState(!1),[i,o]=y.useState(null),[l,u]=y.useState(!1),[c,d]=y.useState(!1),h=v=>/^[a-zA-Z][a-zA-Z0-9_]{2,29}$/.test(v);y.useEffect(()=>{const x=setTimeout(async()=>{const _=t.trim();if(!_){u(!1),o(null);return}if(!h(_)){u(!1),o("Username must start with a letter and can only contain letters, numbers, and underscores");return}d(!0),o(null);try{const{count:w,error:m}=await L.from("user_profiles").select("*",{count:"exact",head:!0}).ilike("username",_);if(m)throw m;u(w===0),w>0?o("Username is already taken"):o(null)}catch(w){console.error("Error checking username:",w),o("Error checking username availability")}finally{d(!1)}},500);return()=>clearTimeout(x)},[t]);const p=async v=>{v.preventDefault();const x=t.trim();if(!x){o("Username is required");return}if(!h(x)){o("Username must start with a letter and can only contain letters, numbers, and underscores");return}if(!l){o("Username is not available");return}s(!0),o(null);try{const{data:{user:_}}=await L.auth.getUser();if(!_)throw new Error("No user found");const{data:w,error:m}=await L.from("user_profiles").select("username").eq("user_id",_.id).single();if(m)throw console.error("Profile fetch error:",m),new Error("Failed to fetch current profile");const{error:f}=await L.from("user_profiles").update({username:x}).eq("user_id",_.id);if(f)throw console.error("Update error:",f),new Error(f.message||"Failed to set username");e()}catch(_){console.error("Error setting username:",_),o(_ instanceof Error?_.message:"Failed to set username")}finally{s(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-md w-full p-6 relative",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Your Username"}),a.jsx("p",{className:"text-gray-400",children:"This will be your unique identifier in the community"})]}),i&&a.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500",children:i}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:t,onChange:v=>r(v.target.value),placeholder:"Enter username",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9FE64F]",disabled:n,required:!0}),t.length>=3&&a.jsx("div",{className:"absolute right-3 top-3",children:c?a.jsx(xe,{className:"w-6 h-6 animate-spin text-gray-400"}):l?a.jsx("span",{className:"text-green-500",children:"✓"}):a.jsx(pt,{className:"w-6 h-6 text-red-500"})})]}),a.jsxs("div",{className:"text-sm text-gray-400 space-y-2",children:[a.jsx("p",{children:"Username requirements:"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[a.jsx("li",{children:"Must be between 3 and 30 characters"}),a.jsx("li",{children:"Must start with a letter"}),a.jsx("li",{children:"Can only contain letters, numbers, and underscores"}),a.jsx("li",{children:"Cannot contain spaces or special characters"})]})]}),a.jsx("button",{type:"submit",disabled:n||!t||!l,className:"w-full bg-[#9FE64F] hover:bg-[#8FD63F] text-black font-medium py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:n?a.jsxs(a.Fragment,{children:[a.jsx(xe,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:"Setting username..."})]}):a.jsx("span",{children:"Set Username"})})]})]})})}function iw(){const e=er();return rr(),y.useEffect(()=>{let t="Gamefolio";const r=e.pathname;r==="/"?t="Gamefolio - Share Your Gaming Moments":r==="/explore"?t="Explore - Gamefolio":r.startsWith("/account")?r==="/account"?t="My Gamefolio":r==="/account/leaderboard"?t="Leaderboard - Gamefolio":r==="/account/profile"?t="Profile - Gamefolio":r==="/account/settings"?t="Settings - Gamefolio":r==="/account/explore"?t="Explore - Gamefolio":r==="/account/admin"&&(t="Admin Dashboard - Gamefolio"):r.startsWith("/@")&&(t=`${r.slice(2)} - Gamefolio`),document.title=t},[e]),null}function ow({children:e}){const{session:t}=rr(),[r,n]=y.useState(null),[s,i]=y.useState(!0),[o,l]=y.useState(!1),[u,c]=y.useState(!1);return y.useEffect(()=>{async function d(){if(!(t!=null&&t.user)){i(!1);return}try{const{data:h,error:p}=await L.from("user_profiles").select("*").eq("user_id",t.user.id).single();if(p)throw p;n(h);const v=!h.username||h.username.startsWith("user_"),x=!h.onboarding_completed||!h.favorite_games||h.favorite_games.length<5;v?(c(!0),l(!1)):x?(l(!0),c(!1)):(l(!1),c(!1))}catch(h){console.error("Error loading profile:",h)}finally{i(!1)}}d()},[t]),s?null:t?u?a.jsx(sw,{onComplete:()=>{c(!1),r&&(!r.onboarding_completed||!r.favorite_games||r.favorite_games.length<5)&&l(!0)}}):o?a.jsx(nw,{onComplete:()=>l(!1)}):a.jsx(a.Fragment,{children:e}):a.jsx(b0,{to:"/"})}function aw(){return a.jsx(ox,{children:a.jsxs($0,{children:[a.jsx(iw,{}),a.jsxs("div",{className:"min-h-screen bg-black text-white",children:[a.jsx(Bx,{}),a.jsx(Vx,{}),a.jsx("div",{className:"pt-28",children:a.jsxs(C0,{children:[a.jsx(Ze,{path:"/",element:a.jsx(qx,{})}),a.jsx(Ze,{path:"/explore",element:a.jsx(Oc,{})}),a.jsx(Ze,{path:"/@:username",element:a.jsx(rw,{})}),a.jsxs(Ze,{path:"/account/*",element:a.jsx(ow,{children:a.jsx(Kx,{})}),children:[a.jsx(Ze,{index:!0,element:a.jsx(Jx,{})}),a.jsx(Ze,{path:"leaderboard",element:a.jsx(Yx,{})}),a.jsx(Ze,{path:"profile",element:a.jsx(Xx,{})}),a.jsx(Ze,{path:"settings",element:a.jsx(Zx,{})}),a.jsx(Ze,{path:"explore",element:a.jsx(Oc,{})}),a.jsx(Ze,{path:"admin",element:a.jsx(tw,{})})]})]})})]})]})})}Bi.init({publicKey:"FtrYgNxdMshCmw506"});Gh(document.getElementById("root")).render(a.jsx(y.StrictMode,{children:a.jsx(aw,{})}));export{Kf as g};
